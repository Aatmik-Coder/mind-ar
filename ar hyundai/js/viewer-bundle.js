!function (e, t) { "object" == typeof exports && "undefined" != typeof module ? t(exports) : "function" == typeof define && define.amd ? define(["exports"], t) : t((e = "undefined" != typeof globalThis ? globalThis : e || self).WEBAR = {}) }(this, (function (e) { "use strict"; const t = "04052021"; function r(e, t) { var n = Object.keys(e); if (Object.getOwnPropertySymbols) { var r = Object.getOwnPropertySymbols(e); t && (r = r.filter((function (t) { return Object.getOwnPropertyDescriptor(e, t).enumerable }))), n.push.apply(n, r) } return n } function o(e) { for (var t = 1; t < arguments.length; t++) { var n = null != arguments[t] ? arguments[t] : {}; t % 2 ? r(Object(n), !0).forEach((function (t) { c(e, t, n[t]) })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : r(Object(n)).forEach((function (t) { Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t)) })) } return e } function i(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") } function a(e, t) { for (var n = 0; n < t.length; n++) { var r = t[n]; r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r) } } function s(e, t, n) { return t && a(e.prototype, t), n && a(e, n), Object.defineProperty(e, "prototype", { writable: !1 }), e } function c(e, t, n) { return t in e ? Object.defineProperty(e, t, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = n, e } function l(e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function"); e.prototype = Object.create(t && t.prototype, { constructor: { value: e, writable: !0, configurable: !0 } }), Object.defineProperty(e, "prototype", { writable: !1 }), t && d(e, t) } function u(e) { return u = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (e) { return e.__proto__ || Object.getPrototypeOf(e) }, u(e) } function d(e, t) { return d = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (e, t) { return e.__proto__ = t, e }, d(e, t) } function h(e, t) { if (t && ("object" == typeof t || "function" == typeof t)) return t; if (void 0 !== t) throw new TypeError("Derived constructors may only return object or undefined"); return function (e) { if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return e }(e) } function f(e) { var t = function () { if ("undefined" == typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" == typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], (function () { }))), !0 } catch (e) { return !1 } }(); return function () { var n, r = u(e); if (t) { var o = u(this).constructor; n = Reflect.construct(r, arguments, o) } else n = r.apply(this, arguments); return h(this, n) } } function p(e, t) { for (; !Object.prototype.hasOwnProperty.call(e, t) && null !== (e = u(e));); return e } function _() { return _ = "undefined" != typeof Reflect && Reflect.get ? Reflect.get.bind() : function (e, t, n) { var r = p(e, t); if (r) { var o = Object.getOwnPropertyDescriptor(r, t); return o.get ? o.get.call(arguments.length < 3 ? e : n) : o.value } }, _.apply(this, arguments) } function v(e) { return function (e) { if (Array.isArray(e)) return m(e) }(e) || function (e) { if ("undefined" != typeof Symbol && null != e[Symbol.iterator] || null != e["@@iterator"]) return Array.from(e) }(e) || function (e, t) { if (e) { if ("string" == typeof e) return m(e, t); var n = Object.prototype.toString.call(e).slice(8, -1); return "Object" === n && e.constructor && (n = e.constructor.name), "Map" === n || "Set" === n ? Array.from(e) : "Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? m(e, t) : void 0 } }(e) || function () { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") }() } function m(e, t) { (null == t || t > e.length) && (t = e.length); for (var n = 0, r = new Array(t); n < t; n++)r[n] = e[n]; return r } let g = function () { function e(t = !0) { i(this, e), this.controller = null, this.check_accelerometer = t; const n = this.user_agent = window.navigator.userAgent; this.is_facebook = /\bFB(_IAB|AV|AN|IOS)\b/.test(n), this.is_samsung_internet = /(SamsungBrowser)/.test(n), this.is_chrome = /Chrome/.test(n) && /Google Inc/.test(window.navigator.vendor) && !/OPR/.test(n), this.is_opera = /(OPR|Opera)/.test(n) && !/Opera Mini/.test(n), this.is_wechat = /MicroMessenger/.test(n), this.is_android = /Android/.test(n), this.is_ios = /(iPad|iPod|iPhone)/.test(n), this.is_ioschrome = /CriOS/.test(n), this.is_iosfirefox = /FxiOS/.test(n), this.is_iosfacebook = /\bFBIOS\b/.test(n), this.is_iosopera = /OPT/.test(n), this.is_safari = /^((?!chrome|android).)*safari/i.test(n) || this.is_iosfacebook, this.is_https = "https:" === window.location.protocol, this.has_mediadevices = !(!navigator.mediaDevices || !navigator.mediaDevices.enumerateDevices), this.has_videoinput = void 0, this.is_need_separate_audio_from_video = this.is_safari || this.is_ios, this.is_safari_devicemotion_allowed = !(window.DeviceMotionEvent && "function" == typeof window.DeviceMotionEvent.requestPermission), this.safari_devicemotion_allow_promise = void 0, this.is_safari_deviceorientation_allowed = !(window.DeviceOrientationEvent && "function" == typeof window.DeviceOrientationEvent.requestPermission), this.safari_deviceorientation_allow_promise = void 0, this.has_permissions_api = navigator.permissions && navigator.permissions.query, this.has_fullscreen_api = "function" == typeof document.body.requestFullscreen, this.videosource_frame_rate = null, this.audio_context = new (window.AudioContext || window.webkitAudioContext), this.is_media_allowed = "running" == this.audio_context.state, this.media_allow_promise = void 0, this.is_media_allowed && (this.media_allow_promise = new Promise((e => e()))), this.audio_root_node = this.audio_context.createGain(), this.audio_root_node.connect(this.audio_context.destination), this.audio_source_map = new WeakMap, this.has_wasm_support_simd = window.WebAssembly && WebAssembly.validate(new Uint8Array([0, 97, 115, 109, 1, 0, 0, 0, 1, 5, 1, 96, 0, 1, 123, 3, 2, 1, 0, 10, 10, 1, 8, 0, 65, 0, 253, 15, 253, 98, 11])), this.has_screen_orientation_api = void 0 !== window.ScreenOrientation, this.screen_orientation_subscriptions = new Set, this._fake_screen_orientation = {} } return s(e, [{ key: "fake_screen_orientation", get: function () { const e = window.orientation; let t; switch (e) { case 90: t = "landscape-primary"; break; case 180: t = "portrait-secondary"; break; case -90: t = "landscape-secondary"; break; default: t = "portrait-primary" }return Object.assign(this._fake_screen_orientation, { angle: e, type: t }) } }, { key: "screen_orientation", get: function () { return this.has_screen_orientation_api ? screen.orientation : this.fake_screen_orientation } }, { key: "Events", value: function () { const e = this, t = e.controller; t.AddEvent("browser.videosource_frame_rate", (t => { e.videosource_frame_rate = t })), t.AddEvent("browser.camera_select_videoinputs", ((e, t, n) => { const r = this.CameraSelectVideoinputs(e, t); n.push.apply(n, v(r)) })), t.AddEvent("browser.try_request_accelerometer_permission", (() => this.TryRequestAccelerometerPermission())), t.AddEvent("browser.create_fullscreen_allow_promise", ((e, t) => { if (this.has_fullscreen_api) return this.CreateFullscreenAllowPromise(e, t) })), t.AddEvent("browser.setup_accelerometer_reader", (() => this.SetupAccelerometerReader())), t.AddEvent("browser.create_safari_devicemotion_allow_promise", (() => this.CreateSafariDeviceMotionAllowPromise())), t.AddEvent("browser.create_safari_deviceorientation_allow_promise", (() => this.CreateSafariDeviceOrientationAllowPromise())), t.AddEvent("browser.refresh_media_allow_promise", ((...e) => this.RefreshMediaAllowPromise.apply(this, e))), t.AddEvent("browser.get_media_allow_promise", (() => e.media_allow_promise)), t.AddEvent("browser.on_media_allow", (t => { e.media_allow_promise.then(t) })), t.AddEvent("user_media_allow_resolved", (() => t.FireEvent("browser.check_audio_context_state"))), t.AddEvent("browser.check_audio_context_state", (() => e.CheckAudioContextState())), t.AddEvent("browser.subscribe_screen_orientation", (t => { e.screen_orientation_subscriptions.add(t) })), t.AddEvent("browser.unsubscribe_screen_orientation", (t => { e.screen_orientation_subscriptions.delete(t) })), t.AddEvent("browser.send_screen_orientation", (() => { e.screen_orientation && e.screen_orientation_subscriptions.forEach((t => { t(e.screen_orientation) })) })), t.AddEvent("browser.try_lock_screen_orientation", (async n => { if (e.has_screen_orientation_api) try { return await screen.orientation.lock(null != n ? n : e.screen_orientation.type) } catch (e) { t.Warn("<browser.try_lock_screen_orientation>:", e) } })), t.AddEvent("browser.connect_audio_source", (t => { e.ConnectAudioSource(t) })), t.AddEvent("browser.setup", (() => { t.AddEvent("browser.get_flags", (t => { Object.assign(t, { is_safari: e.is_safari, is_chrome: e.is_chrome, is_wechat: e.is_wechat, is_opera: e.is_opera, is_operamini: e.is_operamini, is_android: e.is_android, is_ios: e.is_ios, is_iosfirefox: e.is_iosfirefox, is_ioschrome: e.is_ioschrome, is_iosopera: e.is_iosopera, is_https: e.is_https, has_videoinput: e.has_videoinput, has_permissions_api: e.has_permissions_api, has_fullscreen_api: e.has_fullscreen_api, is_need_separate_audio_from_video: e.is_need_separate_audio_from_video, has_wasm_support_simd: e.has_wasm_support_simd }) })), t.AddEvent("browser.get_negotiation_reasons", (t => { t.push.apply(t, v(e.GetNegotiationReasons())) })), e.audio_context.addEventListener("statechange", e.CheckAudioContextState.bind(e)), e.has_screen_orientation_api ? screen.orientation.addEventListener("change", (() => { t.FireEvent("browser.send_screen_orientation") })) : window.addEventListener("orientationchange", (() => { t.FireEvent("browser.send_screen_orientation") }), !1), t.FireEvent("browser.send_screen_orientation") })) } }, { key: "CameraSelectVideoinputs", value: function (e, t) { this.controller.Log("Browser.CameraSelectVideoinputs: passed video inputs to select", e.map((e => e.label)).join(", ")); const n = []; let r; switch (t) { case "environment": r = e => this.IsCameraLabelBackFacing(e.label); break; case "user": case "left": case "right": break; default: throw new Error("unknown facing mode") }if (!r) return n; n.push.apply(n, v(e.filter(r))), this.controller.Log("Browser.CameraSelectVideoinputs: selected video inputs", n.map((e => e.label)).join(", ")); const o = {}, i = n.map((e => (o[e.label] = e, e.label))); i.sort(); const a = i.map((e => o[e])); return this.controller.Log("Browser.CameraSelectVideoinputs: resulting sorted video inputs", a.map((e => e.label)).join(", ")), a } }, { key: "IsCameraLabelFrontFacing", value: function (e) { return !("string" != typeof e || !e.length || this.IsCameraLabelBackFacing(e)) } }, { key: "IsCameraLabelBackFacing", value: function (e) { if (void 0 === this.back_camera_regexp) { const e = ["rear", "back", "rück", "arrière", "trasera", "trás", "traseira", "posteriore", "后面", "後面", "背面", "后置", "後置", "背置", "задней", "الخلفية", "후", "arka", "achterzijde", "หลัง", "baksidan", "bagside", "sau", "bak", "tylny", "takakamera", "belakang", "אחורית", "πίσω", "spate", "hátsó", "zadní", "darrere", "zadná", "задня", "stražnja", "belakang", "बैक"]; this.back_camera_regexp = new RegExp(`\\b(${e.join("|")})`, "i") } return this.back_camera_regexp.test(e.toLowerCase()) } }, { key: "TryRequestAccelerometerPermission", value: async function () { if (this.is_samsung_internet || this.is_facebook && !this.is_ios) { const e = { element: document, events: ["click"] }; this.controller.FireEvent("user_fill_safari_devicemotion_allow_element_events", e) } else if (this.has_permissions_api) { this.controller.Log("Browser.TryRequestAccelerometerPermission: query permission api..."); try { const e = await navigator.permissions.query({ name: "accelerometer" }); this.controller.Log("Browser.TryRequestAccelerometerPermission: accelerometer permission: " + JSON.stringify(e.state, null, "\t") + "\r\n") } catch (e) { this.controller.Error("Browser.TryRequestAccelerometerPermission: accelerometer permission exception: ", e, "\r\n") } } else this.controller.Warn("Browser.TryRequestAccelerometerPermission: permission api not supported\r\n") } }, { key: "TryRequestFullscreenMode", value: function (e, t) { const n = e.requestFullscreen(t); return this.controller.FireEvent("user_fullscreen_requested", n), n } }, { key: "CheckAudioContextState", value: function () { const { audio_context: e } = this; "suspended" == e.state ? (this.media_allow_promise || this.CreateMediaAllowPromise(), this.media_allow_promise.then((() => { e.resume().catch((() => { this.RefreshMediaAllowPromise() })) }))) : "interrupted" == e.state && e.resume() } }, { key: "GetAudioSourceNode", value: function (e) { if (this.audio_source_map.has(e)) return this.audio_source_map.get(e); const t = this.audio_context.createMediaElementSource(e); return this.audio_source_map.set(e, t), t } }, { key: "ConnectAudioSource", value: function (e) { const t = this.GetAudioSourceNode(e); this.controller.Log("Browser.ConnectAudioSource: node", t), t.connect(this.audio_root_node) } }, { key: "RefreshMediaAllowPromise", value: function () { return !this.is_media_allowed && this.media_allow_promise ? this.media_allow_promise : (this.is_media_allowed = !1, this.CreateMediaAllowPromise()) } }, { key: "CreateMediaAllowPromise", value: function () { let e; return this.is_media_allowed = "running" == this.audio_context.state && !(this.is_ios || this.is_safari), this.media_allow_promise = new Promise((t => { if (this.is_media_allowed) return t(), void this.controller.FireEvent("user_media_allow_resolved"); const n = []; this.controller.FireEvent("user_fill_media_allow_element_events", n), n.length || n.push({ element: document, events: ["click"] }), e = e => { this.is_media_allowed || (e && e.stopPropagation(), this.is_media_allowed = !0, t(), setTimeout(r, 0), this.controller.FireEvent("user_media_allow_resolved")) }; const r = () => n.forEach((t => { const { element: n, events: r } = t; r.forEach((t => n.removeEventListener(t, e))) })); n.forEach((t => { const { element: n, events: r } = t; r.forEach((t => n.addEventListener(t, e))) })) })), this.media_allow_promise.resolve = () => e(), this.controller.FireEvent("user_media_allow_promise_created", this.media_allow_promise), this.media_allow_promise } }, { key: "TranslateGravityVectorOnScreenOrientation", value: function (e, t, n) { let r; switch ([e, t, n].every((e => null === e)) && ([e, t, n] = [0, 0, 0]), this.GetScreenOrientationType()) { case "portrait-primary": r = [e, -t, n]; break; case "portrait-secondary": r = [-e, t, n]; break; case "landscape-primary": r = [-t, -e, n]; break; case "landscape-secondary": r = [t, e, n] }return this.is_safari && (r = r.map((e => -1 * e))), r } }, { key: "SetupAccelerometerReader", value: function (e) { return new Promise(((e, t) => { if (void 0 === window.Accelerometer) return void t("window.Accelerometer is undefined"); const n = this.sensor_accelerometer = new Accelerometer({ referenceFrame: "device", frequency: this.videosource_frame_rate }); n.addEventListener("error", t); let r = !0; n.addEventListener("reading", (() => { var t; const o = this.TranslateGravityVectorOnScreenOrientation(n.x, n.y, n.z); (t = this.controller).FireEvent.apply(t, ["tracking.set_gravity_vector"].concat(v(o))), r && (e(), (this.is_samsung_internet || this.is_facebook && !this.is_ios) && this.controller.FireEvent("user_safari_devicemotion_allow_resolved"), r = !1) })), n.start() })) } }, { key: "AddSafariDeviceMotionEventHandler", value: function (e) { window.addEventListener("devicemotion", (t => { var n; const r = this.TranslateGravityVectorOnScreenOrientation(t.accelerationIncludingGravity.x, t.accelerationIncludingGravity.y, t.accelerationIncludingGravity.z); (n = this.controller).FireEvent.apply(n, ["tracking.set_gravity_vector"].concat(v(r))), e && e() }), !0) } }, { key: "AddSafariDeviceOrientationEventHandler", value: function (e) { window.addEventListener("deviceorientation", (t => { const n = [t.alpha, t.beta, t.gamma, t.absolute]; this.controller.FireEvent("orientation_provider.set_alphabetagamma", n), e && e() }), !0) } }, { key: "GetScreenOrientationType", value: function () { return this.screen_orientation.type } }, { key: "HandleSafariDeviceMotionEventAndResolveCallback", value: function (e, t) { let n = !0; const r = setTimeout((() => t("timeout")), 5e3); this.AddSafariDeviceMotionEventHandler((() => { n && (clearTimeout(r), n = !1, this.is_safari_devicemotion_allowed = !0, e(), this.controller.FireEvent("user_safari_devicemotion_allow_resolved")) })) } }, { key: "HandleSafariDeviceOrientationEventAndResolveCallback", value: function (e, t) { let n = !0; const r = setTimeout((() => t("timeout")), 5e3); this.AddSafariDeviceOrientationEventHandler((() => { n && (clearTimeout(r), n = !1, this.is_safari_deviceorientation_allowed = !0, e(), this.controller.FireEvent("user_safari_deviceorientation_allow_resolved")) })) } }, { key: "CreateFullscreenAllowPromise", value: function (e, t) { return this.fullscreen_allow_promise = new Promise(((n, r) => { const o = { element: document, events: ["click"] }; this.controller.FireEvent("user_fill_fullscreen_allow_element_events", o); const { element: i, events: a } = o, s = () => { this.TryRequestFullscreenMode(e, t).then((() => { n(), this.controller.FireEvent("user_fullscreen_allow_resolved") })).catch((e => { r(e), this.controller.FireEvent("user_fullscreen_allow_rejected", e) })), a.forEach((e => i.removeEventListener(e, s))) }; a.forEach((e => i.addEventListener(e, s))) })), this.fullscreen_allow_promise } }, { key: "CreateSafariDeviceMotionAllowPromise", value: function () { return this.safari_devicemotion_allow_promise = new Promise(((e, t) => { if (this.is_safari_devicemotion_allowed) this.HandleSafariDeviceMotionEventAndResolveCallback(e, t); else { const n = { element: document, events: ["click"] }; this.controller.FireEvent("user_fill_safari_devicemotion_allow_element_events", n); const { element: r, events: o } = n, i = () => { DeviceMotionEvent.requestPermission().then((n => { "granted" == n ? this.HandleSafariDeviceMotionEventAndResolveCallback(e, t) : (t("Safari DeviceMotion rejected by user"), this.controller.FireEvent("user_safari_devicemotion_allow_rejected", "user", n)) })).catch((e => { t("Safari DeviceMotion error" + e), this.controller.FireEvent("user_safari_devicemotion_allow_rejected", "error", e) })), o.forEach((e => r.removeEventListener(e, i))) }; o.forEach((e => r.addEventListener(e, i))) } })), this.safari_devicemotion_allow_promise } }, { key: "CreateSafariDeviceOrientationAllowPromise", value: function () { return this.safari_deviceorientation_allow_promise = new Promise(((e, t) => { if (this.is_safari_deviceorientation_allowed) this.HandleSafariDeviceOrientationEventAndResolveCallback(e, t); else { const n = { element: document, events: ["click"] }; this.controller.FireEvent("user_fill_safari_deviceorientation_allow_element_events", n); const { element: r, events: o } = n, i = () => { DeviceOrientationEvent.requestPermission().then((n => { "granted" == n ? this.HandleSafariDeviceOrientationEventAndResolveCallback(e, t) : (t("Safari DeviceOrientation rejected by user"), this.controller.FireEvent("user_safari_deviceorientation_allow_rejected", "user", n)) })).catch((e => { t("Safari DeviceOrientation error" + e), this.controller.FireEvent("user_safari_deviceorientation_allow_rejected", "error", e) })), o.forEach((e => r.removeEventListener(e, i))) }; o.forEach((e => r.addEventListener(e, i))) } })), this.safari_deviceorientation_allow_promise } }, { key: "GetNegotiationReasons", value: function () { const e = []; return this.is_wechat && (this.is_ios ? e.push("wechat_ios", "open_safari") : e.push("wechat_android", "open_chrome")), this.is_android && (this.is_opera ? this.check_accelerometer && e.push("no_accelerometer", "open_chrome") : this.is_operamini && (this.check_accelerometer && e.push("no_accelerometer"), e.push("no_video", "open_chrome"))), this.has_mediadevices && (void 0 === this.has_videoinput || this.has_videoinput) || e.push("no_video"), e } }, { key: "InitHasVideoInput", value: async function () { if (!this.has_mediadevices) return void (this.has_videoinput = !1); const e = (this.has_mediadevices ? await navigator.mediaDevices.enumerateDevices() : []).find((e => "videoinput" === e.kind)); this.has_videoinput = void 0 !== e } }, { key: "Init", value: function () { this.controller.Log("Browser.Init: user agent is", this.user_agent); const e = ["is_facebook", "is_samsung_internet", "is_safari", "is_chrome", "is_opera", "is_wechat", "is_android", "is_ios", "is_ioschrome", "is_iosfirefox", "is_iosopera", "is_https", "has_mediadevices", "has_videoinput", "is_need_separate_audio_from_video", "is_safari_devicemotion_allowed", "has_permissions_api", "has_fullscreen_api", "is_media_allowed", "has_wasm_support_simd", "is_iosfacebook"].reduce(((e, t) => (e[t] = !!this[t], e)), {}); return this.controller.Log("Browser.Init: flags is", e), Promise.all([this.InitHasVideoInput()]) } }]), e }(), A = function () { function e() { i(this, e), this.initialized = !1, this.is_portrait = !1, this.is_orientation_changed = !1, this.is_first_read = !0, this.is_need_flip_horizontal = !1, this.need_recalculate = !1, this.stream_width = null, this.stream_height = null, this.stream_frame_rate = null, this.stream = null, this.controller = null, this.buffer_context_map = new WeakMap; const t = new WeakMap, r = e => { const { instance: n } = this.wasm, { memory: r } = n.exports; let o = t.get(n); o || (o = { object: r, currentPosition: r.buffer.byteLength }, t.set(n, o)); let i = o.currentPosition; if (i + e > r.buffer.byteLength) { const t = Math.ceil((i + e - r.buffer.byteLength) / 65536); r.grow(t), this.wasm.heap = new Uint8Array(r.buffer) } return o.currentPosition += e, i }, o = (e, t) => { switch (e) { default: break; case 45: return 0; case 192: const e = t[1]; return r(e) } }; this.wasm_promise = (() => { const e = {}; for (let t = 0; t < 7; t++)e["__syscall" + t] = (...e) => o(n, e); return WebAssembly.instantiate(Uint8Array.from([0, 97, 115, 109, 1, 0, 0, 0, 1, 11, 2, 96, 0, 0, 96, 4, 127, 127, 127, 127, 0, 3, 3, 2, 0, 1, 4, 5, 1, 112, 1, 1, 1, 5, 3, 1, 0, 2, 6, 21, 3, 127, 1, 65, 128, 136, 4, 11, 127, 0, 65, 128, 136, 4, 11, 127, 0, 65, 128, 8, 11, 7, 45, 4, 6, 109, 101, 109, 111, 114, 121, 2, 0, 11, 95, 95, 104, 101, 97, 112, 95, 98, 97, 115, 101, 3, 1, 10, 95, 95, 100, 97, 116, 97, 95, 101, 110, 100, 3, 2, 5, 102, 108, 105, 112, 118, 0, 1, 10, 175, 3, 2, 2, 0, 11, 169, 3, 1, 12, 127, 35, 128, 128, 128, 128, 0, 34, 4, 26, 32, 4, 32, 3, 65, 2, 116, 65, 15, 106, 65, 112, 113, 34, 5, 107, 34, 6, 32, 5, 107, 34, 7, 26, 2, 64, 32, 2, 69, 13, 0, 32, 1, 65, 1, 118, 33, 8, 65, 0, 33, 5, 65, 0, 32, 3, 107, 33, 9, 32, 3, 32, 1, 108, 33, 10, 3, 64, 2, 64, 32, 8, 69, 13, 0, 32, 5, 65, 1, 106, 33, 11, 32, 8, 33, 4, 2, 64, 2, 64, 32, 3, 69, 13, 0, 32, 0, 32, 10, 32, 5, 108, 106, 33, 12, 32, 0, 32, 3, 32, 11, 32, 1, 108, 65, 127, 106, 108, 106, 33, 13, 65, 0, 33, 14, 3, 64, 32, 12, 33, 4, 65, 0, 33, 5, 65, 0, 33, 15, 3, 64, 32, 6, 32, 5, 65, 2, 116, 106, 32, 4, 45, 0, 0, 54, 2, 0, 32, 4, 65, 1, 106, 33, 4, 32, 15, 65, 1, 106, 34, 15, 65, 255, 1, 113, 34, 5, 32, 3, 73, 13, 0, 11, 32, 14, 65, 1, 106, 33, 14, 65, 0, 33, 5, 32, 13, 33, 4, 65, 0, 33, 15, 3, 64, 32, 7, 32, 5, 65, 2, 116, 106, 32, 4, 45, 0, 0, 54, 2, 0, 32, 4, 65, 1, 106, 33, 4, 32, 15, 65, 1, 106, 34, 15, 65, 255, 1, 113, 34, 5, 32, 3, 73, 13, 0, 11, 65, 0, 33, 5, 32, 13, 33, 4, 65, 0, 33, 15, 3, 64, 32, 4, 32, 6, 32, 5, 65, 2, 116, 106, 40, 2, 0, 58, 0, 0, 32, 4, 65, 1, 106, 33, 4, 32, 15, 65, 1, 106, 34, 15, 65, 255, 1, 113, 34, 5, 32, 3, 73, 13, 0, 11, 65, 0, 33, 5, 32, 12, 33, 4, 65, 0, 33, 15, 3, 64, 32, 4, 32, 7, 32, 5, 65, 2, 116, 106, 40, 2, 0, 58, 0, 0, 32, 4, 65, 1, 106, 33, 4, 32, 15, 65, 1, 106, 34, 15, 65, 255, 1, 113, 34, 5, 32, 3, 73, 13, 0, 11, 32, 13, 32, 9, 106, 33, 13, 32, 12, 32, 3, 106, 33, 12, 32, 14, 32, 8, 71, 13, 0, 12, 2, 11, 11, 3, 64, 32, 4, 65, 127, 106, 34, 4, 13, 0, 11, 11, 32, 11, 34, 5, 32, 2, 71, 13, 1, 12, 2, 11, 32, 5, 65, 1, 106, 34, 5, 32, 2, 71, 13, 0, 11, 11, 11, 0, 152, 2, 11, 46, 100, 101, 98, 117, 103, 95, 105, 110, 102, 111, 8, 1, 0, 0, 4, 0, 0, 0, 0, 0, 4, 1, 0, 0, 0, 0, 12, 0, 35, 0, 0, 0, 0, 0, 0, 0, 67, 0, 0, 0, 6, 0, 0, 0, 169, 1, 0, 0, 2, 6, 0, 0, 0, 169, 1, 0, 0, 92, 0, 0, 0, 1, 8, 3, 189, 0, 0, 0, 1, 8, 248, 0, 0, 0, 3, 174, 0, 0, 0, 1, 8, 226, 0, 0, 0, 3, 180, 0, 0, 0, 1, 8, 226, 0, 0, 0, 3, 98, 0, 0, 0, 1, 8, 226, 0, 0, 0, 4, 226, 0, 0, 0, 5, 122, 0, 0, 0, 1, 14, 233, 0, 0, 0, 5, 162, 0, 0, 0, 1, 15, 233, 0, 0, 0, 6, 0, 0, 0, 0, 187, 0, 0, 0, 1, 11, 226, 0, 0, 0, 5, 194, 0, 0, 0, 1, 9, 226, 0, 0, 0, 6, 20, 0, 0, 0, 205, 0, 0, 0, 1, 10, 226, 0, 0, 0, 6, 40, 0, 0, 0, 207, 0, 0, 0, 1, 16, 253, 0, 0, 0, 6, 84, 0, 0, 0, 209, 0, 0, 0, 1, 17, 226, 0, 0, 0, 6, 104, 0, 0, 0, 211, 0, 0, 0, 1, 12, 226, 0, 0, 0, 6, 124, 0, 0, 0, 222, 0, 0, 0, 1, 13, 226, 0, 0, 0, 0, 7, 109, 0, 0, 0, 7, 4, 8, 248, 0, 0, 0, 9, 4, 1, 0, 0, 97, 0, 0, 0, 0, 10, 253, 0, 0, 0, 7, 128, 0, 0, 0, 8, 1, 11, 142, 0, 0, 0, 8, 7, 0, 0, 16, 14, 46, 100, 101, 98, 117, 103, 95, 109, 97, 99, 105, 110, 102, 111, 0, 0, 155, 1, 10, 46, 100, 101, 98, 117, 103, 95, 108, 111, 99, 36, 0, 0, 0, 70, 0, 0, 0, 2, 0, 48, 159, 0, 0, 0, 0, 0, 0, 0, 0, 70, 0, 0, 0, 129, 0, 0, 0, 2, 0, 48, 159, 0, 0, 0, 0, 0, 0, 0, 0, 129, 0, 0, 0, 143, 0, 0, 0, 2, 0, 48, 159, 196, 0, 0, 0, 206, 0, 0, 0, 2, 0, 48, 159, 131, 1, 0, 0, 169, 1, 0, 0, 2, 0, 48, 159, 0, 0, 0, 0, 0, 0, 0, 0, 131, 1, 0, 0, 169, 1, 0, 0, 2, 0, 48, 159, 0, 0, 0, 0, 0, 0, 0, 0, 131, 1, 0, 0, 169, 1, 0, 0, 2, 0, 48, 159, 0, 0, 0, 0, 0, 0, 0, 0, 131, 1, 0, 0, 169, 1, 0, 0, 2, 0, 48, 159, 0, 0, 0, 0, 0, 0, 0, 0, 0, 148, 1, 13, 46, 100, 101, 98, 117, 103, 95, 97, 98, 98, 114, 101, 118, 1, 17, 1, 37, 14, 19, 5, 3, 14, 16, 23, 27, 14, 17, 1, 18, 6, 0, 0, 2, 46, 1, 17, 1, 18, 6, 3, 14, 58, 11, 59, 11, 39, 25, 63, 25, 0, 0, 3, 5, 0, 3, 14, 58, 11, 59, 11, 73, 19, 0, 0, 4, 52, 0, 73, 19, 52, 25, 0, 0, 5, 52, 0, 3, 14, 58, 11, 59, 11, 73, 19, 0, 0, 6, 52, 0, 2, 23, 3, 14, 58, 11, 59, 11, 73, 19, 0, 0, 7, 36, 0, 3, 14, 62, 11, 11, 11, 0, 0, 8, 1, 1, 73, 19, 0, 0, 9, 33, 0, 73, 19, 55, 19, 0, 0, 10, 15, 0, 73, 19, 0, 0, 11, 36, 0, 3, 14, 11, 11, 62, 11, 0, 0, 0, 0, 180, 2, 11, 46, 100, 101, 98, 117, 103, 95, 108, 105, 110, 101, 36, 1, 0, 0, 4, 0, 55, 0, 0, 0, 1, 1, 1, 251, 14, 13, 0, 1, 1, 1, 1, 0, 0, 0, 1, 0, 0, 1, 47, 116, 109, 112, 47, 98, 117, 105, 108, 100, 95, 97, 49, 111, 48, 112, 103, 116, 106, 55, 54, 52, 46, 36, 0, 0, 102, 105, 108, 101, 46, 99, 0, 1, 0, 0, 0, 0, 5, 2, 6, 0, 0, 0, 25, 5, 3, 10, 192, 8, 33, 110, 6, 3, 105, 116, 3, 23, 200, 5, 31, 6, 91, 5, 5, 114, 6, 3, 104, 144, 3, 24, 172, 5, 31, 6, 146, 6, 3, 102, 8, 200, 5, 9, 6, 3, 29, 214, 5, 20, 6, 158, 5, 18, 88, 5, 7, 6, 59, 5, 44, 6, 116, 5, 29, 158, 5, 30, 32, 5, 7, 88, 5, 43, 6, 65, 6, 3, 95, 116, 5, 9, 6, 3, 35, 186, 5, 26, 6, 158, 5, 24, 88, 5, 7, 6, 59, 5, 48, 6, 116, 5, 33, 158, 5, 34, 32, 3, 94, 116, 5, 17, 6, 3, 39, 200, 5, 19, 6, 74, 5, 17, 172, 5, 7, 6, 59, 5, 48, 6, 116, 5, 33, 158, 5, 34, 32, 5, 7, 88, 5, 17, 6, 231, 5, 19, 6, 74, 5, 17, 172, 5, 7, 6, 59, 5, 44, 6, 116, 5, 29, 158, 5, 30, 32, 5, 7, 88, 5, 5, 6, 3, 112, 60, 5, 18, 6, 214, 5, 5, 144, 5, 18, 46, 5, 5, 116, 3, 104, 74, 5, 27, 6, 3, 23, 46, 5, 16, 6, 46, 5, 3, 88, 3, 105, 74, 5, 27, 3, 23, 32, 5, 16, 88, 5, 3, 88, 5, 1, 6, 3, 22, 74, 2, 1, 0, 1, 1, 0, 248, 1, 10, 46, 100, 101, 98, 117, 103, 95, 115, 116, 114, 99, 108, 97, 110, 103, 32, 118, 101, 114, 115, 105, 111, 110, 32, 56, 46, 48, 46, 48, 32, 40, 116, 114, 117, 110, 107, 32, 51, 52, 49, 57, 54, 48, 41, 0, 47, 116, 109, 112, 47, 98, 117, 105, 108, 100, 95, 97, 49, 111, 48, 112, 103, 116, 106, 55, 54, 52, 46, 36, 47, 102, 105, 108, 101, 46, 99, 0, 47, 116, 109, 112, 47, 98, 117, 105, 108, 100, 95, 97, 49, 111, 48, 112, 103, 116, 106, 55, 54, 52, 46, 36, 0, 102, 108, 105, 112, 118, 0, 112, 105, 120, 101, 108, 95, 115, 105, 122, 101, 0, 117, 110, 115, 105, 103, 110, 101, 100, 32, 105, 110, 116, 0, 112, 105, 120, 101, 108, 0, 117, 110, 115, 105, 103, 110, 101, 100, 32, 99, 104, 97, 114, 0, 95, 95, 65, 82, 82, 65, 89, 95, 83, 73, 90, 69, 95, 84, 89, 80, 69, 95, 95, 0, 115, 97, 118, 101, 100, 95, 112, 105, 120, 101, 108, 0, 119, 105, 100, 116, 104, 0, 104, 101, 105, 103, 104, 116, 0, 121, 0, 100, 97, 116, 97, 0, 104, 97, 108, 102, 95, 119, 105, 100, 116, 104, 0, 120, 0, 105, 0, 97, 0, 112, 105, 120, 101, 108, 95, 97, 100, 100, 114, 0, 110, 101, 119, 95, 112, 105, 120, 101, 108, 95, 97, 100, 100, 114, 0, 0, 34, 4, 110, 97, 109, 101, 1, 27, 2, 0, 17, 95, 95, 119, 97, 115, 109, 95, 99, 97, 108, 108, 95, 99, 116, 111, 114, 115, 1, 5, 102, 108, 105, 112, 118]), { env: e }) })(), this.wasm_promise.then((({ instance: e }) => { const { main: t, flipv: n, memory: o, __data_end: i } = e.exports; this.wasm = { instance: e, main: t, flipv: n, memory: o, __data_end: i }, r(1228800) })) } return s(e, [{ key: "Events", value: function () { const e = this, t = e.controller; t.AddEvent("videosource_initialized", (() => { t.FireEvent("display.stream", e.stream), t.FireEvent("tracking.set_normalized_stream_dimensions", e.normalized_stream_width, e.normalized_stream_height), t.FireEvent("browser.videosource_frame_rate", e.stream_frame_rate), t.Log(`VideoSource<videosource_initialized>: Videosource stream is ${e.stream_width} x ${e.stream_height} @ ${e.stream_frame_rate} fps`) })), t.AddEvent("videosource.read_dimensions", (() => { e.ReadStreamDimensions() })), t.AddEvent("videosource.send_image_data_to_tracking_if_changed", (async (n, r, o) => { const i = e.GetImageData(n, r); e.IsImageDataChanged(i) && (await t.FireEvent("tracking.process_image", i), await t.FireEvent("tracking.track"), t.debug_frame && t.debug ? await t.FireEvent("tracking.read_debug_frame") : o != r && t.FireEvent("display.set_background_image_data", i)) })), t.AddEvent("videosource.send_image_data_to_display", ((n, r, o) => { const i = e.GetImageData(n, r); o != r && t.FireEvent("display.set_background_image_data", i) })) } }, { key: "normalized_stream_width", get: function () { return this.is_portrait ? this.stream_height : this.stream_width } }, { key: "normalized_stream_height", get: function () { return this.is_portrait ? this.stream_width : this.stream_height } }, { key: "normalized_stream_ratio", get: function () { return this.normalized_stream_width / this.normalized_stream_height } }, { key: "GetStreamVideoTrack", value: function (e = 0) { return this.stream.getVideoTracks()[e] } }, { key: "GetStreamVideoTrackSize", value: function (e) { const t = this.GetStreamVideoTrack(e).getSettings(); return { width: t.width, height: t.height } } }, { key: "StopStream", value: function () { const { stream: e } = this; e.getTracks().forEach((e => e.stop())) } }, { key: "AssignVideoStream", value: function (e) { this.stream = e, this.ReadStreamDimensions(), this.is_first_read = !0 } }, { key: "ReadStreamDimensions", value: function () { const e = this.is_portrait, t = this.stream.getVideoTracks()[0].getSettings(); if (void 0 === t.width) { if ("object" != typeof this.stream.canvas) return; this.stream_width = this.stream.canvas.width, this.stream_height = this.stream.canvas.height, this.stream_frame_rate = 1 } else this.stream_width = t.width, this.stream_height = t.height, this.stream_frame_rate = t.frameRate; if (this.is_portrait = this.stream_width < this.stream_height, this.is_orientation_changed = e != this.is_portrait, this.need_recalculate = this.is_first_read || this.is_orientation_changed, this.need_recalculate) { this.frame_ratio = this.stream_width / this.stream_height, this.crop_width = this.stream_width; let e = this.normalized_stream_width / this.crop_width; this.crop_height = this.normalized_stream_height / e, this.crop_top = (this.stream_height - this.crop_height) / 2, this.controller.FireEvent("display.change_scene_size", this.is_portrait), this.controller.FireEvent("tracking.set_normalized_stream_dimensions", this.normalized_stream_width, this.normalized_stream_height), this.controller.FireEvent("display.set_stream_dimensions", this.stream_width, this.stream_height) } return this.is_first_read = !1, this.need_recalculate } }, { key: "FlipImageDataHorizontalJs", value: function (e) { const { data: t, width: n, height: r } = e, o = Math.round(t.length / (n * r)), i = Math.floor(n / 2); for (let e = 0; e < r; e++)for (let r = 0; r < i; r++) { const i = (e * n + r) * o, a = t.subarray(i, i + o), s = ((e + 1) * n - (r + 1)) * o, c = Array.from(t.subarray(s, s + o)); t.set(a, s), t.set(c, i) } } }, { key: "FlipImageDataHorizontalWasm", value: function (e) { const { data: t, width: n, height: r } = e, o = Math.round(t.length / (n * r)), { heap: i, flipv: a, __data_end: s } = this.wasm, c = s; i.set(t, c), a(c, n, r, o); const l = i.subarray(s, t.length + s); t.set(l, 0) } }, { key: "FlipImageDataHorizontal", value: function (e) { return this.FlipImageDataHorizontalWasm(e) } }, { key: "GetBufferCanvasContext2D", value: function (e) { if (this.buffer_context_map.has(e)) return this.buffer_context_map.get(e); const t = e.getContext("2d", { willReadFrequently: !0, desynchronized: !0 }); return this.buffer_context_map.set(e, t), t } }, { key: "GetImageData", value: function (e, t) { const n = this.GetBufferCanvasContext2D(t); n.drawImage(e, 0, 0), this.stream_width; let r = n.getImageData(0, 0, this.stream_width, this.stream_height); return this.is_need_flip_horizontal && this.FlipImageDataHorizontal(r), r } }, { key: "IsImageDataChanged", value: function (e) { return this.is_frame_changed = !0 } }, { key: "Init", value: async function () { return this.controller.Warn("VideoSource.Init: Calling abstract Init() method of VideoSource object"), Promise.all([this.wasm_promise]) } }]), e }(), y = function () { function e(t) { i(this, e), this.initialized = !1, this.tracking_type = "none", this.videosouce_is_portrait = !0, this.controller = null, this.chat_callback = void 0, this.chat = void 0, "function" == typeof t && "chat" !== t.name ? this.chat_callback = t : this.chat = t, this.videosource_normalized_stream_width = void 0, this.videosource_normalized_stream_height = void 0, this.is_server_required = !0, this.sensor_data_array = new Float32Array(16) } return s(e, [{ key: "videosource_frame_rotation", get: function () { return this.videosouce_is_portrait ? 90 : 0 } }, { key: "Events", value: function () { const e = this, t = e.controller; t.AddEvent("tracking.set_normalized_stream_dimensions", ((t, n) => { e.videosource_normalized_stream_width = t, e.videosource_normalized_stream_height = n })), t.AddEvent("tracking.read_fovs", (async () => { const [n, r] = await e.TrackingModuleReadFovs(e.videosource_normalized_stream_width, e.videosource_normalized_stream_height); t.FireEvent("display.stream_fovs", n, r) })), t.AddEvent("tracking.setup", (async () => { e.is_server_required && await e.initTrackingSystem(), await t.FireEvent("tracking.read_fovs"), await e.TrackingModuleCreateFrameConverter(e.videosource_normalized_stream_width, e.videosource_normalized_stream_height), t.FireEvent("tracking.frame_converter_created"), t.FireEvent("display.set_buffer_width", e.videosource_normalized_stream_width), t.FireEvent("display.change_scene_size", e.videosouce_is_portrait) })), t.AddEvent("tracking_up", (() => { t.AddEvent("tracking.track", (async () => { await e.Track() })) })), t.AddEvent("display.change_scene_size", (t => { "boolean" == typeof t && (e.videosouce_is_portrait = t) })), t.AddEvent("tracking.process_image", (async t => { await e.TrackingModuleSendFrame(t) })), t.AddEvent("tracking.set_need_recalculate_model_place", (n => { t.Log("MarkerOpticalTracking<tracking.set_need_recalculate_model_place>: set need_recalculate_model_place to", n), e.need_recalculate_model_place = n })), t.AddEvent("tracking.read_debug_frame", (async () => { await e.ReadDebugFrame() })) } }, { key: "SetSensorData", value: function ({ gravity: e, quaternion: t, angle: n, euler: r }) { e && this.sensor_data_array.set(e, 0), r && this.sensor_data_array.set(r, 4), t && this.sensor_data_array.set(t, 8), void 0 !== n && (this.sensor_data_array[15] = n) } }, { key: "RecalculateModelPlace", value: async function () { this.videosouce_is_portrait ? await this.chat({ type: "module_call", func: "_placeModelLiteArWeb", args: [.5, .5, 5, 1, 0, 0, 0, 0, 1] }) : await this.chat({ type: "module_call", func: "_placeModelLiteArWeb", args: [.5, .5, 5, 0, -1, 0, 0, 0, 1] }) } }, { key: "TrackingModuleCreateFrameConverter", value: async function (e, t) { await this.chat({ type: "module_call", func: "_createFrameConverterWeb", args: [e, t, -1, 2] }) } }, { key: "ReadDebugFrame", value: async function () { const e = await this.chat({ type: "memory_read_array_clamped", args: [{ __var: "ptr_frame" }, this.frame_data_size] }), t = new ImageData(e, this.frame_width); this.controller.FireEvent("display.set_background_image_data", t) } }, { key: "TrackingModuleSendFrame", value: async function (e) { const t = e.data.buffer; this.frame_data_size = t.byteLength, this.frame_width = e.width, await this.chat({ type: "memory_alloc_to_new_var", args: ["ptr_frame", t.byteLength], next: { type: "memory_write_buffer", args: [t, { __var: "ptr_frame" }], next: { type: "module_call", func: "_sendFrameWeb", args: [{ __var: "ptr_frame" }, -1, !0, this.videosource_frame_rotation] } } }) } }, { key: "TrackingModuleReadFovs", value: async function (e, t) { return await this.chat({ type: "module_call", func: "_getCameraParamsWeb", args: [e, t, e, t], next: { type: "read_fovs" } }) } }, { key: "initTrackingSystem", value: async function () { const e = ["https://sun-1.mywebar.com", "https://sun-2.mywebar.com"].sort((() => Math.random() - .5)), t = await this.chat({ type: "module_call", func: "_getInitParams" }), n = await this.chat({ type: "read_string", args: [t] }); for (this.controller.Log("OpticalTracking.initTrackingSystem: Send " + n); e.length;) { const t = e.pop(); let r = 0, o = ""; try { const e = await fetch(`${t}/init`, { method: "POST", body: n }); r = e.status, o = await e.text() } catch (e) { } if (200 === r) { this.controller.Log("OpticalTracking.initTrackingSystem: Received " + o); let e = await this.chat({ type: "memory_alloc", args: [o.length + 1] }); return await this.chat({ type: "write_string", args: [o, e, o.length + 1] }), await this.chat({ type: "module_call", func: "_setParamsFromServer", args: [e] }), !0 } } return !1 } }, { key: "InitChat", value: function () { this.chat_callback && (this.chat = this.chat_callback()) } }, { key: "Init", value: function () { const e = this.controller, t = e.tracking; return e.Log("OpticalTracking.Init: Creating optical tracking initialization promise..."), t.InitChat(), t.chat({ type: "load" }) } }, { key: "Track", value: async function () { this.controller.Warn("OpticalTracking.Track: Calling abstract Track() method of OpticalTracking object") } }, { key: "Step", value: async function () { const e = Date.now(); return await this.controller.FireEvent("display.track_video"), e } }, { key: "Run", value: function () { "none" != this.tracking_type ? this.initialized ? this.controller.Info(`OpticalTracking.Run: Start tracking ${this.tracking_type}`) : this.controller.Error("OpticalTracking.Run: Tracking object is not initialized, call Init() first") : this.controller.Error("OpticalTracking.Run: Tracking type is not defined") } }]), e }(); const { Quaternion: B, Euler: b, Box3: C, Vector3: E, Vector2: w, Matrix4: k, WebGLRenderer: D, PerspectiveCamera: x, Scene: S, DataTexture: M, LinearFilter: F, RGBAFormat: T, Clock: O, Frustum: I } = THREE; let P = function () { function e(t, n = "100vw", r = "100vh", o = { antialias: !0 }, a = "device") { i(this, e), this.controller = null, this.is_safari = /^((?!chrome|android).)*safari/i.test(window.navigator.userAgent), this.is_chrome = /Chrome/.test(window.navigator.userAgent) && /Google Inc/.test(window.navigator.vendor) && !/OPR/.test(window.navigator.userAgent), this.scene_wrap = null, this.video = null, this.buffer_canvas = null, this.scene_canvas = null, this.parent_element = t, this.renderer = null, this.camera = null, this.scene = null, this.temp_frustum = null, this.videosource_vertical_fov = null, this.videosource_horizontal_fov = null, this.videosource_stream_width = null, this.videosource_stream_height = null, this.videosource_is_portrait = null, this.videosource_initialized = !1, this.renderer_params = o, this.is_scene_changed = !1, this.render_scene_animation = null, this.debug = !1, this.is_devicesize = t == document.body, this.center_mode = a, this.is_devicesize && Object.assign(document.body.style, { margin: 0, padding: 0 }), t.append(this.scene_wrap = document.createElement("div")), Object.assign(this.scene_wrap.style, { overflow: "hidden", display: "block", position: "relative", width: n, height: r, top: 0, left: 0 }), this.debug && Object.assign(this.scene_wrap.style, { overflow: "visible", border: "1px solid red" }), this.scene_wrap.append(this.video = document.createElement("video")), Object.assign(this.video, { playsInline: !0, autoplay: !0, muted: !0 }), Object.assign(this.video.style, { display: this.is_safari ? "block" : "none", opacity: .01, objectFit: "cover", position: "absolute", width: n, height: r, top: 0, left: 0 }), this.debug && Object.assign(this.video.style, { display: "block", border: "1px solid blue" }), this.buffer_canvas = document.createElement("canvas"), this.scene_wrap.append(this.scene_canvas = document.createElement("canvas")), Object.assign(this.scene_canvas.style, { display: "block", position: "absolute", top: 0, left: 0, zIndex: 1 }), this.debug && Object.assign(this.video.style, { display: "block", border: "1px solid green" }), this.temp_vector3 = new E, this.temp_box3 = new C, this.temp_euler = new b, this.temp_quaternion = new B, this.temp_matrix4 = new k, this.render_callback = this.DefaultRenderCallback.bind(this) } return s(e, [{ key: "world_rotation_quaternion_device", get: function () { return "object" != typeof this._world_rotation_quaternion_device && (this._world_rotation_quaternion_device = this.temp_quaternion.setFromEuler(this.temp_euler.fromArray([Math.PI, 0, 0])).clone()), this._world_rotation_quaternion_device } }, { key: "object_rotation_quaternion_device", get: function () { return "object" != typeof this._object_rotation_quaternion_device && (this._object_rotation_quaternion_device = this.temp_quaternion.setFromEuler(this.temp_euler.fromArray([Math.PI / 2, Math.PI / 2, 0])).clone()), this._object_rotation_quaternion_device } }, { key: "world_rotation_quaternion_current_target", get: function () { return "object" != typeof this._world_rotation_quaternion_current_target && (this._world_rotation_quaternion_current_target = this.temp_quaternion.clone().setFromAxisAngle(new E(0, 0, 1), Math.PI)), this._world_rotation_quaternion_current_target } }, { key: "object_rotation_quaternion_current_target", get: function () { return "object" != typeof this._object_rotation_quaternion_current_target && (this._object_rotation_quaternion_current_target = this.temp_quaternion.clone().setFromAxisAngle(new E(1, 0, 0), -Math.PI / 2)), this._object_rotation_quaternion_current_target } }, { key: "Events", value: function () { const e = this, t = e.controller; t.AddEvent("videosource_initialized", (() => { e.videosource_initialized = !0 })), t.AddEvent("display.set_stream_dimensions", ((t, n) => { e.videosource_stream_width = t, e.videosource_stream_height = n })), t.AddEvent("display.set_scene_changed", (t => { e.is_scene_changed = t })), t.AddEvent("display.get_scene_wrap", (t => t(e.scene_wrap))), t.AddEvent("display.get_scene_canvas", (t => t(e.scene_canvas))), t.AddEvent("display.get_camera", (t => t(e.camera))), t.AddEvent("display.request_fullscreen_mode", (t => { e.RequestFullscreenMode(t) })), t.AddEvent("display.stream", (t => { e.ReceiveStream(t) })), t.AddEvent("display.set_buffer_width", (t => { e.SetBufferCanvasSize(t) })), t.AddEvent("display.set_background_image_data", (n => { let r = e.scene.background; r && r.image.width == n.width && r.image.height == n.height || (r && r.dispose(), r = e.CreateSceneBackground(n.width, n.height), e.ResizeSceneTexture()), r.image.data && r.image.data.byteLength === n.data.byteLength ? r.image.data.set(n.data) : r.image.data = Uint8Array.from(n.data), t.FireEvent("display.update_background_texture", !0) })), t.AddEvent("display.setup", (() => { e.CreateThreeScene(); let n = 0, r = 0; return t.AddEvent("display.change_scene_size", (o => { "boolean" == typeof o && e.videosource_is_portrait != o && (e.videosource_is_portrait = o, t.FireEvent("tracking.set_need_recalculate_model_place", !0)); let i = Date.now(); n + 100 > i && clearTimeout(r), n = i, r = setTimeout((() => e.OnChangeSceneSize()), 100) })), t.FireEvent("videosource.read_dimensions"), t.AddEvent("display.track_video", (async () => { t.FireEvent("videosource.read_dimensions"), await t.FireEvent("videosource.send_image_data_to_tracking_if_changed", e.video, e.buffer_canvas) })), t.AddEvent("display.update_background_from_video", (() => { t.FireEvent("videosource.read_dimensions"), t.FireEvent("videosource.send_image_data_to_display", e.video, e.buffer_canvas) })), t.AddEvent("display.convert_scene_to_stream_coords_normalized", ((t, n) => { e.ConvertScreenToStreamCoordinatesNormalizedLeftTop(t, n) })), new Promise((e => { t.AddEvent("display.create_camera", (() => { t.Log("Display<display.create_camera>: Resolved create camera promise in display.setup event"), e() })) })) })), t.AddEvent("display.update_background_texture", (t => { const n = e.scene.background; "object" == typeof n && n && (n.needsUpdate = !!t) })), window.addEventListener("resize", (() => { t.FireEvent("display.change_scene_size", e.videosource_is_portrait) }), !1), t.AddEvent("display.stream_fovs", ((n, r) => { Object.assign(e, { videosource_vertical_fov: n, videosource_horizontal_fov: r }), t.Log(`Display<display.stream_fovs>: Stream vertical fov ${n}`), t.Log(`Display<display.stream_fovs>: Stream horizontal fov ${r}`) })), t.AddEvent("display.resize", ((t, n = {}) => { const r = { width: e.scene_wrap.style.width, height: e.scene_wrap.style.height }, o = { width: "number" == typeof t.width ? `${t.width}px` : t.width, height: "number" == typeof t.height ? `${t.height}px` : t.height }; Object.assign(e.scene_wrap.style, o), Object.assign(n, { old_css_size: r, new_css_size: o }), e.OnChangeSceneSize() })), t.AddEvent("display.await_video_resize", (async t => { await new Promise((n => { const { video: r } = e; if (t(r)) return void n(); const o = () => { t(r) && (n(), r.removeEventListener("resize", o)) }; r.addEventListener("resize", o) })) })), t.AddEvent("display_up", (() => { t.AddEvent("display.set_world_coordinates_and_quaternion", ((n, r) => { t.FireEvent("display.set_scene_changed", !0), e.SetWorldCoordinatesAndQuaternion(n, r) })), t.AddEvent("display.set_marker_coordinates_and_quaternion", ((n, r, o) => { t.FireEvent("display.set_scene_changed", !0), e.SetObjectCoordinatesAndQuaternion(n, r, o) })) })), t.AddEvent("display.check_object_in_camera_view", (t => { const { object: n, camera: r, object_center: o } = t; t.result = e.CheckObjectInCameraView(n, r, o) })) } }, { key: "RequestFullscreenMode", value: function (e = {}) { return this.controller.FireEvent("browser.create_fullscreen_allow_promise", this.parent_element, e) } }, { key: "SetObjectCoordinatesAndQuaternion", value: function (e, t, n) { switch (this.center_mode) { case "device": n = this.TranslateObjectQuaternionDevice.apply(this, v(n)), t = this.TranslateObjectCoordinatesDevice.apply(this, v(t)), this.controller.FireEvent("user_marker_change", e, t, n); break; case "current_target": n = this.TranslateObjectQuaternionCurrentTarget.apply(this, v(n)), t = this.TranslateObjectCoordinatesCurrentTarget.apply(this, v(t).concat([n])), this.camera.quaternion ? this.camera.quaternion.fromArray(n) : this.camera.applyQuaternion(this.temp_quaternion.fromArray(n)), this.camera.position.fromArray(t); break; default: throw `unknown center mode ${this.center_mode}` } } }, { key: "SetWorldCoordinatesAndQuaternion", value: function (e, t) { let n; switch (this.center_mode) { case "device": n = this.scene, t = this.TranslateWorldQuaternionDevice.apply(this, v(t)), e = this.TranslateWorldCoordinatesDevice.apply(this, v(e)), n.position.fromArray(e), n.quaternion ? n.quaternion.fromArray(t) : n.applyQuaternion(this.temp_quaternion.fromArray(t)); break; case "current_target": const r = 1; if (n = this.camera, t.is_svo_distoplane) { const o = this.temp_matrix4.clone().compose(this.temp_vector3.clone().fromArray(e), this.temp_quaternion.fromArray(t), this.temp_vector3.setScalar(r)), i = this.temp_matrix4.fromArray((this.videosource_is_portrait, [1, 0, 0, 0, 0, -1, 0, 0, 0, 0, -1, 0, 0, 0, 0, 1])); o.multiply(i).decompose(n.position, n.quaternion, n.scale) } else t = t.is_instant ? this.TranslateWorldQuaternionCurrentTargetInstant.apply(this, v(t)) : t.is_svo ? this.TranslateWorldQuaternionCurrentTargetSVO.apply(this, v(t)) : this.TranslateWorldQuaternionCurrentTarget.apply(this, v(t)), e = this.TranslateWorldCoordinatesCurrentTarget.apply(this, v(e).concat([t])), n.quaternion ? n.quaternion.fromArray(t) : n.applyQuaternion(this.temp_quaternion.fromArray(t)), n.position.fromArray(e), n.scale.setScalar(r); break; default: throw `unknown center mode ${this.center_mode}` } } }, { key: "ShowSensorWarning", value: function (e) { this.controller.Warn("Display.ShowSensorWarning: Sensor warning: " + JSON.stringify(e)) } }, { key: "OnChangeSceneSize", value: function () { this.scene_width = this.scene_wrap.clientWidth, this.scene_height = this.scene_wrap.clientHeight; const e = this.scene_width / this.scene_height, t = this.videosource_stream_width / this.videosource_stream_height; this.videosource_initialized && (this.controller.Log("Display.OnChangeSceneSize: источник видео уже инициализирован, можно считать ратио"), e < t ? (this.controller.Log("Display.OnChangeSceneSize: ратио сцены меньше ратио стрима (экран - горизонтальная полоска)"), t < 1 ? (this.controller.Log("Display.OnChangeSceneSize: стрим в портрете"), this.camera_vertical_fov = this.videosource_horizontal_fov) : (this.controller.Log("Display.OnChangeSceneSize: стрим в ландшафте"), this.camera_vertical_fov = this.videosource_vertical_fov)) : (this.controller.Log("Display.OnChangeSceneSize: ратио сцены больше ратио стрима (экран - вертикальная полоска)"), t > 1 ? (this.controller.Log("Display.OnChangeSceneSize: стрим в ландшафте"), this.camera_vertical_fov = this.CalcVFov(this.scene_width, this.scene_height, this.videosource_horizontal_fov)) : (this.controller.Log("Display.OnChangeSceneSize: стрим в портрете"), this.camera_vertical_fov = this.CalcVFov(this.scene_width, this.scene_height, this.videosource_vertical_fov))), this.camera_vertical_fov ? this.controller.Log("Display.OnChangeSceneSize: Recalculated camera vertical fov:", this.camera_vertical_fov) : this.controller.Warn("Display.OnChangeSceneSize: Recalculated camera vertical fov is not a number: " + JSON.stringify(this.camera_vertical_fov))), this.scene_canvas.width = this.scene_width, this.scene_canvas.height = this.scene_height, Object.assign(this.video.style, { width: `${this.scene_width}px`, height: `${this.scene_height}px` }), this.renderer && (this.camera || this.CreateThreeCamera(), this.UpdateRendererAndCamera(), this.ResizeSceneTexture()), this.render_callback(), this.controller.FireEvent("user_scene_resized", this.scene_width, this.scene_height, this.scene_wrap) } }, { key: "CreateThreeCamera", value: function () { switch (this.camera = new x(this.camera_vertical_fov, this.scene_width / this.scene_height, .01, 100), this.controller.Log(`Display.CreateThreeCamera: Create camera fov ${this.camera.fov} aspect ${this.camera.aspect}`), this.center_mode) { case "device": this.camera.rotation.set(0, 0, Math.PI); break; case "current_target": this.camera.rotation.set(0, 0, 0); break; default: throw `unknown center mode ${this.center_mode}` }this.controller.FireEvent("display.create_camera", this.camera) } }, { key: "CreateSceneBackground", value: function (e, t) { const n = new M(new Uint8Array(e * t * 4), e, t, T); return n.flipY = !0, n.magFilter = n.minFilter = F, n.needsUpdate = !1, this.scene.background = n, this.controller.FireEvent("display_background_texture_created", n), n } }, { key: "CreateThreeScene", value: function () { const e = { canvas: this.scene_canvas, alpha: !0 }; Object.assign(e, this.renderer_params), this.renderer = new D(e), this.scene = new S, this.clock = new O } }, { key: "ResizeSceneTexture", value: function () { const e = this.scene.background; if ("object" != typeof e || !e) return; this.scene_width, this.scene_height; const t = this.camera.aspect, n = this.videosource_stream_width / this.videosource_stream_height; e.center.set(.5, .5), n < t ? e.repeat.set(1, n / t) : e.repeat.set(t / n, 1), e.needsUpdate = !0 } }, { key: "ConvertScreenToStreamCoordinatesNormalizedLeftTop", value: function (e, t) { const n = this.videosource_stream_width / this.videosource_stream_height, r = this.camera.aspect, o = n / r; if (t || (t = new w), t.copy(e).setY(-e.y).addScalar(1).divideScalar(2), r < n) { const e = (1 - 1 / o) / 2; t.x = t.x / o + e } else { const e = (1 - o) / 2; t.y = t.y * o + e } return t } }, { key: "UpdateRendererAndCamera", value: function () { this.renderer.setSize(this.scene_width, this.scene_height, !1), this.camera.fov = this.camera_vertical_fov, this.camera.aspect = this.scene_width / this.scene_height, this.controller.Log(`Display.UpdateRendererAndCamera: Update camera fov ${this.camera.fov} aspect ${this.camera.aspect}`), this.camera.updateProjectionMatrix() } }, { key: "SetBufferCanvasSize", value: function (e) { this.buffer_canvas.width = this.buffer_canvas.height = e } }, { key: "CalcVFov", value: function (e, t, n) { const r = n * Math.PI / 180; return 2 * Math.atan(Math.tan(r / 2) * t / e) * 180 / Math.PI } }, { key: "CalcHFov", value: function (e, t, n) { const r = n * Math.PI / 180; return 2 * Math.atan(Math.tan(r / 2) * e / t) * 180 / Math.PI } }, { key: "ReceiveStream", value: function (e) { const { video: t } = this; return t.srcObject && (t.srcObject = null, t.oncanplay = null, t.load()), new Promise(((n, r) => { const o = {}, i = () => { for (const [e, n] of Object.entries(o)) t.removeEventListener(e, n) }; o.canplay = async () => { i(), t.paused && await t.play(), n(t) }, o.error = e => { i(), r(e) }, (() => { for (const [e, n] of Object.entries(o)) t.addEventListener(e, n) })(), t.srcObject = e, t.load() })) } }, { key: "DefaultRenderCallback", value: function () { this.renderer.render(this.scene, this.camera) } }, { key: "Step", value: async function () { const e = Date.now(); return this.controller.FireEvent("user_render_animation", this.clock.getDelta()), this.controller.FireEvent("user_render_before"), this.render_callback(), this.controller.FireEvent("display.update_background_texture", !1), this.controller.FireEvent("user_render_after"), this.controller.FireEvent("display.set_scene_changed", !1), e } }, { key: "TranslateWorldCoordinatesDevice", value: function (e, t, n) { const r = this.world_rotation_quaternion_device, o = this.videosource_is_portrait ? [t, e, n] : [-e, t, n], i = this.temp_vector3.fromArray(o).clone(); return i.applyQuaternion(r), i.toArray() } }, { key: "TranslateWorldQuaternionDevice", value: function (e, t, n, r) { const o = this.world_rotation_quaternion_device, i = this.temp_quaternion.set(e, t, n, r), a = this.temp_euler.setFromQuaternion(i); return this.videosource_is_portrait, a.set(a.x, a.y, a.z), i.setFromEuler(a).multiply(o), i.toArray() } }, { key: "TranslateObjectCoordinatesDevice", value: function (e, t, n) { return this.videosource_is_portrait ? [t, -e, -n] : [-e, -t, -n] } }, { key: "TranslateObjectQuaternionDevice", value: function (e, t, n, r) { const o = this.object_rotation_quaternion_device, i = this.temp_quaternion.fromArray(this.videosource_is_portrait ? [-t, e, n, r] : [e, t, n, r]), a = this.temp_euler.setFromQuaternion(i); return this.videosource_is_portrait ? a.set(a.x, a.y, a.z + Math.PI / 2) : a.set(a.x, a.y, a.z), i.setFromEuler(a).multiply(o), i.toArray() } }, { key: "TranslateWorldCoordinatesCurrentTarget", value: function (e, t, n, r) { const o = this.videosource_is_portrait ? [t, -e, n] : [-e, -t, n], i = this.temp_vector3.fromArray(o).clone(); return i.applyQuaternion(this.temp_quaternion.fromArray(r)), i.toArray() } }, { key: "TranslateWorldQuaternionCurrentTarget", value: function (e, t, n, r) { const o = this.world_rotation_quaternion_current_target, i = this.temp_quaternion.fromArray((this.videosource_is_portrait, [e, t, -n, r])), a = this.temp_euler.setFromQuaternion(i); return this.videosource_is_portrait, a.set(a.x, a.y, a.z), i.setFromEuler(a).premultiply(o), i.toArray() } }, { key: "TranslateWorldQuaternionCurrentTargetInstant", value: function (e, t, n, r) { return this.temp_quaternion.set(-e, -t, -n, r).toArray() } }, { key: "TranslateWorldQuaternionCurrentTargetSVO", value: function (e, t, n, r) { return this.temp_quaternion.set(-e, -t, -n, r).toArray() } }, { key: "TranslateObjectCoordinatesCurrentTarget", value: function (e, t, n, r) { const o = this.videosource_is_portrait ? [t, -e, n] : [-e, -t, n], i = this.temp_vector3.fromArray(o).clone(); return i.applyQuaternion(this.temp_quaternion.fromArray(r)), i.toArray() } }, { key: "TranslateObjectQuaternionCurrentTarget", value: function (e, t, n, r) { const o = this.object_rotation_quaternion_current_target, i = this.temp_quaternion.fromArray(this.videosource_is_portrait ? [e, -t, n, r] : [e, t, -n, r]), a = this.temp_euler.setFromQuaternion(i); return this.videosource_is_portrait && (a.set(a.x, -a.y, -a.z - Math.PI / 2), i.setFromEuler(a)), i.premultiply(o), i.toArray() } }, { key: "GetBoxSize3", value: function (e) { return this.temp_box3.setFromObject(e).getSize(this.temp_vector3), this.temp_vector3.clone() } }, { key: "GetBoxSizeMax", value: function (e) { const t = this.GetBoxSize3(e).toArray(); return Math.max.apply(Math, v(t)) } }, { key: "GetBoxSizeMin", value: function (e) { const t = this.GetBoxSize3(e).toArray(); return Math.min.apply(Math, v(t)) } }, { key: "ScaleObjectToSizeMax", value: function (e, t) { const n = t / this.GetBoxSizeMax(e); return e.scale.set(n, n, n), n } }, { key: "ScaleObjectToSizeMin", value: function (e, t) { const n = t / this.GetBoxSizeMax(e); return e.scale.set(n, n, n), n } }, { key: "CheckObjectInCameraView", value: function (e, t, n) { return t || (t = this.camera), this.temp_frustum || (this.temp_frustum = new I), this.GetCameraFrustum(t, this.temp_frustum), this.CheckObjectInFrustum(e, frustum, n) } }, { key: "CheckObjectInFrustum", value: function (e, t, n) { if (t.setFromProjectionMatrix(this.temp_matrix4), this.temp_box3.setFromObject(e), this.temp_box3.isEmpty()) return !0; const r = t.intersectsBox(this.temp_box3); return n && this.temp_box3.getCenter(n), r } }, { key: "GetCameraFrustum", value: function (e, t) { e.updateMatrixWorld(), this.temp_matrix4.multiplyMatrices(e.projectionMatrix, e.matrixWorldInverse), t.setFromProjectionMatrix(this.temp_matrix4) } }, { key: "Init", value: function () { return new Promise((e => { e() })) } }]), e }(); const { Object3D: R, Vector3: L, Box3: H, Vector2: j } = THREE; let G = function () { function e(t, n) { i(this, e), this.controller = null, this.scenes = new Map, this.object_loader_callback = t, this.behaviour_factory_callback = n, this.shown_scenes_indexes = [], this.reload_scenes = !0, this.use_loading_indicators = !1, this.object_env = {}, this.wait_page_objects = new Map, this.svo_surface_mesh = void 0, this.paused = !1, this.loader_indicator_callback = void 0, this.marker_pause = new WeakMap } return s(e, [{ key: "Events", value: function () { const e = this, t = e.controller; t.AddEvent("touchscreen_fill_intersective_objects", (t => { e.shown_scenes_indexes.forEach((n => { e.scenes.get(n).children.forEach((e => t(e))) })) })), t.AddEvent("scene_manager_pause", (() => { e.paused || (e.paused = !0, e.pauseOrResumeScenes(), t.FireEvent("scene_manager_paused")) })), t.AddEvent("scene_manager_resume", (() => { e.paused && (e.paused = !1, e.pauseOrResumeScenes(), t.FireEvent("scene_manager_resumed")) })), t.AddEvent("user_render_animation", (n => { e.paused || e.callLoadedObjectsOnShownScenes(((e, r) => { "function" == typeof e.object.animate && e.object.animate(n), t.FireEvent(`object_animate_${e.id}`, n) })) })), t.AddEvent("user_scene_resized", ((n, r, o) => { e.callLoadedObjectsOnLoadedScenes(((e, o) => { "function" == typeof e.object.resize && e.object.resize(n, r), t.FireEvent(`object_resize_${e.id}`, n, r) })) })), t.AddEvent("tracking_svo_surface_mesh_created", (e => { this.svo_surface_mesh = e })), t.AddEvent("scenemanager.svo_distoplane_place", (({ onplaced: n = ((e, t) => { }), onmisplaced: r = (e => { }), coords: o, relative_distance: i = 5 }) => { var a; const s = 1 / i, c = null !== (a = null != o ? o : "object" == typeof t.touchscreen ? t.touchscreen.mouse : void 0) && void 0 !== a ? a : new j, l = []; if (t.FireEvent("touchscreen_intersect_objects_from_vector2", c, [e.svo_surface_mesh], l), l.length) { const { point: e } = l[0]; n(e, s) } else r(c) })), t.AddEvent("user_tracking_svo_status_changed", ((n, r) => { switch (n) { case t.tracking.SVO_STATUS_PAUSED: case t.tracking.SVO_STATUS_FRAMEINIT: case t.tracking.SVO_STATUS_MOVEINIT: this.shown_scenes_indexes.forEach((t => { e.scenes.get(t).visible = !1 })); break; case t.tracking.SVO_STATUS_OK: case t.tracking.SVO_STATUS_LOST: this.shown_scenes_indexes.forEach((t => { e.scenes.get(t).visible = !0 })) } })), t.AddEvent("scenemanager_create_svo_distoplane_place_promise", (e => { const { reject_on_misplaced: n = !1 } = e; let r, o, i = new Promise(((...e) => { [r, o] = e })); Object.assign(e, { promise: i, promise_reslove: r, promise_reject: o }), n && (e.onmisplaced = o), e.onplaced = (e, t) => r({ point: e, scale: t }), e.do_place = async () => { await t.FireEvent("tracking.svo_read_surface_reconstruction"), t.FireEvent("scenemanager.svo_distoplane_place", e) } })) } }, { key: "callLoadedObjectsOnShownScenes", value: function (e) { this.shown_scenes_indexes.forEach((t => { const n = this.getTrackingMarker(t); n.load_promise.then((() => { n.page_objects.forEach((t => e(t, n))) })) })) } }, { key: "callLoadedObjectsOnLoadedScenes", value: function (e) { const t = this.getTrackingMarkers(); t && t.forEach((t => { t.load_promise && t.load_promise.then((() => { t.page_objects.forEach((n => e(n, t))) })) })) } }, { key: "queuePauseOrResumeScene", value: function (e, t) { this.marker_pause.set(e, t) } }, { key: "pauseOrResumeScenes", value: function () { const e = this.getTrackingMarkers(); e && e.forEach((e => { if (!this.marker_pause.has(e)) return; const t = this.marker_pause.get(e); t || !e.paused || this.paused ? t && !e.paused && (this.pauseScene(e), this.marker_pause.delete(e)) : (this.resumeScene(e), this.marker_pause.delete(e)) })) } }, { key: "pauseScene", value: function (e) { return "object" == typeof e.load_promise && (e.load_promise.then((() => { e.page_objects.forEach((e => { "function" == typeof e.object.pause && e.object.pause(), this.controller.FireEvent(`object_pause_${e.id}`) })) })), e.paused = !0, !0) } }, { key: "resumeScene", value: function (e) { return "object" == typeof e.load_promise && (e.load_promise.then((() => { e.page_objects.forEach((e => { "function" == typeof e.object.resume && e.object.resume(), this.controller.FireEvent(`object_resume_${e.id}`) })) })), e.paused = !1, !0) } }, { key: "showScene", value: function (e) { if (this.shown_scenes_indexes.indexOf(e.index) > -1) return this.scenes.get(e.index); const t = this.scenes.has(e.index) ? this.scenes.get(e.index) : this.createScene(e); return this.shown_scenes_indexes.push(e.index), t } }, { key: "hideScene", value: function (e) { const t = this.shown_scenes_indexes.indexOf(e.index); if (-1 == t) return; let n = this.scenes.get(e.index); return this.shown_scenes_indexes.splice(t, 1), n } }, { key: "showSingleScene", value: function (e) { return this.shown_scenes_indexes.forEach((t => { if (e.index != t) { const e = this.getTrackingMarker(t); this.hideScene(e) } })), this.reload_scenes && Array.from(this.scenes.keys()).forEach((t => { if (e.index != t) { const e = this.getTrackingMarker(t); this.destroyScene(e) } })), this.showScene(e) } }, { key: "getTrackingMarkers", value: function () { return this.controller.tracking.markers } }, { key: "getTrackingMarker", value: function (e) { return this.getTrackingMarkers().find((t => t.index == e)) } }, { key: "getTrackingMarkerDef", value: function (e) { return this.controller.tracking.marker_defs.find(((t, n) => e == n)) } }, { key: "createScene", value: function (e) { var t; const n = new R; n.name = "marker_scene_" + e.index, this.controller.FireEvent("user_marker_scene_created", n, e); const r = this.getTrackingMarkerDef(e.index), o = Promise.all((null !== (t = r.page_objects) && void 0 !== t ? t : []).map((e => this.addObject(e, n)))), i = new Promise((async e => { const t = await o; await Promise.all(t.filter((e => void 0 !== e)).map((e => e.load_behaviours_promise))), e(t) })); return e.load_promise = i.then((t => (this.controller.Log(`SceneManager.createScene: marker scene ${e.index} page objects loaded:`, t), e.page_objects = t.filter((e => e)), e.loaded = !0, e.paused = !0, this.controller.FireEvent("user_marker_scene_loaded", n, e), t))), this.scenes.set(e.index, n), this.controller.FireEvent("user_marker_scene_loading", n, e), n } }, { key: "destroyScene", value: function (e) { const t = this.scenes.get(e.index), n = () => { e.page_objects && e.page_objects.forEach((e => this.removeObject(e, t))), delete e.page_objects, e.loaded = !1 }; return this.scenes.delete(e.index), this.controller.FireEvent("user_marker_scene_deleted", t, e), e.loaded ? (n(), e.load_promise = void 0) : e.load_promise.then((() => { this.shown_scenes_indexes.indexOf(e.index) > -1 || (n(), e.load_promise = void 0) })), t } }, { key: "getOrWaitObjectById", value: async function (e) { const t = await this.wait_page_objects.get(e); if (t) return t.object } }, { key: "addObject", value: function (e, t, n) { var r, i; const a = []; n = null !== (r = n) && void 0 !== r ? r : o({}, e); const s = o(o({}, e), {}, { get_paused: () => this.getIsPaused(), connect_audio: e => this.connectAudio(e), need_separate_audio_from_video: this.getIsNeedSeparateAudioFromVideo() }), c = this.object_loader_callback(s), l = n.object3d = new R; l.name = n.id, l.scale.set(parseFloat(n.transform_scale_x), parseFloat(n.transform_scale_y), parseFloat(n.transform_scale_z)), l.position.set(parseFloat(n.transform_pos_x), parseFloat(n.transform_pos_y), parseFloat(n.transform_pos_z)), l.rotation.set(parseFloat(n.transform_rot_x), parseFloat(n.transform_rot_y), parseFloat(n.transform_rot_z)), l.visible = "1" == (null === (i = n.visible) || void 0 === i || i), t.add(l); const u = o(o({}, this.object_env), {}, { page_object_params: n, scene: t, fire_event: (...e) => { var t; return (t = this.controller).FireEvent.apply(t, e) }, get_paused: () => this.getIsPaused(), connect_audio: e => this.connectAudio(e), need_separate_audio_from_video: this.getIsNeedSeparateAudioFromVideo(), normalize_size: this.normalizeObject3DSize }); u.load_behaviour_self = e => { Object.assign(e, { page_object_id: n.id, source_page_object_id: n.id }); const t = this.loadObjectBehaviour(e, u); return a.push(t), t }, this.use_loading_indicators && "function" == typeof this.loader_indicator_callback && (u.page_object_params.indicator = this.loader_indicator_callback()); const d = c(u).then((e => { let t; if ("object" != typeof e ? t = !0 : e.error ? t = e.error : e.object || (t = !0), t) this.controller.Error("SceneManager.addObject: object load error", t); else { this.controller.Log("SceneManager.addObject: object load ok", e), e.object.behaviours = []; const t = v(e.behaviours); e.object.media && u.load_behaviour_self({ name: "ResumableMedia" }), e.object.medias && u.load_behaviour_self({ name: "ResumableMedias" }), t.forEach((e => { const t = this.loadObjectBehaviour(e, u); a.push(t) })), e.load_behaviours_promise = Promise.all(a) } return e })); return this.wait_page_objects.set(u.page_object_params.id, d), this.controller.Log("SceneManager.addObject: ", d), d } }, { key: "normalizeObject3DSize", value: function (e) { let t = e.size3; t || (t = new L, (new H).setFromObject(e).getSize(t)); const n = 1 / Math.max.apply(this, t.toArray()); e.scale.setScalar(n) } }, { key: "removeObject", value: function (e, t) { t.remove(e.object3d), v(e.object.behaviours).forEach((e => this.removeObjectBehaviour(e))), e.object.destroy(), this.wait_page_objects.delete(e.id) } }, { key: "loadObjectBehaviour", value: async function (e, t) { this.controller.Log("SceneManager.loadObjectBehaviour: creating behaviour", e); const n = await this.getOrWaitObjectById(e.page_object_id); this.controller.Log("SceneManager.loadObjectBehaviour: behaviour", e, "; target object", n); const r = e.source_page_object_id == e.page_object_id ? n : await this.getOrWaitObjectById(e.source_page_object_id); this.controller.Log("SceneManager.loadObjectBehaviour: behaviour", e, "; source object", r); const o = this.addObjectBehaviour(e, t, n, r); return this.controller.Log("SceneManager.loadObjectBehaviour: created behaviour", { page_object_behaviour: e, behaviour_instance: o }), o } }, { key: "addObjectBehaviour", value: function (e, t, n, r) { const o = this.behaviour_factory_callback([e]); o.setup(e.vars, t, n, null != r ? r : n); try { o.checkRequirements(); for (let [e, t] of Object.entries(o.events)) this.controller.AddEvent(e, t), this.controller.Log("SceneManager.addObjectBehaviour: added behaviour event listener", e, t); n.behaviours.push(o) } catch (e) { this.controller.Error("SceneManager.addObjectBehaviour: behaviour requirements error:", e) } return o } }, { key: "removeObjectBehaviour", value: function (e) { for (let [t, n] of Object.entries(e.events)) e.static_events.indexOf(t) < 0 && this.controller.RemoveEvent(t, n); e.destroy(); const t = e.target_object.behaviours, n = t.indexOf(e); t.splice(n, 1) } }, { key: "getIsPaused", value: function () { return this.paused } }, { key: "connectAudio", value: function (e) { return this.controller.FireEvent("browser.check_audio_context_state"), this.controller.FireEvent("browser.connect_audio_source", e) } }, { key: "getIsNeedSeparateAudioFromVideo", value: function () { const e = {}; return this.controller.FireEvent("browser.get_flags", e), e.is_need_separate_audio_from_video } }, { key: "Init", value: async function () { } }]), e }(); const { Vector2: N, Raycaster: V } = THREE; let K = function () { function e() { i(this, e), this.controller = null, this.mouse = new N, this.temp_v2_a = new N, this.temp_v2_b = new N, this.temp_v2_c = new N, this.raycaster = new V, this.objects = [], this.intersection_result = [], this.previous_rayin_object = void 0, this.timestamp_cursor_move = 0, this.timer_cursor_move = void 0, this.enable_regular_intersection = !1, this.is_display_scene_changed = !1, this.display_camera = void 0, this.display_scene_width = void 0, this.display_scene_height = void 0, this.display_scene_wrap = void 0, this.prevent_default_pinch_zoom = !0, this.mouse_multiplier_x = 1, this.mouse_multiplier_y = -1, this.multi_touch_state = { type: "", num_touches: 0, touches_log: [] }, this.skip_events = new Set } return s(e, [{ key: "Events", value: function () { const e = this, t = e.controller; t.AddEvent("touchscreen.enable_regular_intersection", (t => { e.enable_regular_intersection = t })), t.AddEvent("user_scene_resized", ((t, n, r) => { e.display_scene_width = t, e.display_scene_height = n, e.display_scene_wrap = r })), t.AddEvent("touchscreen.setup", (() => { t.AddEvent("display.set_scene_changed", (t => { e.is_display_scene_changed = t })), t.AddEvent("user_render_before", (() => { e.enable_regular_intersection && e.is_display_scene_changed && e.OnTrackingChange() })), t.AddEvent("user_click", (t => e.OnMouseClick(t))), t.AddEvent("user_mouse_move", (t => { e.OnMouseMove(t) })), t.AddEvent("user_mouse_leave", (t => { e.OnMouseLeave(t) })), t.AddEvent("user_mouse_down", (t => { e.OnMouseDown(t) })), t.AddEvent("user_mouse_up", (t => { e.OnMouseUp(t) })), t.AddEvent("user_touch_start", (t => { e.OnTouchStart(t) })), t.AddEvent("user_touch_move", (t => { e.OnTouchMove(t) })), t.AddEvent("user_touch_end", (t => { e.OnTouchEnd(t) })), t.AddEvent("user_touch_cancel", (t => { e.OnTouchCancel(t) })), t.AddEvent("touchscreen_intersect_objects_from_vector2", ((t, n = [], r = []) => { e.IntersectObjectsFromVector2(t, n), r.push.apply(r, v(e.intersection_result)) })), t.AddEvent("touchscreen_intersect_objects_from_mouse", ((t = [], n = []) => { e.IntersectObjectsFromMouse(e.mouse, t), n.push.apply(n, v(e.intersection_result)) })), t.AddEvent("touchscreen_get_mouse_coords", (t => { t.copy(e.mouse) })), t.FireEvent("display.get_scene_wrap", (t => { e.HandleMouseEvents(t), e.HandleTouchEvents(t) })), t.FireEvent("display.get_camera", (t => { e.display_camera = t })) })) } }, { key: "HandleMouseEvents", value: function (e) { e.addEventListener("click", (e => { this.skip_events.has("user_click") || this.controller.FireEvent("user_click", e) }), !1), e.addEventListener("pointermove", (e => { this.skip_events.has("user_mouse_move") || this.controller.FireEvent("user_mouse_move", e) }), !1), e.addEventListener("pointerleave", (e => { this.skip_events.has("user_mouse_leave") || this.controller.FireEvent("user_mouse_leave", e) }), !1), e.addEventListener("pointerdown", (e => { this.skip_events.has("user_mouse_down") || this.controller.FireEvent("user_mouse_down", e) }), !1), e.addEventListener("pointerup", (e => { this.skip_events.has("user_mouse_up") || this.controller.FireEvent("user_mouse_up", e) }), !1) } }, { key: "HandleTouchEvents", value: function (e) { e.addEventListener("touchstart", (e => { this.controller.FireEvent("user_touch_start", e) }), !1), e.addEventListener("touchmove", (e => { this.prevent_default_pinch_zoom && e && e.preventDefault(), this.controller.FireEvent("user_touch_move", e) }), !1), e.addEventListener("touchend", (e => { this.controller.FireEvent("user_touch_end", e) }), !1), e.addEventListener("touchcancel", (e => { this.controller.FireEvent("user_touch_cancel", e) }), !1) } }, { key: "PutObjectToIntersectionArray", value: function (e) { let t = this.objects.indexOf(e); return t > -1 || (t = this.objects.length, this.objects.push(e)), t } }, { key: "OnMouseLeave", value: function (e) { this.enable_regular_intersection && this.RayOutPreviousObject() } }, { key: "RayOutPreviousObject", value: function () { this.previous_rayin_object && (this.controller.FireEvent("touchscreen_object_rayout_" + this.previous_rayin_object.name, this.previous_rayin_object), this.previous_rayin_object = void 0) } }, { key: "OnMouseDown", value: function (e) { } }, { key: "OnMouseUp", value: function (e) { } }, { key: "OnTouchStart", value: function (e) { this.CancelMultiTouch(), this.IsMultiTouchEvent(e, 2) && this.StartMultiTouch(e, "pinch", 2) } }, { key: "OnTouchMove", value: function (e) { this.MoveMultiTouch(e) } }, { key: "OnTouchCancel", value: function (e) { this.CancelMultiTouch() } }, { key: "OnTouchEnd", value: function (e) { this.EndMultiTouch(e) } }, { key: "LogMultiTouch", value: function (e) { const { num_touches: t, touches_log: n } = this.multi_touch_state, r = this.ConvertEventTouchesToXYArray(e, v(Array(t).keys())); return n.push(r), r } }, { key: "StartMultiTouch", value: function (e, t, n) { Object.assign(this.multi_touch_state, { type: t, num_touches: n, touches_log: [] }); const r = this.LogMultiTouch(e); let o; "pinch" === this.multi_touch_state.type && (o = this.AppendPinchCalculations({ start_touches: r }), this.controller.FireEvent("user_pinch_start", o)) } }, { key: "MoveMultiTouch", value: function (e) { if (!this.multi_touch_state.type) return; const t = this.multi_touch_state.touches_log[0], n = this.LogMultiTouch(e); let r; "pinch" === this.multi_touch_state.type && (r = this.AppendPinchCalculations({ start_touches: t, end_touches: n }), this.controller.FireEvent("user_pinch_move", r)) } }, { key: "CancelMultiTouch", value: function () { if (!this.multi_touch_state.type) return; const e = this.multi_touch_state.touches_log[0]; let t; "pinch" === this.multi_touch_state.type && (t = this.AppendPinchCalculations({ start_touches: e, end_touches: e }), this.controller.FireEvent("user_pinch_end", t)), this.multi_touch_state.type = "" } }, { key: "EndMultiTouch", value: function () { if (!this.multi_touch_state.type) return; const e = this.multi_touch_state.touches_log[0], t = this.multi_touch_state.touches_log[this.multi_touch_state.touches_log.length - 1]; let n; "pinch" === this.multi_touch_state.type && (n = this.AppendPinchCalculations({ start_touches: e, end_touches: t }), this.controller.FireEvent("user_pinch_end", n)), this.multi_touch_state.type = "" } }, { key: "AppendPinchCalculations", value: function (e) { const { temp_v2_a: t, temp_v2_b: n, temp_v2_c: r } = this; let { start_distance: o, end_distance: i, zoom_value: a } = e; void 0 === a && (void 0 === o && "object" == typeof e.start_touches && (Object.assign(t, e.start_touches[0]), Object.assign(n, e.start_touches[1]), o = n.distanceTo(t)), void 0 === i && "object" == typeof e.end_touches && (Object.assign(t, e.end_touches[0]), Object.assign(n, e.end_touches[1]), i = n.distanceTo(t)), a = void 0 !== o && void 0 !== i ? i / o : 1, Object.assign(e, { start_distance: o, end_distance: i, zoom_value: a })); let { start_center: s, end_center: c, drag_vector: l } = e; void 0 === l && (void 0 === s && "object" == typeof e.start_touches && (Object.assign(t, e.start_touches[0]), Object.assign(n, e.start_touches[1]), s = t.clone().add(n).divideScalar(2)), void 0 === c && "object" == typeof e.end_touches && (Object.assign(t, e.end_touches[0]), Object.assign(n, e.end_touches[1]), c = t.clone().add(n).divideScalar(2)), l = void 0 !== s && void 0 !== c ? c.clone().sub(s) : new N(0, 0), Object.assign(e, { start_center: s, end_center: c, drag_vector: l })); let { start_angle: u, end_angle: d, rotate_value: h } = e; return void 0 === h && (void 0 === u && void 0 !== s && "object" == typeof e.start_touches && (Object.assign(t, e.start_touches[0]), t.sub(s), u = t.angle()), void 0 === d && void 0 !== c && "object" == typeof e.end_touches && (Object.assign(t, e.end_touches[0]), t.sub(c), d = t.angle()), h = void 0 !== u && void 0 !== d ? d - u : 0, Object.assign(e, { start_angle: u, end_angle: d, rotate_value: h })), e } }, { key: "IntersectObjectsFromVector2", value: function (e, t) { var n; this.raycaster.setFromCamera(e, this.display_camera), this.objects.splice(0), void 0 === t ? this.controller.FireEvent("touchscreen_fill_intersective_objects", this.PutObjectToIntersectionArray.bind(this)) : (n = this.objects).push.apply(n, v(t)), this.intersection_result.splice(0), this.objects.forEach((e => { try { this.raycaster.intersectObject(e, !0, this.intersection_result) } catch (t) { this.controller.Warn("Touchscreen.IntersectObjectsFromVector2: deep intersection fails on object", e, "with error", t), this.raycaster.intersectObject(e, !1, this.intersection_result) } })) } }, { key: "IntersectObjectsFromMouse", value: function (e) { return this.IntersectObjectsFromVector2(this.mouse, e) } }, { key: "ResolveIntersectedObject", value: function (e) { let t, n = e.object; for (; t = this.objects.indexOf(n), !(t > -1);) { if (!n.parent) { n = e.object; break } n = n.parent } return { object_index: t, object: n } } }, { key: "OnCursorMove", value: function () { this.IntersectObjectsFromMouse(), this.intersection_result.length ? [this.intersection_result[0]].forEach(((e, t) => { let { object_index: n, object: r } = this.ResolveIntersectedObject(e); 0 === t && this.previous_rayin_object !== r && (this.RayOutPreviousObject(), this.controller.FireEvent("touchscreen_object_rayin_" + r.name, r, this.intersection_result), this.previous_rayin_object = r) })) : this.RayOutPreviousObject() } }, { key: "OnCursorMoveDebounced", value: function () { this.timer_cursor_move && (clearTimeout(this.timer_cursor_move), this.timer_cursor_move = void 0); const e = Date.now(), t = 300 - (e - this.timestamp_cursor_move); t < 0 ? (this.timestamp_cursor_move = e, this.OnCursorMove()) : this.timer_cursor_move = setTimeout((() => { this.timer_cursor_move = void 0, this.timestamp_cursor_move = Date.now(), this.OnCursorMove() }), t) } }, { key: "OnTrackingChange", value: function () { this.mouse.set(0, 0), this.OnCursorMoveDebounced() } }, { key: "OnMouseMove", value: function (e) { this.enable_regular_intersection && (this.TranslateEventFirstTouchToMouseXY(e), this.OnCursorMoveDebounced()) } }, { key: "OnMouseClick", value: function (e) { this.TranslateEventFirstTouchToMouseXY(e), this.IntersectObjectsFromMouse(), this.intersection_result.length ? this.intersection_result.forEach(((e, t) => { let { object_index: n, object: r } = this.ResolveIntersectedObject(e); 0 === t ? this.controller.FireEvent("touchscreen_object_click_" + r.name, r, this.intersection_result, this.mouse) : this.controller.FireEvent("touchscreen_object_click_hidden_" + r.name, r, this.intersection_result, this.mouse, t) })) : this.controller.FireEvent("touchscreen_space_click", this.mouse) } }, { key: "ConvertEventTouchesToXYArray", value: function (e, t) { const n = [], r = [], o = e.target.getBoundingClientRect(), i = this.display_scene_wrap.getBoundingClientRect(), a = o.top - i.top, s = o.left - i.left, c = o.top + scrollY, l = o.left + scrollX; e.touches ? r.push.apply(r, v(Array.from(e.touches).map((e => ({ x: e.pageX - l + s, y: e.pageY - c + a }))))) : r.push({ x: e.pageX - l + s, y: e.pageY - c + a }), t || (t = Array.from(r.keys())); for (const e of t) { const t = r[e]; if (t) { const e = { x: (t.x / this.display_scene_width * 2 - 1) * this.mouse_multiplier_x, y: (t.y / this.display_scene_height * 2 - 1) * this.mouse_multiplier_y }; n.push(e) } } return n } }, { key: "IsMultiTouchEvent", value: function (e, t = 1) { return !!e.touches && Array.from(e.touches).length >= t } }, { key: "TranslateEventFirstTouchToMouseXY", value: function (e) { const [t] = this.ConvertEventTouchesToXYArray(e, [0]); Object.assign(this.mouse, t) } }, { key: "Init", value: function () { return new Promise((e => { e() })) } }]), e }(); const { Object3D: J, Quaternion: U, Euler: Z } = THREE; let W = function () { function e() { i(this, e), this.sensor_rotations = void 0, this.quaternion = void 0, this.quaternion_origin = void 0, this.quaternion_compensation = void 0, this.euler_origin = void 0, this.data = { alpha: 0, beta: 90, gamma: 0, orientation: 0 }, this.needs_update = !1, this.recalibration_requested = !1, this.RAD = Math.PI / 180, this.DEG = 180 / Math.PI, this.OnSensorMoveBinded = this.OnSensorMove.bind(this), this.OnDeviceReorientationBinded = this.OnDeviceReorientation.bind(this), this.screen_orientation_degrees = 0, this.compensation_requested = !0, this.compensate_non_absolute = !1 } return s(e, [{ key: "Events", value: function () { const e = this, t = e.controller; t.AddEvent("orientation_provider.setup", (() => { e.CreateProperties(), t.AddEvent("orientation_provider.set_alphabetagamma", (([t, n, r, o]) => { e.OnSensorReceive(t, n, r, o) })) })), t.AddEvent("orientation_provider.enable", (() => e.Enable())), t.AddEvent("orientation_provider.disable", (() => e.Disable())), t.AddEvent("orientation_provider.update", (() => e.Update())), t.AddEvent("orientation_provider.request_recalibration", (() => e.RequestRecalibration())), t.AddEvent("orientation_provider.results", (t => Object.assign(t, { quaternion: e.quaternion, data: e.data }))) } }, { key: "CreateProperties", value: function () { this.sensor_rotations = new J, this.quaternion = new U, this.quaternion_origin = new U, this.euler_origin = new Z, void 0 !== this.screen_orientation_degrees && (this.data.orientation = this.screen_orientation_degrees, this.euler_origin.set(90 * this.RAD, 180 * this.RAD, (180 + this.screen_orientation_degrees) * this.RAD)) } }, { key: "PerformRecalibration", value: function () { this.sensor_rotations.setRotationFromEuler(this.euler_origin), this.sensor_rotations.rotateZ(this.data.alpha * this.RAD), this.sensor_rotations.rotateX(this.data.beta * this.RAD), this.sensor_rotations.rotateY(this.data.gamma * this.RAD), this.sensor_rotations.rotation.z -= this.data.orientation, this.quaternion_origin.copy(this.sensor_rotations.quaternion), this.quaternion_origin.invert(), this.recalibration_requested = !1 } }, { key: "ResetCompensation", value: function () { this.quaternion_compensation.identity() } }, { key: "UpdateCompensation", value: function () { void 0 === this.quaternion_compensation ? this.quaternion_compensation = this.sensor_rotations.quaternion.clone() : this.quaternion_compensation.copy(this.sensor_rotations.quaternion); const e = this.sensor_rotations.quaternion.clone().invert(), t = new THREE.Vector3(0, 1, 0), n = t.clone().applyQuaternion(e), r = (new THREE.Quaternion).setFromUnitVectors(t, n); this.quaternion_compensation.multiply(r) } }, { key: "OnDeviceReorientation", value: function (e) { this.screen_orientation_degrees = e.angle, this.data.orientation = this.screen_orientation_degrees * this.RAD || 0 } }, { key: "OnSensorMove", value: function (e) { this.OnSensorReceive(e.alpha, e.beta, e.gamma, e.absolute) } }, { key: "OnSensorReceive", value: function (e, t, n, r) { null !== e && null !== t && null !== n && Object.assign(this.data, { alpha: e, beta: t, gamma: n }), this.needs_update = !0, this.recalibration_requested && this.PerformRecalibration(), this.compensation_requested || !this.compensate_non_absolute || r || void 0 !== this.quaternion_compensation || (this.compensation_requested = !0) } }, { key: "Enable", value: function () { this.controller.Log("OrientationProvider.Enable"), this.controller.FireEvent("browser.subscribe_screen_orientation", this.OnDeviceReorientationBinded), this.controller.FireEvent("browser.send_screen_orientation") } }, { key: "Disable", value: function () { this.controller.Log("OrientationProvider.Disable"), this.controller.FireEvent("browser.unsubscribe_screen_orientation", this.OnDeviceReorientationBinded) } }, { key: "RequestRecalibration", value: function () { this.recalibration_requested = !0 } }, { key: "RequestCompensation", value: function () { this.compensation_requested = !0 } }, { key: "Update", value: function () { !1 !== this.needs_update && (this.sensor_rotations.setRotationFromEuler(this.euler_origin), this.sensor_rotations.applyQuaternion(this.quaternion_origin), this.sensor_rotations.rotateZ(this.data.alpha * this.RAD), this.sensor_rotations.rotateX(this.data.beta * this.RAD), this.sensor_rotations.rotateY(this.data.gamma * this.RAD), this.sensor_rotations.rotateZ(-this.data.orientation), this.quaternion.copy(this.sensor_rotations.quaternion), this.quaternion.invert(), this.compensation_requested && (this.UpdateCompensation(), this.compensation_requested = !1), this.quaternion_compensation && this.quaternion.multiply(this.quaternion_compensation), this.needs_update = !1) } }, { key: "Init", value: async function () { } }]), e }(), q = function () { function e() { i(this, e), this.initialized = !1, this.tracking_type = "none", this.videosouce_is_portrait = !0, this.controller = null, this.videosource_normalized_stream_width = void 0, this.videosource_normalized_stream_height = void 0 } return s(e, [{ key: "Events", value: function () { const e = this, t = e.controller; t.AddEvent("tracking.set_normalized_stream_dimensions", ((t, n) => { e.videosource_normalized_stream_width = t, e.videosource_normalized_stream_height = n })), t.AddEvent("tracking.read_fovs", (async () => { const [n, r] = await e.DummyFovs(e.videosource_normalized_stream_width, e.videosource_normalized_stream_height); t.FireEvent("display.stream_fovs", n, r) })), t.AddEvent("tracking.setup", (async () => { await t.FireEvent("tracking.read_fovs"), t.FireEvent("display.set_buffer_width", e.videosource_normalized_stream_width), t.FireEvent("display.change_scene_size", e.videosouce_is_portrait) })), t.AddEvent("tracking_up", (() => { t.AddEvent("tracking.track", (async () => { await e.Track() })) })), t.AddEvent("display.change_scene_size", (t => { "boolean" == typeof t && (e.videosouce_is_portrait = t) })) } }, { key: "DummyFovs", value: async function (e, t) { return [45, 35] } }, { key: "Init", value: async function () { const e = this.controller; e.tracking, e.Log("DummyTracking.Init: Creating dummy tracking initialization promise...") } }, { key: "Track", value: async function () { this.controller.Warn("DummyTracking.Track: Calling abstract Track() method of DummyTracking object") } }, { key: "Step", value: async function () { const e = Date.now(); return await this.controller.FireEvent("display.track_video"), e } }, { key: "Run", value: function () { "none" != this.tracking_type ? this.initialized ? this.controller.Info(`DummyTracking.Run: Start tracking ${this.tracking_type}`) : this.controller.Error("DummyTracking.Run: Tracking object is not initialized, call Init() first") : this.controller.Error("DummyTracking.Run: Tracking type is not defined") } }]), e }(), z = function () { function e(...t) { i(this, e), this.init_stages = [[], [], [], [], [], [], [], []], this.events = new Map, this.events_once = new WeakMap, this.initialized = !1, this.videosource = null, this.tracking = null, this.display = null, this.scene_manager = null, this.touchscreen = null, this.orientation_provider = null, this.debug = window.WEBAR_DEBUG || !1, this.control_loop_tracking = { limit_fps: 30 }, this.control_loop_display = { limit_fps: 30 }, this.resolved_promise = new Promise((e => e())), this.debug ? (this.Log = console.log.bind(console), this.Error = console.error.bind(console), this.Warn = console.warn.bind(console), this.Info = console.info.bind(console)) : (this.Log = () => { }, this.Error = () => { }, this.Warn = () => { }, this.Info = () => { }); for (let e of t) e instanceof A ? (this.videosource = e, this.AddInitFunction(0, this.InitVideoSource)) : e instanceof y || e instanceof q ? (this.tracking = e, this.AddInitFunction(0, this.InitTrackingModule), this.AddInitFunction(4, this.SetupTrackingModule)) : e instanceof P ? (this.display = e, this.AddInitFunction(0, this.InitDisplay), this.AddInitFunction(4, this.SetupDisplay)) : e instanceof K ? (this.touchscreen = e, this.AddInitFunction(0, this.InitTouchscreen), this.AddInitFunction(5, this.SetupTouchscreen)) : e instanceof g ? (this.browser = e, this.AddInitFunction(0, this.InitBrowser), this.AddInitFunction(1, this.SetupBrowser)) : e instanceof G ? (this.scene_manager = e, this.AddInitFunction(0, this.InitSceneManager), this.AddInitFunction(1, this.SetupSceneManager)) : e instanceof W && (this.orientation_provider = e, this.AddInitFunction(0, this.InitOrientationProvider), this.AddInitFunction(1, this.SetupOrientationProvider)) } return s(e, [{ key: "AddInitFunction", value: function (e, t) { this.init_stages[e].push(t) } }, { key: "AddEvent", value: function (e, t, n = !1) { if (this.events.has(e)) { const n = this.events.get(e); n.indexOf(t) < 0 && n.push(t) } else this.events.set(e, [t]); if (n) if (this.events_once.has(t)) { const n = this.events_once.get(t); n.has(e) || n.add(e) } else this.events_once.set(t, new Set([e])) } }, { key: "FireEvent", value: function (e, ...t) { if (!this.events.has(e)) return this.resolved_promise; const n = this.events.get(e), r = []; return n.forEach((n => { if (this.events_once.has(n)) { const t = this.events_once.get(n); t.has(e) && (this.RemoveEvent(e, n), 1 === t.size ? this.events_once.delete(n) : t.delete(e)) } const o = n.apply(this, [].concat(t, [Promise.all([].concat(r))])); o instanceof Promise && r.push(o) })), Promise.all(r) } }, { key: "RemoveEvent", value: function (e, t) { if (this.events.has(e)) { let n = this.events.get(e), r = n.indexOf(t); r > -1 && (n = n.filter(((e, t) => r != t)), this.events.set(e, n)) } } }, { key: "InitTouchscreen", value: function () { const e = this, t = e.touchscreen; return t.controller = e, t.Events(), e.Log("Controller.InitTouchscreen: Creating touchscreen initialization promise..."), t.Init().then((() => { e.FireEvent("touchscreen_initialized"), t.initialized = !0, e.Log("Controller.InitTouchscreen: Touchscreen initialization done") })) } }, { key: "InitTrackingModule", value: function () { const e = this, t = e.tracking; return t.controller = e, t.Events(), e.Log("Controller.InitTrackingModule: Creating tracking initialization promise..."), t.Init().then((() => { e.FireEvent("tracking_initialized"), t.initialized = !0, e.Log("Controller.InitTrackingModule: Tracking initialization done") })) } }, { key: "InitDisplay", value: function () { const e = this, t = e.display; return t.controller = e, t.Events(), e.Log("Controller.InitDisplay: Creating display initialization promise..."), t.Init().then((() => { e.FireEvent("display_initialized"), t.initialized = !0, e.Log("Controller.InitDisplay: Display initialization done") })) } }, { key: "InitVideoSource", value: function () { const e = this, t = this.videosource; return t.controller = e, t.Events(), e.Log("Controller.InitVideoSource: Creating videosource initialization promise..."), t.Init().then((() => { e.FireEvent("videosource_initialized"), t.initialized = !0, e.Log("Controller.InitVideoSource: Videosource initialization done") })) } }, { key: "InitBrowser", value: function () { const e = this, t = this.browser; return t.controller = e, t.Events(), e.Log("Controller.InitBrowser: Creating browser initialization promise..."), t.Init().then((() => { e.FireEvent("browser_initialized"), t.initialized = !0, e.Log("Controller.InitBrowser: Browser initialization done") })) } }, { key: "InitSceneManager", value: function () { const e = this, t = this.scene_manager; return t.controller = e, t.Events(), e.Log("Controller.InitSceneManager: Creating scene manager initialization promise..."), t.Init().then((() => { e.FireEvent("scene_manager_initialized"), t.initialized = !0, e.Log("Controller.InitSceneManager: Scene manager initialization done") })) } }, { key: "InitOrientationProvider", value: function () { const e = this, t = this.orientation_provider; return t.controller = e, t.Events(), e.Log("Controller.InitOrientationProvider: Creating orientation provider initialization promise..."), t.Init().then((() => { e.FireEvent("orientation_provider_initialized"), t.initialized = !0, e.Log("Controller.InitOrientationProvider: Scene manager initialization done") })) } }, { key: "SetupTouchscreen", value: async function () { this.Log("Controller.SetupTouchscreen: Enter SetupTouchscreen..."), await this.FireEvent("touchscreen.setup"), this.touchscreen.up = !0, this.Log("Controller.SetupTouchscreen: Touchscreen up!"), this.FireEvent("touchscreen_up"), this.Log("Controller.SetupTouchscreen: Exit SetupTouchscreen") } }, { key: "SetupDisplay", value: async function () { this.Log("Controller.SetupDisplay: Enter SetupDisplay..."), await this.FireEvent("display.setup"), this.display.up = !0, this.Log("Controller.SetupDisplay: Display up!"), this.FireEvent("display_up"), this.Log("Controller.SetupDisplay: Exit SetupDisplay") } }, { key: "SetupTrackingModule", value: async function () { this.Log("Controller.SetupTrackingModule: Enter SetupTrackingModule..."), await this.FireEvent("tracking.setup"), this.tracking.up = !0, this.Log("Controller.SetupTrackingModule: Tracking up!"), this.FireEvent("tracking_up"), this.Log("Controller.SetupTrackingModule: Exit SetupTrackingModule") } }, { key: "SetupBrowser", value: async function () { this.Log("Controller.SetupBrowser: Enter SetupBrowser..."), await this.FireEvent("browser.setup"), this.browser.up = !0, this.Log("Controller.SetupBrowser: Browser up!"), this.FireEvent("browser_up"), this.Log("Controller.SetupBrowser: Exit SetupBrowser") } }, { key: "SetupSceneManager", value: async function () { this.Log("Controller.SetupSceneManager: Enter SetupSceneManager..."), await this.FireEvent("scene_manager.setup"), this.scene_manager.up = !0, this.Log("Controller.SetupSceneManager: Scene manager up!"), this.FireEvent("scene_manager_up"), this.Log("Controller.SetupSceneManager: Exit SetupSceneManager") } }, { key: "SetupOrientationProvider", value: async function () { this.Log("Controller.SetupOrientationProvider: Enter SetupOrientationProvider..."), await this.FireEvent("orientation_provider.setup"), this.orientation_provider.up = !0, this.Log("Controller.SetupOrientationProvider: Orientation provider up!"), this.FireEvent("orientation_provider_up"), this.Log("Controller.SetupOrientationProvider: Exit SetupOrientationProvider") } }, { key: "Loop", value: async function (e, t = { limit_fps: 30, cancel: !1, pause_time: 0, idle: !1 }) { let n = 0; const r = e => new Promise((t => setTimeout(t, e))); for (; ;) { if (t.cancel) return; t.pause_time && t.pause_time > 0 && (await r(t.pause_time), t.pause_time = 0); let o = Math.ceil(1e3 / t.limit_fps - (Date.now() - n)); o > 0 && await r(o), n = t.idle ? Date.now() : await e() } } }, { key: "LoopDisplay", value: function () { const e = this.Loop((() => this.display.Step()), this.control_loop_display); return e.name = "display", e } }, { key: "LoopTracking", value: function () { const e = this.Loop((() => this.tracking.Step()), this.control_loop_tracking); return e.name = "tracking", e } }, { key: "Run", value: function () { return Promise.all([this.LoopDisplay(), this.LoopTracking()]) } }, { key: "Init", value: function () { const e = this; let t; return this.init_stages.forEach(((n, r) => { let o = () => { e.Log(`Controller.Init: Running init stage ${r} (${n.length})...`); let t = n.map(((t, n) => { if (void 0 !== t) return t.call(e); e.Error(`Controller.Init: Undefined promise-making function at stage ${r}, #${n}`) })).filter((e => !!e)); const o = Promise.all(t); return e.Log(`Controller.Init: End of Running init stage ${r} (${n.length})`), o }; t = r ? t.then(o) : o() })), t.then((() => { e.FireEvent("controller_initialized"), e.Log("Controller.Init: Controller initialization done"), e.initialized = !0 })) } }]), e }(), X = function (e) { l(n, e); var t = f(n); function n(e, r, ...o) { var a; return i(this, n), (a = t.call.apply(t, [this].concat(o))).tracking_type = "markerless", a.coordinates = v(e), a.quaternion = v(r), a } return s(n, [{ key: "Events", value: function () { _(u(n.prototype), "Events", this).call(this) } }, { key: "Init", value: function () { return _(u(n.prototype), "Init", this).call(this) } }, { key: "Track", value: async function () { this.controller.FireEvent("display.set_world_coordinates_and_quaternion", this.coordinates, this.quaternion) } }]), n }(q), Q = function (e) { l(n, e); var t = f(n); function n(...e) { var r; return i(this, n), (r = t.call.apply(t, [this].concat(e))).shown_marker_indexes = [], r.markers = [], r.marker_index = -1, r } return s(n, [{ key: "convertImageUrlToCanvas", value: function (e, t = 300) { return new Promise((n => { const r = new Image; r.crossOrigin = "anonymous", r.onload = () => { const e = document.createElement("canvas"), o = e.getContext("2d"), i = Math.min(r.width, r.height) / t; if (1 != i) { const t = Math.round(r.width / i), n = Math.round(r.height / i); e.width = t, e.height = n, o.drawImage(r, 0, 0, t, n) } else e.width = r.width, e.height = r.height, o.drawImage(r, 0, 0); n(e) }, r.src = e })) } }, { key: "LoadMarkerImage", value: async function (e) { const t = await this.convertImageUrlToCanvas(e), { width: n, height: r } = t, o = t.getContext("2d").getImageData(0, 0, n, r).data, i = parseInt(o.byteLength), a = n << 16 | r; return this.controller.Log(`MarkerOpticalTracking.LoadMarkerImage: Marker image loaded: url = ${e}, size = ${i}`), { image: e, size: i, data: o, widthheight: a, width: n, height: r } } }, { key: "IsCoordinatesLost", value: function (e) { const t = [-9999, -100, 0, 100, 9999]; return e.every(((e, n) => -1 !== t.indexOf(e))) } }, { key: "ChangeMarkers", value: function () { this.shown_marker_indexes = []; for (let e = 0; e < this.markers.length; e++) { const t = this.markers[e]; if (!t) continue; let n = !1, r = !1, o = !1; if ("object" == typeof this.shown_marker_results[e]) { const { coordinates: i, quaternion: a } = this.shown_marker_results[e]; this.IsCoordinatesLost(i) && (r = !0), t.coordinates && t.coordinates.every(((e, t) => e === i[t])) || (t.coordinates = i, n = !0), t.quaternion && t.quaternion.every(((e, t) => e === a[t])) || (t.quaternion = a, n = !0), r || (this.shown_marker_indexes.push(e), o = !0) } !o && t.show && (this.controller.Log(`MarkerOpticalTracking.ChangeMarkers: hide marker ${e} cause of:`, { is_changed: n, is_shown: o, results: this.shown_marker_results[e] }), this.controller.FireEvent("user_marker_hide", t, e), t.show = !1) } this.shown_marker_indexes.length && this.shown_marker_indexes.map((e => { const t = this.markers[e]; t.show || (this.controller.Log(`MarkerOpticalTracking.ChangeMarkers: show marker ${e} cause of tracking results is changed and show flag was false:`, this.shown_marker_results[e]), this.controller.FireEvent("user_marker_show", t, e), t.show = !0), this.controller.FireEvent("display.set_marker_coordinates_and_quaternion", t, t.coordinates, t.quaternion) }), this) } }, { key: "Init", value: function () { return _(u(n.prototype), "Init", this).call(this) } }]), n }(y), Y = function (e) { l(n, e); var t = f(n); function n(e, ...r) { var o; return i(this, n), (o = t.call.apply(t, [this].concat(r))).tracking_type = "image", o.marker_defs = v(e), o } return s(n, [{ key: "Events", value: function () { _(u(n.prototype), "Events", this).call(this); const e = this; this.controller.AddEvent("tracking.setup", (async () => { await e.ApplyMarkers() })) } }, { key: "ApplyMarkers", value: async function () { for (let e of Object.keys(this.markers)) { const t = parseInt(e), n = this.markers[t]; this.controller.Log(`ImageMarkerOpticalTracking.ApplyMarkers: marker[${t}] initialization: saved size is ${n.size} bytes, arraybuffer length is ${n.data.length}`), await this.chat({ type: "memory_alloc", args: [n.size], next: { type: "set_result_to_var", args: ["marker_ptr"], next: { type: "memory_write_array", args: [n.data, { __var: "marker_ptr" }], next: { type: "module_call", func: "_createMarkerWeb", args: [{ __var: "marker_ptr" }, n.widthheight], next: { type: "module_call", func: "_free", args: [{ __var: "marker_ptr" }] } } } } }), delete n.data } } }, { key: "LoadMarkers", value: function () { return Promise.all(this.marker_defs.map(this.LoadSingleMarker, this)) } }, { key: "LoadSingleMarker", value: async function (e, t) { const { image: n } = e, r = await this.LoadMarkerImage(n); return this.markers[t] = o({ index: t }, r) } }, { key: "Track", value: async function () { this.shown_marker_indexes = Object.keys(this.markers).map((e => parseInt(e))), this.shown_marker_results = []; for (const e of this.shown_marker_indexes) { const { coordinates: t, quaternion: n } = await this.chat({ type: "module_call", func: "_featureTrackingWeb", args: [e, !0], next: { type: "tracking_result" } }); this.shown_marker_results[e] = { coordinates: t, quaternion: n } } this.ChangeMarkers() } }, { key: "Init", value: async function () { return await _(u(n.prototype), "Init", this).call(this), await this.LoadMarkers() } }]), n }(Q), $ = function (e) { l(n, e); var t = f(n); function n(...e) { return i(this, n), t.call.apply(t, [this].concat(e)) } return s(n, [{ key: "Events", value: function () { _(u(n.prototype), "Events", this).call(this) } }, { key: "LoadSingleMarker", value: async function (e, t) { const { image: n, top_diameter: r, bottom_diameter: i, side_lenght: a } = e, s = await this.LoadMarkerImage(n); return this.markers[t] = o(o({ index: t }, s), {}, { top_diameter: r, bottom_diameter: i, side_lenght: a }) } }, { key: "ApplyMarkers", value: async function () { for (let r of Object.keys(this.markers)) { var e, t, n; const o = parseInt(r), i = this.markers[o]; this.controller.Log(`CylinderMarkerOpticalTracking.ApplyMarkers: marker[${o}] initialization: saved size is ${i.size} bytes, arraybuffer length is ${i.data.length}`), await this.chat({ type: "memory_alloc", args: [i.size], next: { type: "set_result_to_var", args: ["marker_ptr"], next: { type: "memory_write_array", args: [i.data, { __var: "marker_ptr" }], next: { type: "module_call", func: "_createMarkerCylinderWeb", args: [{ __var: "marker_ptr" }, i.widthheight, null !== (e = i.top_diameter) && void 0 !== e ? e : i.width / Math.PI, null !== (t = i.bottom_diameter) && void 0 !== t ? t : i.width / Math.PI, null !== (n = i.side_lenght) && void 0 !== n ? n : i.height], next: { type: "module_call", func: "_free", args: [{ __var: "marker_ptr" }] } } } } }), delete i.data } } }, { key: "Track", value: async function () { this.shown_marker_indexes = Object.keys(this.markers).map((e => parseInt(e))), this.shown_marker_results = []; for (const e of this.shown_marker_indexes) { const { coordinates: t, quaternion: n } = await this.chat({ type: "module_call", func: "_featureTrackingCylinderWeb", args: [e, !0], next: { type: "tracking_result" } }); this.shown_marker_results[e] = { coordinates: t, quaternion: n } } this.ChangeMarkers() } }, { key: "Init", value: async function () { await _(u(n.prototype), "Init", this).call(this) } }]), n }(Y), ee = function (e) { l(n, e); var t = f(n); function n(...e) { var r; return i(this, n), (r = t.call.apply(t, [this].concat(e))).tracking_type = "markerless", r.gravity_vector = [0, 0, 0], r.gravity_vector_translated = [0, 0, 0], r.is_acceletometer_required = !0, r.is_deviceorientation_required = !1, r } return s(n, [{ key: "Events", value: function () { _(u(n.prototype), "Events", this).call(this); const e = this, t = e.controller; t.AddEvent("tracking.setup", (async () => { const n = []; this.is_acceletometer_required && n.push(e.InitAccelerometer()), this.is_deviceorientation_required && n.push(e.InitDeviceOrientation()); try { return await Promise.all(n) } catch (e) { "NO_GRAVITY" == e && t.FireEvent("user_accelerometer_error", e) } })), t.AddEvent("tracking.set_gravity_vector", ((t, n, r) => { e.SetGravityVector(t, n, r) })) } }, { key: "SetGravityVector", value: function (e, t, n) { this.gravity_vector = [e, t, n] } }, { key: "InitAccelerometer", value: function () { return new Promise((async (e, t) => { await this.controller.FireEvent("browser.try_request_accelerometer_permission"), this.controller.Log("MarkerOpticalTracking.InitAccelerometer: Try to create accelerometer reader..."), this.controller.FireEvent("browser.setup_accelerometer_reader").then(e).catch((n => { this.controller.Warn("MarkerOpticalTracking.InitAccelerometer: Cant create accelerometer reader", n), window.DeviceMotionEvent ? (this.controller.Log("MarkerOpticalTracking.InitAccelerometer: Try to setup safari/ff devicemotion..."), this.controller.FireEvent("browser.create_safari_devicemotion_allow_promise").then(e).catch((e => { this.controller.Error(e), t("NO_GRAVITY") }))) : (this.controller.Error("MarkerOpticalTracking.InitAccelerometer: Cant find accelerometer sensor"), t("NO_GRAVITY")) })) })) } }, { key: "InitDeviceOrientation", value: function () { return new Promise(((e, t) => { this.controller.Log("MarkerOpticalTracking.InitDeviceOrientation: Try to setup safari/ff deviceorientation..."), this.controller.FireEvent("browser.create_safari_deviceorientation_allow_promise").then(e).catch((e => { this.controller.Error(e), t("NO_GRAVITY") })) })) } }, { key: "Init", value: function () { return this.controller, _(u(n.prototype), "Init", this).call(this) } }, { key: "TranslateAccelerometer", value: function (e, t, n) { return [e, -t, n] } }, { key: "SetWorldCoordinatesAndQuaternionIfChanged", value: function (e, t) { let n = !1; this.scene_coords && this.scene_coords.every(((t, n) => t === e[n])) || (this.scene_coords = e, n = !0), this.scene_quaternion && this.scene_quaternion.every(((e, n) => e === t[n])) || (this.scene_quaternion = t, n = !0), n && this.controller.FireEvent("display.set_world_coordinates_and_quaternion", e, t) } }, { key: "Track", value: async function () { this.need_recalculate_model_place && (this.RecalculateModelPlace(), this.controller.FireEvent("tracking.set_need_recalculate_model_place", !1)), this.gravity_vector_translated = this.TranslateAccelerometer.apply(this, v(this.gravity_vector)); const { coordinates: e, quaternion: t } = await this.chat({ type: "module_call", func: "_processLiteArWeb", args: v(this.gravity_vector_translated), next: { type: "tracking_result" } }); this.SetWorldCoordinatesAndQuaternionIfChanged(e, t) } }]), n }(y); const { Color: te, Vector3: ne, BufferGeometry: re, Mesh: oe, DoubleSide: ie, ShaderMaterial: ae, MeshPhongMaterial: se, BufferAttribute: ce } = THREE; let le; const ue = [], de = [], he = []; let fe, pe, _e; const ve = new te, me = [new ne, new ne, new ne], ge = new ne, Ae = new ne, ye = new re; function Be(e, t) { const n = []; for (let e = 0; e < 3; e++)n[3 * e] = t.r, n[3 * e + 1] = t.g, n[3 * e + 2] = t.b; pe.set(n, 9 * e) } function be(e) { const t = []; for (let t = 0; t < 3; t++)me[t].set(e[3 * t], e[3 * t + 1], e[3 * t + 2]); ge.subVectors(me[2], me[1]), Ae.subVectors(me[0], me[1]), ge.cross(Ae), ge.normalize(); for (let e = 0; e < 3; e++)t[3 * e] = ge.x, t[3 * e + 1] = ge.y, t[3 * e + 2] = ge.z; return t } function Ce(e, t) { const n = []; for (let e = 0; e < 9; e++)n[e] = t[e]; fe.set(n, 9 * e), fe.needsUpdate = !0; const r = be(n); _e.set(r, 9 * e), _e.needsUpdate = !0 } ye.frustumCulled = !1; var Ee = Object.freeze({ __proto__: null, make_mesh: function (e) { const t = new oe(ye, e); return t.frustumCulled = !1, t.visible = !0, t.name = "surface", t }, make_colored_material: function () { return new se({ color: 11184810, specular: 16777215, shininess: 250, side: ie, vertexColors: !0 }) }, make_griddecay_material: function () { const e = new ae({ uniforms: { time: { value: 0 } }, vertexShader: "\n\t\t\t\t\t\tuniform float time;\n\t\t\t\t\t\tvarying vec3 pos;\n\t\t\t\t\t\tvoid main()\t{\n\t\t\t\t\t\t\t\tpos = position;\n\t\t\t\t\t\t\t\tvec3 p = position;\n\t\t\t\t\t\t\t\t//p.y = sin(p.x * .1 - time) * cos(p.z * .1 - time) * 5.;\n\t\t\t\t\t\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4(p,1.0);\n\t\t\t\t\t\t}\n\t\t\t\t", fragmentShader: "\n\t\t\t\t\t\t// based on http://madebyevan.com/shaders/grid/ \n\t\t\t\t\t\t\n\t\t\t\t\t\t//#extension GL_OES_standard_derivatives : enable\n\t\t\n\t\t\t\t\t\tvarying vec3 pos;\n\t\t\t\t\t\tuniform float time;\n\t\t\t\t\t\t\n\t\t\t\t\t\tfloat line(float width, vec3 step){\n\t\t\t\t\t\t\t\tvec3 tempCoord = pos / step;\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tvec2 coord = tempCoord.xy;\n\t\t\n\t\t\t\t\t\t\t\tvec2 grid = abs(fract(coord - 0.5) - 0.5) / fwidth(coord * width);\n\t\t\t\t\t\t\t\tfloat line = min(grid.x, grid.y);\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\treturn 1. - min(line, 1.0);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t\tvoid main() {\n\t\t\t\t\t\t\t\tfloat v = line(2., vec3(0.1)) + line(3.0, vec3(1.0));\t\t\n\t\t\t\t\t\t\t\t//v = 1.0;\t\t\t\t\n\t\t\t\t\t\t\t\t//vec4 c = v * vec4(0., 1., 1., 1.) * (sin(time * 5. - pos.z * .25) * .5 + .5);\n\t\t\t\t\t\t\t\tvec4 c = v * vec4(0., 1., 1., 1.) * (sin((time * 12.0 - gl_FragCoord.y * 0.005)*0.5) * 0.5 + 0.5);\n\t\t\t\t\t\t\t\tc = mix(vec4(1,1,1,0), c, v);\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tgl_FragColor = c;\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t//float a = clamp( 1.0+1.0-time/1.0, 0.0, 1.0 );\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t//if (gl_FragColor.a>a)\n\t\t\t\t\t\t\t\t//gl_FragColor.a = a;\n\t\t\t\t\t\t\t\tif (time>1.0)\n\t\t\t\t\t\t\t\tgl_FragColor.a = 0.0;\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t//gl_FragColor.a = 1.0;\n\t\t\t\t\t\t}\n\t\t\t\t" }); return e.transparent = !0, e.side = ie, e.extensions.derivatives = !0, e }, geometry: ye, set_triangles_from_svo_additional_tracking_data: function (e) { const t = e.shift(), n = Math.min(t, le); for (let t = 0; t < n; t++)Be(t, ve.setRGB(Math.random(), Math.random(), Math.random())), Ce(t, e.splice(0, 9)); ye.setDrawRange(0, 3 * n), ye.computeBoundingBox(), ye.computeBoundingSphere() }, init_instanced_attributes: function (e = 500) { if (le) throw new Error(`surface attributes already inited with num_instances=${le}`); le = e; for (let e = 0; e < le; e++) { const t = [Math.random(), Math.random(), Math.random()]; he.splice.apply(he, [9 * e, 0].concat(t, t, t)); const n = [1, 1, 1, 1, 1, 1, 1, 1, 1]; ue.splice.apply(ue, [9 * e, 0].concat(n)); const r = be(n); de.splice.apply(de, [9 * e, 0].concat(v(r))) } pe = new ce(new Float32Array(he), 3), fe = new ce(new Float32Array(ue), 3), _e = new ce(new Float32Array(de), 3), ye.setAttribute("position", fe), ye.setAttribute("color", pe), ye.setAttribute("normal", _e) } }); let we = function (e) { l(n, e); var t = f(n); function n(...e) { var r; return i(this, n), (r = t.call.apply(t, [this].concat(e))).previous_tracking_status = void 0, r.svo_init_delay = 3e3, r.svo_init_timer = void 0, r.is_init_svo_additional_tracking_data = !0, r.use_svo_additional_tracking_data = !1, r.svo_max_triangles = 500, r.svo_additional_tracking_data_f32_size = 1 + 9 * r.svo_max_triangles, r.svo_additional_tracking_data_f32 = [], r.SVO_STATUS_PAUSED = 0, r.SVO_STATUS_FRAMEINIT = 1, r.SVO_STATUS_MOVEINIT = 2, r.SVO_STATUS_OK = 3, r.SVO_STATUS_LOST = 4, r.is_deviceorientation_required = !0, r.surface = void 0, r.surface_material = "griddecay", r } return s(n, [{ key: "Events", value: function () { _(u(n.prototype), "Events", this).call(this); const e = this.controller, t = o({}, e.control_loop_tracking); let r; e.AddEvent("tracking.frame_converter_created", (() => { r = e.Loop((() => e.FireEvent("display.track_video")), t), r.name = "tracking_svo_start" })), e.AddEvent("tracking.setup", (() => { e.FireEvent("orientation_provider.enable") })), e.AddEvent("tracking_up", (() => { t.cancel = !0 })) } }, { key: "SetUserSvoTrackingStatus", value: function (e) { this.previous_tracking_status !== e && (this.controller.FireEvent("user_tracking_svo_status_changed", e, this.previous_tracking_status), this.previous_tracking_status = e) } }, { key: "InitSVO", value: async function () { this.controller.Log("[Module] _initSvoWeb"), await this.chat({ type: "module_call", func: "_initSvoWeb", next: { type: "memory_alloc_to_new_var", args: ["ptr_sensor_data", this.sensor_data_array.byteLength] } }), this.is_init_svo_additional_tracking_data && (await this.chat({ type: "memory_alloc_to_new_var", args: ["ptr_svo_additional_tracking_data_f32", 4 * this.svo_additional_tracking_data_f32_size] }), this.InitSurface()) } }, { key: "InitSurface", value: function () { if (this.surface) return; this.surface = Ee, this.surface.init_instanced_attributes(this.svo_max_triangles); let e = this.surface_material; "string" == typeof e ? e = this.surface[`make_${e}_material`]() : "object" != typeof e && (e = this.surface.make_colored_material()); const t = this.surface.make_mesh(e); this.controller.FireEvent("tracking_svo_surface_mesh_created", t) } }, { key: "ReadSvoAdditionalTrackingData", value: async function () { return this.svo_additional_tracking_data_f32 = await this.chat({ type: "memory_read_f32", args: [{ __var: "ptr_svo_additional_tracking_data_f32" }, this.svo_additional_tracking_data_f32_size] }), this.surface.set_triangles_from_svo_additional_tracking_data(Array.from(this.svo_additional_tracking_data_f32)), this.svo_additional_tracking_data_f32 } }, { key: "Track", value: async function () { if (this.controller.FireEvent("orientation_provider.update"), this.need_recalculate_model_place) return void (this.svo_init_timer || (this.SetUserSvoTrackingStatus(this.SVO_STATUS_MOVEINIT), this.svo_init_timer = setTimeout((() => { this.InitSVO().then((() => { this.controller.FireEvent("tracking.set_need_recalculate_model_place", !1), this.svo_init_timer = void 0 })) }), this.svo_init_delay))); this.gravity_vector_translated = this.TranslateAccelerometer.apply(this, v(this.gravity_vector)); const e = {}; this.controller.FireEvent("orientation_provider.results", e); const t = e.quaternion.toArray(); this.SetSensorData({ quaternion: t, angle: e.data.orientation, gravity: this.gravity_vector_translated }); const n = await this.chat({ type: "memory_write_f32", args: [this.sensor_data_array, { __var: "ptr_sensor_data" }], next: { type: "module_call", func: "_processSvoWeb", args: [].concat(v(this.gravity_vector_translated), [{ __var: "ptr_sensor_data" }, this.use_svo_additional_tracking_data ? { __var: "ptr_svo_additional_tracking_data_f32" } : void 0]) } }), { coordinates: r } = await this.chat({ type: "tracking_result" }); this.use_svo_additional_tracking_data && await this.ReadSvoAdditionalTrackingData(), this.SetUserSvoTrackingStatus(n), t.is_svo = !0, this.SetWorldCoordinatesAndQuaternionIfChanged(r, t) } }, { key: "Init", value: function () { return this.controller, _(u(n.prototype), "Init", this).call(this) } }]), n }(ee); const { Vector3: ke, Matrix4: De, Quaternion: xe } = THREE; let Se = function (e) { l(n, e); var t = f(n); function n(...e) { var r; return i(this, n), (r = t.call.apply(t, [this].concat(e))).is_acceletometer_required = !1, r.temp_matrix4 = new De, r.temp_vector3 = new ke, r.temp_vector3_1 = new ke, r.temp_quaternion = new xe, r.distoplane_svo_fixture_gravity_matrix_arrays = [[1, 0, 0, 0, 0, -1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1], [1, 0, 0, 0, 0, -1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1]], r.distoplane_svo_fixture_orientation_matrix_arrays = [[-1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1], [-1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1]], r.distoplane_svo_fixture_gravity_matrices = r.distoplane_svo_fixture_gravity_matrix_arrays.map((e => r.temp_matrix4.clone().fromArray(e))), r.distoplane_svo_fixture_orientation_matrices = r.distoplane_svo_fixture_orientation_matrix_arrays.map((e => r.temp_matrix4.clone().fromArray(e))), r.SVO_STATUS_DISTOPLANE_PLACE = 100, r } return s(n, [{ key: "Events", value: function () { _(u(n.prototype), "Events", this).call(this); const e = this, t = e.controller; t.AddEvent("display.change_scene_size", (t => { "boolean" == typeof t && (e.videosouce_is_portrait = t) })), t.AddEvent("tracking.svo_read_surface_reconstruction", (t => { const n = e.ReadSurfaceReconstruction(); return "function" == typeof t && n.then(t), n })) } }, { key: "ComputeDistoplaneSVOGravityVectorArray", value: function (e) { const t = this.distoplane_svo_fixture_gravity_matrices[this.videosouce_is_portrait ? 0 : 1], n = this.temp_matrix4.identity(); return n.makeRotationFromQuaternion(e), n.premultiply(t), this.temp_vector3.set(0, 1, 0).applyMatrix4(n).toArray() } }, { key: "ComputeDistoplaneSVOOrientationQuaternionArray", value: function (e) { const t = this.distoplane_svo_fixture_orientation_matrices[this.videosouce_is_portrait ? 0 : 1], n = this.temp_matrix4.identity(); n.makeRotationFromQuaternion(e), n.premultiply(t); const r = this.temp_vector3, o = this.temp_quaternion, i = this.temp_vector3_1; return n.decompose(r, o, i), o.toArray() } }, { key: "ReadSurfaceReconstruction", value: async function () { return await this.chat({ type: "module_call", func: "_getSceneReconstructionWeb", args: [{ __var: "ptr_svo_additional_tracking_data_f32" }] }), await this.ReadSvoAdditionalTrackingData(), this.svo_additional_tracking_data_f32 } }, { key: "Track", value: async function () { if (this.controller.FireEvent("orientation_provider.update"), this.need_recalculate_model_place) return this.SetUserSvoTrackingStatus(this.SVO_STATUS_MOVEINIT), void this.InitSVO().then((() => { this.controller.FireEvent("tracking.set_need_recalculate_model_place", !1) })); const e = {}; this.controller.FireEvent("orientation_provider.results", e); const t = e.quaternion, n = this.ComputeDistoplaneSVOGravityVectorArray(t), r = this.ComputeDistoplaneSVOOrientationQuaternionArray(t), o = e.data.orientation; this.SetSensorData({ quaternion: r, angle: o }); const i = await this.chat({ type: "memory_write_f32", args: [this.sensor_data_array, { __var: "ptr_sensor_data" }], next: { type: "module_call", func: "_processSvoWeb", args: [].concat(v(n), [{ __var: "ptr_sensor_data" }, this.use_svo_additional_tracking_data ? { __var: "ptr_svo_additional_tracking_data_f32" } : void 0]) } }), { coordinates: a, quaternion: s } = await this.chat({ type: "tracking_result" }); this.use_svo_additional_tracking_data && await this.ReadSvoAdditionalTrackingData(), this.SetUserSvoTrackingStatus(i), s.is_svo_distoplane = !0, this.SetWorldCoordinatesAndQuaternionIfChanged(a, s) } }, { key: "Init", value: function () { return this.controller, _(u(n.prototype), "Init", this).call(this) } }]), n }(we); const { Vector3: Me } = THREE; let Fe = function (e) { l(n, e); var t = f(n); function n(...e) { var r; return i(this, n), (r = t.call.apply(t, [this].concat(e))).sensor_data_array = new Float32Array(16), r.previous_tracking_status = void 0, r.clm_additional_tracking_data_f32_size = 613, r.clm_additional_tracking_data_f32 = [], r.is_acceletometer_required = !1, r.is_deviceorientation_required = !0, r } return s(n, [{ key: "Events", value: function () { _(u(n.prototype), "Events", this).call(this); const e = this.controller, t = o({}, e.control_loop_tracking); let r; e.AddEvent("tracking.frame_converter_created", (() => { r = e.Loop((() => e.FireEvent("display.track_video")), t), r.name = "tracking_face_start" })), e.AddEvent("tracking.setup", (() => { e.FireEvent("orientation_provider.enable") })), e.AddEvent("tracking_up", (() => { t.cancel = !0 })) } }, { key: "SetUserSvoTrackingStatus", value: function (e) { this.previous_tracking_status !== e && (this.controller.FireEvent("user_tracking_cml_status_changed", e, this.previous_tracking_status), this.previous_tracking_status = e) } }, { key: "InitCLM", value: async function () { this.controller.Log("[Module] _initClmWeb"), await this.chat({ type: "module_call", func: "_initClmWeb", next: { type: "memory_alloc_to_new_var", args: ["ptr_sensor_data", this.sensor_data_array.byteLength] } }), await this.chat({ type: "memory_alloc_to_new_var", args: ["ptr_clm_additional_tracking_data_f32", 4 * this.clm_additional_tracking_data_f32_size] }) } }, { key: "Track", value: async function () { this.controller.FireEvent("orientation_provider.update"), this.need_recalculate_model_place && (await this.InitCLM(), this.need_recalculate_model_place = !1); const e = {}; this.controller.FireEvent("orientation_provider.results", e); const t = e.quaternion, n = new Me(0, 1, 0).applyQuaternion(t).toArray(), r = t.toArray(); this.sensor_data_array.set(r, 8); const o = e.data.orientation; this.sensor_data_array[15] = o; const i = await this.chat({ type: "memory_write_f32", args: [this.sensor_data_array, { __var: "ptr_sensor_data" }], next: { type: "module_call", func: "_processClmWeb", args: [].concat(v(n), [{ __var: "ptr_sensor_data" }, { __var: "ptr_clm_additional_tracking_data_f32" }]) } }), { coordinates: a, quaternion: s } = await this.chat({ type: "tracking_result" }); this.clm_additional_tracking_data_f32 = await this.chat({ type: "memory_read_f32", args: [{ __var: "ptr_clm_additional_tracking_data_f32" }, this.clm_additional_tracking_data_f32_size] }), this.SetUserSvoTrackingStatus(i), this.SetWorldCoordinatesAndQuaternionIfChanged(a, s) } }]), n }(ee), Te = function (e) { l(n, e); var t = f(n); function n(e, ...r) { var o; return i(this, n), (o = t.call.apply(t, [this, e].concat(r))).tracking_type = "multi_image", o } return s(n, [{ key: "Events", value: function () { _(u(n.prototype), "Events", this).call(this) } }, { key: "ApplyMarkers", value: async function () { await _(u(n.prototype), "ApplyMarkers", this).call(this), await this.chat({ type: "module_call", func: "_createMarkerWeb", args: [{ __var: "marker_ptr" }, 0] }); const e = Object.keys(this.markers).map((e => parseInt(e))); for (const t of e) await this.chat({ type: "memory_alloc_to_new_var", args: ["ptr_marker_transform_" + t, 28] }) } }, { key: "Track", value: async function () { const e = [], t = []; this.shown_marker_indexes = this.markers.reduce(((e, n) => n.coordinates ? (this.IsCoordinatesLost(n.coordinates) || e.push(n.index), e) : (t.push(n.index), e)), []), this.shown_marker_indexes.length ? -1 == this.shown_marker_indexes.indexOf(0) && e.push(this.chat({ type: "module_call", func: "_featureTrackingWeb", args: [0, !0] })) : this.shown_marker_indexes = Object.keys(this.markers).map((e => parseInt(e))), this.shown_marker_results = [], e.push.apply(e, v(this.shown_marker_indexes.map((async e => { const n = await this.chat({ type: "module_call", func: "_featureTrackingWeb", args: [e, !0, { __var: "ptr_marker_transform_" + e }], next: { type: "memory_read_f32", args: [{ __var: "ptr_marker_transform_" + e }, 7] } }), r = this.shown_marker_results[e] = { coordinates: [n[0], n[1], n[2]], quaternion: [n[3], n[4], n[5], n[6]] }; t.indexOf(e) > -1 && (this.markers[e].coordinates = r.coordinates, this.markers[e].quaternion = r.quaternion) })))), await Promise.all(e), this.ChangeMarkers() } }]), n }(Y), Oe = function (e) { l(n, e); var t = f(n); function n(e, ...r) { var o; return i(this, n), (o = t.call.apply(t, [this].concat(r))).tracking_type = "qr", o.marker_defs = v(e), o.qr_value_length = 1024, o.need_read_qr_value = !1, o.need_reset_qr_tracking_result = !1, o.read_qr_value_timeout = 250, o.reset_qr_tracking_result_timeout = 0, o.read_qr_value_interval = void 0, o.qr_trackng_mode = 1, o } return s(n, [{ key: "Events", value: function () { _(u(n.prototype), "Events", this).call(this); const e = this; this.controller.AddEvent("tracking.setup", (async t => { await t, await e.ApplyMarkers(), await e.WriteQRValue(""), e.read_qr_value_timeout && (e.read_qr_value_interval = setInterval((() => { e.need_read_qr_value = !0 }), e.read_qr_value_timeout)), e.reset_qr_tracking_result_timeout && (e.reset_qr_tracking_result_interval = setInterval((() => { e.need_reset_qr_tracking_result = !0 }), e.reset_qr_tracking_result_timeout)) })) } }, { key: "ApplyMarkers", value: async function () { await this.chat({ type: "memory_alloc_to_new_var", args: ["ptr_qr_value", this.qr_value_length], next: { type: "module_call", func: "_initQrCodeTrackingWeb", args: [this.qr_trackng_mode, { __var: "ptr_qr_value" }, this.qr_value_length] } }) } }, { key: "ReadQRValue", value: async function () { return await this.chat({ type: "read_string", args: [{ __var: "ptr_qr_value" }, this.qr_value_length] }) } }, { key: "WriteQRValue", value: async function (e) { return await this.chat({ type: "write_string", args: [e, { __var: "ptr_qr_value" }, this.qr_value_length] }) } }, { key: "GetCurrentMarkerIndex", value: async function () { if (this.need_read_qr_value) { const e = await this.ReadQRValue(); if ("" === e) return -2; this.marker_index = this.markers.findIndex((t => t.text === e)), this.allow_new_markers && -1 == this.marker_index && (this.marker_index = this.markers.length, await this.LoadSingleMarker({ text: e }, this.marker_index)), this.need_read_qr_value = !1 } return this.marker_index } }, { key: "LoadMarkers", value: function () { return this.controller.Log("QrMarkerOpticalTracking.LoadMarkers: QR LoadMarkers!"), Promise.all(this.marker_defs.map(this.LoadSingleMarker, this)) } }, { key: "LoadSingleMarker", value: async function (e, t) { const { text: n } = e; return this.controller.Log(`QrMarkerOpticalTracking.LoadSingleMarker: Marker string loaded: string = ${n}`), this.markers[t] = { text: n, index: t } } }, { key: "ResetTrackingResult", value: async function () { await this.WriteQRValue(""), this.marker_index = -1 } }, { key: "Track", value: async function () { this.need_reset_qr_tracking_result && (await this.ResetTrackingResult(), this.need_reset_qr_tracking_result = !1), await this.chat({ type: "module_call", func: "_qrCodeTrackingWeb" }), this.shown_marker_indexes = []; const e = await this.GetCurrentMarkerIndex(); e > -1 && this.shown_marker_indexes.push(e), this.shown_marker_results = []; for (const e of this.shown_marker_indexes) { const { coordinates: t, quaternion: n } = await this.chat({ type: "tracking_result" }); this.shown_marker_results[e] = { coordinates: t, quaternion: n } } this.ChangeMarkers() } }, { key: "Init", value: async function () { return await _(u(n.prototype), "Init", this).call(this), await this.LoadMarkers() } }]), n }(Q), Ie = function (e) { l(n, e); var t = f(n); function n(e, ...r) { var o; return i(this, n), (o = t.call.apply(t, [this, e].concat(r))).qr_trackng_mode = 2, o } return s(n, [{ key: "Events", value: function () { _(u(n.prototype), "Events", this).call(this) } }, { key: "ApplyMarkers", value: async function () { for (let e of Object.keys(this.markers)) { const t = parseInt(e), n = this.markers[t]; n.data ? (this.controller.Log(`QrImageOpticalTracking.ApplyMarkers: marker[${t}] initialization: saved size is ${n.size} bytes, arraybuffer length is ${n.data.length}`), await this.chat({ type: "memory_alloc", args: [n.size], next: { type: "set_result_to_var", args: ["marker_ptr"], next: { type: "memory_write_array", args: [n.data, { __var: "marker_ptr" }], next: { type: "module_call", func: "_createMarkerWeb", args: [{ __var: "marker_ptr" }, n.widthheight], next: { type: "module_call", func: "_free", args: [{ __var: "marker_ptr" }] } } } } }), delete n.data) : this.controller.Log(`QrImageOpticalTracking.ApplyMarkers: skip marker[${t}] initialization (dataless)`) } await _(u(n.prototype), "ApplyMarkers", this).call(this) } }, { key: "LoadSingleMarker", value: async function (e, t) { const { image: r } = e, i = await _(u(n.prototype), "LoadSingleMarker", this).call(this, e, t), a = r ? await this.LoadMarkerImage(r) : {}; return this.markers[t] = o(o({ index: t }, i), a) } }, { key: "Init", value: function () { return _(u(n.prototype), "Init", this).call(this) } }]), n }(Oe), Pe = function (e) { l(n, e); var t = f(n); function n(...e) { var r; return i(this, n), (r = t.call.apply(t, [this].concat(e))).is_deviceorientation_required = !0, r.is_acceletometer_required = !0, r } return s(n, [{ key: "Events", value: function () { _(u(n.prototype), "Events", this).call(this); const e = this, t = e.controller; t.AddEvent("tracking.setup", (async () => { t.FireEvent("orientation_provider.enable"), await e.AllocVarsIMTracker(), await e.InitIMTracker() })), t.AddEvent("tracking.instant_motion_reset", ((t, n) => e.ResetIMTracker(t, n))) } }, { key: "AllocVarsIMTracker", value: async function () { await this.chat({ type: "memory_alloc_to_new_var", args: ["ptr_sensor_data", this.sensor_data_array.byteLength], next: { type: "memory_alloc_to_new_var", args: ["ptr_track_result", 28] } }) } }, { key: "InitIMTracker", value: async function () { this.controller.Log("[Module] _initIMTrackerWeb"), await this.chat({ type: "module_call", func: "_initIMTrackerWeb" }) } }, { key: "ResetIMTracker", value: async function (e, t) { this.controller.Log("[Module] _resetIMTrackerWeb"), await this.chat({ type: "module_call", func: "_resetIMTrackerWeb", args: [e, t] }) } }, { key: "Track", value: async function () { this.need_recalculate_model_place && (this.controller.FireEvent("tracking.set_need_recalculate_model_place", !1), this.InitIMTracker()), this.gravity_vector_translated = this.TranslateAccelerometer.apply(this, v(this.gravity_vector)), this.controller.FireEvent("orientation_provider.update"); const e = {}; this.controller.FireEvent("orientation_provider.results", e), this.SetSensorData({ quaternion: e.quaternion.toArray(), angle: e.data.orientation, gravity: this.gravity_vector_translated }), await this.chat({ type: "memory_write_f32", args: [this.sensor_data_array, { __var: "ptr_sensor_data" }], next: { type: "module_call", func: "_processIMTrackerWeb", args: [{ __var: "ptr_sensor_data" }, { __var: "ptr_track_result" }] } }); const { coordinates: t, quaternion: n } = await this.chat({ type: "tracking_result_from_ptr", args: [{ __var: "ptr_track_result" }] }); n.is_instant = !0, this.SetWorldCoordinatesAndQuaternionIfChanged(t, n) } }, { key: "Init", value: async function () { this.controller, await _(u(n.prototype), "Init", this).call(this) } }]), n }(ee), Re = function (e) { l(n, e); var t = f(n); function n(e = 640, r = 480, o = 30, ...a) { var s; return i(this, n), (s = t.call.apply(t, [this].concat(a))).request_video_facing_mode = void 0, s.request_video_width = e, s.request_video_height = r, s.request_video_rate = o, s.camera_stream_constraint = {}, s.photo_convert_canvas = document.createElement("canvas"), s.photo_convert_image = new Image, s } return s(n, [{ key: "Events", value: function () { _(u(n.prototype), "Events", this).call(this); const e = this, t = this.controller; this.controller.AddEvent("videosource.camera_stream_stop", (() => { e.StopStream() })), this.controller.AddEvent("videosource.camera_take_photo", (async ({ request: t = { width: 1280, height: 960, grab_frame: !1 }, receive: n = (e => { }), fallback: r = (() => { }) }) => { const { stream_width: o, stream_height: i } = e, a = o / i, [s, c] = await e.TakeCameraPhoto(t); if (s) { const t = await e.ConvertBlobToImageData(s), r = t.width / t.height; let i; if (c) i = e.ConvertImageBitmapToImageData(c); else if (a === r) { const n = t.width / o; i = await e.ConvertBlobToImageData(s, { divider: n }) } n(t, i) } else r() })), this.controller.AddEvent("videosource.camera_stream_resize_max", (async ({ request: n = { width: 4096, height: 3072 }, result: r = {} }) => { const i = o({}, e.camera_stream_constraint), a = e.GetCameraVideoStreamMaximumSize(), s = { width: Math.min(n.width, a.width), height: Math.min(n.height, a.height) }, c = o(o({}, i), s); await t.FireEvent("videosource.camera_stream_apply_constraint", { new_constraint: c, result: r }) })), this.controller.AddEvent("videosource.camera_stream_apply_constraint", (async ({ new_constraint: n, result: r = {} }) => { const i = o({}, e.camera_stream_constraint), a = e.GetStreamVideoTrackSize(); await e.ApplyCameraVideoStreamConstraints(n); const s = e.GetStreamVideoTrackSize(); a.width === s.width && a.height === s.height || a.width === s.height && a.height === s.width || await t.FireEvent("display.await_video_resize", (e => s.width === e.videoWidth && s.height === e.videoHeight || s.height === e.videoWidth && s.width === e.videoHeight)), Object.assign(r, { old_constraint: i, new_constraint: n, track_size: s }) })), t.AddEvent("videosource.resume_camera_stream", (async () => { let { stream: n } = e; n && !0 !== n.active && (n = await e.RequestCameraVideoStream(e.camera_stream_constraint), e.AssignVideoStream(n), t.FireEvent("display.stream", e.stream), t.FireEvent("tracking.set_normalized_stream_dimensions", e.normalized_stream_width, e.normalized_stream_height), t.FireEvent("browser.videosource_frame_rate", e.stream_frame_rate)) })), window.addEventListener("pageshow", (() => { t.FireEvent("videosource.resume_camera_stream") }), !1) } }, { key: "ConvertBlobToImageData", value: async function (e, t = {}) { const { divider: n = 1 } = t, { photo_convert_image: r, photo_convert_canvas: o } = this, i = o.getContext("2d"), a = URL.createObjectURL(e), s = new Promise(((e, t) => { r.onload = e, r.onerror = t })); r.src = a, await s; const { naturalWidth: c, naturalHeight: l } = r, u = { width: c / n, height: l / n }; Object.assign(o, u), i.drawImage(r, 0, 0, c, l, 0, 0, u.width, u.height); const d = i.getImageData(0, 0, u.width, u.height); return URL.revokeObjectURL(a), d } }, { key: "ConvertImageBitmapToImageData", value: function (e) { const { photo_convert_canvas: t } = this, n = t.getContext("2d"), { width: r, height: o } = e; return Object.assign(t, { width: r, height: o }), n.drawImage(e, 0, 0), n.getImageData(0, 0, t.width, t.height) } }, { key: "TakeCameraPhoto", value: async function (e = {}) { const t = this.GetStreamVideoTrack(); if (void 0 !== window.ImageCapture) { var n, r; const o = new ImageCapture(t), i = await o.getPhotoCapabilities(), a = await o.getPhotoSettings(); "object" == typeof i.imageWidth && (a.imageWidth = Math.min(i.imageWidth.max, Math.max(i.imageWidth.min, null !== (n = e.width) && void 0 !== n ? n : a.imageWidth))), "object" == typeof i.imageHeight && (a.imageHeight = Math.min(i.imageHeight.max, Math.max(i.imageHeight.min, null !== (r = e.height) && void 0 !== r ? r : a.imageHeight))); const s = [o.takePhoto(a)]; return e.grab_frame && s.push(o.grabFrame()), await Promise.all(s) } return [] } }, { key: "GetCameraVideoStreamMaximumSize", value: function () { const e = this.GetStreamVideoTrack().getCapabilities(); return { width: e.width.max, height: e.height.max } } }, { key: "CreateCameraVideoStreamConstraints", value: function ({ facingMode: e, focusMode: t, deviceId: n, width: r, height: o }) { return { audio: !1, video: { width: { ideal: r || this.request_video_width }, height: { ideal: o || this.request_video_height }, frameRate: { min: this.request_video_rate }, facingMode: e, focusMode: t, deviceId: n } } } }, { key: "ApplyCameraVideoStreamConstraints", value: async function (e) { const t = this.GetStreamVideoTrack(), n = this.CreateCameraVideoStreamConstraints(e).video; this.camera_stream_constraint = e, this.is_first_read = !0, await t.applyConstraints(n) } }, { key: "RequestCameraVideoStream", value: async function (e = {}) { const t = this.CreateCameraVideoStreamConstraints(e); return await navigator.mediaDevices.getUserMedia(t) } }, { key: "Init", value: function () { const e = this, t = new Promise((async (t, n) => { if (!navigator.mediaDevices || !navigator.mediaDevices.getUserMedia) { const e = "navigator.mediaDevices.getUserMedia not supported!"; return this.controller.Error("CameraVideoSource.Init: ", e), void n(e) } const r = [], o = []; let i, a, s; const c = []; try { s = { facingMode: { ideal: this.request_video_facing_mode } }, i = await this.RequestCameraVideoStream(s), this.camera_stream_constraint = s, a = i.getVideoTracks()[0].label, this.controller.Log("CameraVideoSource.Init: default camera stream label:", a) } catch (e) { this.controller.Warn("CameraVideoSource.Init: default camera error:", e), c.push(e) } for (s of function* () { yield new Promise((async t => { o.push.apply(o, v((await navigator.mediaDevices.enumerateDevices()).filter((e => "videoinput" == e.kind)))); const n = []; await e.controller.FireEvent("browser.camera_select_videoinputs", o, e.request_video_facing_mode, n), o.splice.apply(o, [0, o.length].concat(n)), e.controller.Log("CameraVideoSource.Init: Selected and sorted video inputs to try:", o.map((e => e.label)).join(", ")), t() })); for (const e of o) yield { deviceId: e.deviceId, label: e.label }; yield { facingMode: { ideal: e.request_video_facing_mode } } }()) if (s instanceof Promise) await s; else { if (s.label === a) { this.controller.Log("CameraVideoSource.Init: previous stream label equals constraint label", s.label); break } i && i.getTracks().forEach((e => e.stop())); try { i = await this.RequestCameraVideoStream(s), this.camera_stream_constraint = s, a = i.getVideoTracks()[0].label, this.controller.Log("CameraVideoSource.Init: camera stream", i, "; constraint", s); break } catch (e) { this.controller.Warn("CameraVideoSource.Init: camera error", e.name, "(", e.message, ")", "; constraint", s), r.push(e) } } r.unshift.apply(r, c), i ? (this.AssignVideoStream(i), t(i)) : n(r) })); return this.controller.FireEvent("user_camera_requested", t), t } }]), n }(A), Le = function (e) { l(n, e); var t = f(n); function n(e, ...r) { var o; return i(this, n), (o = t.call.apply(t, [this].concat(r))).request_url = e, o.image = document.createElement("img"), o.image.crossOrigin = "anonymous", o.canvas = document.createElement("canvas"), o } return s(n, [{ key: "DrawImageToCanvas", value: function () { const [e, t] = [this.image.naturalWidth, this.image.naturalHeight]; this.controller.Log("FileImageVideoSource.DrawImageToCanvas: image size: ", { width: e, height: t }), Object.assign(this.canvas, { width: e, height: t }), this.canvas.getContext("2d").drawImage(this.image, 0, 0) } }, { key: "Init", value: function () { const e = this; return new Promise(((t, n) => { const r = e.image, o = e.canvas; r.onload = () => { e.DrawImageToCanvas(); const n = o.captureStream(1); e.controller.Log("FileImageVideoSource.Init: stream: ", n), e.AssignVideoStream(n), t(n) }, r.onerror = t => { e.controller.Error("FileImageVideoSource.Init: error: ", t), n(t) }, r.src = e.request_url })) } }]), n }(A), He = function (e) { l(n, e); var t = f(n); function n(e, r = 1, ...o) { var a; return i(this, n), (a = t.call.apply(t, [this].concat(o))).request_url = e, a.request_speed = r, a.video = document.createElement("video"), a.source = document.createElement("source"), Object.assign(a.video, { playsInline: !0, autoplay: !0, muted: !0, loop: !0, playbackRate: a.request_speed }), Object.assign(a.video.style, { width: "1px", height: "1px", position: "absolute", top: 0, left: 0, zIndex: 100001 }), document.body.append(a.video), a } return s(n, [{ key: "Init", value: function () { const e = this; return new Promise(((t, n) => { const r = e.source, o = e.video; o.oncanplay = () => { const n = o.captureStream(); e.controller.Log("FileVideoSource.Init: stream: ", n), e.AssignVideoStream(n), t(n) }, o.onerror = t => { e.controller.Error("FileVideoSource.Init: error: ", t), n(t) }, o.append(r), r.src = e.request_url })) } }]), n }(A), je = function (e) { l(n, e); var t = f(n); function n(...e) { var r; return i(this, n), (r = t.call.apply(t, [this].concat(e))).request_video_facing_mode = "user", r } return s(n, [{ key: "Init", value: function () { return _(u(n.prototype), "Init", this).call(this) } }]), n }(Re), Ge = function (e) { l(n, e); var t = f(n); function n(...e) { var r; return i(this, n), (r = t.call.apply(t, [this].concat(e))).request_video_facing_mode = "user", r.is_need_flip_horizontal = !0, r } return s(n, [{ key: "Init", value: function () { return _(u(n.prototype), "Init", this).call(this) } }]), n }(Re), Ne = function (e) { l(n, e); var t = f(n); function n(...e) { var r; return i(this, n), (r = t.call.apply(t, [this].concat(e))).request_video_facing_mode = "environment", r } return s(n, [{ key: "Init", value: function () { return _(u(n.prototype), "Init", this).call(this) } }]), n }(Re); "undefined" != typeof __WEBAR_DEVTOOLS__ && __WEBAR_DEVTOOLS__.dispatchEvent(new CustomEvent("register", { detail: { revision: t } })), "undefined" != typeof window && (window.__WEBAR__ ? console.warn("WARNING: Multiple instances of WebAR.js being imported.") : window.__WEBAR__ = t), e.Browser = g, e.CameraVideoSource = Re, e.Controller = z, e.CylinderMarkerOpticalTracking = $, e.Display = P, e.DistoplaneSVOOpticalTracking = Se, e.DummyMarkerlessTracking = q, e.FaceOpticalTracking = Fe, e.FileImageVideoSource = Le, e.FileVideoSource = He, e.FrontCameraVideoSource = je, e.FrontMirrorCameraVideoSource = Ge, e.ImageMarkerOpticalTracking = Y, e.InstantMotionOpticalTracking = Pe, e.MarkerOpticalTracking = Q, e.MarkerlessOpticalTracking = ee, e.MultiImageMarkerOpticalTracking = Te, e.OpticalTracking = y, e.OrientationProvider = W, e.QRImageMarkerOpticalTracking = Ie, e.QRMarkerOpticalTracking = Oe, e.REVISION = t, e.RearCameraVideoSource = Ne, e.SVOOpticalTracking = we, e.SceneManager = G, e.StaticPositionDummyMarkerlessTracking = X, e.Touchscreen = K, e.VideoSource = A, e.WorkerChat = function (e) { const t = new Worker(e), n = new Map; let r = 0; t.onmessage = function (e) { const { msg: t, result: r, error: o } = e.data; n.get(t.id)(t.return_msg ? e.data : r, o) }; const { chat: o } = { chat(e, o) { if ("terminate" !== e) return e.id = r++, new Promise(((r, i) => { try { t.postMessage(e, o); const a = (t, o) => { void 0 !== o ? (console.error("worker error", o, "on message", e), i(o)) : r(t), n.delete(e.id) }; n.set(e.id, a) } catch (t) { console.error("main error", t, "on message", e) } })); t.terminate() } }; return o }, Object.defineProperty(e, "__esModule", { value: !0 }) })), (() => { var e = { 9669: (e, t, n) => { e.exports = n(1609) }, 5448: (e, t, n) => { "use strict"; var r = n(4867), o = n(6026), i = n(4372), a = n(5327), s = n(4097), c = n(4109), l = n(7985), u = n(7874), d = n(2648), h = n(644), f = n(205); e.exports = function (e) { return new Promise((function (t, n) { var p, _ = e.data, v = e.headers, m = e.responseType; function g() { e.cancelToken && e.cancelToken.unsubscribe(p), e.signal && e.signal.removeEventListener("abort", p) } r.isFormData(_) && r.isStandardBrowserEnv() && delete v["Content-Type"]; var A = new XMLHttpRequest; if (e.auth) { var y = e.auth.username || "", B = e.auth.password ? unescape(encodeURIComponent(e.auth.password)) : ""; v.Authorization = "Basic " + btoa(y + ":" + B) } var b = s(e.baseURL, e.url); function C() { if (A) { var r = "getAllResponseHeaders" in A ? c(A.getAllResponseHeaders()) : null, i = { data: m && "text" !== m && "json" !== m ? A.response : A.responseText, status: A.status, statusText: A.statusText, headers: r, config: e, request: A }; o((function (e) { t(e), g() }), (function (e) { n(e), g() }), i), A = null } } if (A.open(e.method.toUpperCase(), a(b, e.params, e.paramsSerializer), !0), A.timeout = e.timeout, "onloadend" in A ? A.onloadend = C : A.onreadystatechange = function () { A && 4 === A.readyState && (0 !== A.status || A.responseURL && 0 === A.responseURL.indexOf("file:")) && setTimeout(C) }, A.onabort = function () { A && (n(new d("Request aborted", d.ECONNABORTED, e, A)), A = null) }, A.onerror = function () { n(new d("Network Error", d.ERR_NETWORK, e, A, A)), A = null }, A.ontimeout = function () { var t = e.timeout ? "timeout of " + e.timeout + "ms exceeded" : "timeout exceeded", r = e.transitional || u; e.timeoutErrorMessage && (t = e.timeoutErrorMessage), n(new d(t, r.clarifyTimeoutError ? d.ETIMEDOUT : d.ECONNABORTED, e, A)), A = null }, r.isStandardBrowserEnv()) { var E = (e.withCredentials || l(b)) && e.xsrfCookieName ? i.read(e.xsrfCookieName) : void 0; E && (v[e.xsrfHeaderName] = E) } "setRequestHeader" in A && r.forEach(v, (function (e, t) { void 0 === _ && "content-type" === t.toLowerCase() ? delete v[t] : A.setRequestHeader(t, e) })), r.isUndefined(e.withCredentials) || (A.withCredentials = !!e.withCredentials), m && "json" !== m && (A.responseType = e.responseType), "function" == typeof e.onDownloadProgress && A.addEventListener("progress", e.onDownloadProgress), "function" == typeof e.onUploadProgress && A.upload && A.upload.addEventListener("progress", e.onUploadProgress), (e.cancelToken || e.signal) && (p = function (e) { A && (n(!e || e && e.type ? new h : e), A.abort(), A = null) }, e.cancelToken && e.cancelToken.subscribe(p), e.signal && (e.signal.aborted ? p() : e.signal.addEventListener("abort", p))), _ || (_ = null); var w = f(b); w && -1 === ["http", "https", "file"].indexOf(w) ? n(new d("Unsupported protocol " + w + ":", d.ERR_BAD_REQUEST, e)) : A.send(_) })) } }, 1609: (e, t, n) => { "use strict"; var r = n(4867), o = n(1849), i = n(321), a = n(7185), s = function e(t) { var n = new i(t), s = o(i.prototype.request, n); return r.extend(s, i.prototype, n), r.extend(s, n), s.create = function (n) { return e(a(t, n)) }, s }(n(5546)); s.Axios = i, s.CanceledError = n(644), s.CancelToken = n(4972), s.isCancel = n(6502), s.VERSION = n(7288).version, s.toFormData = n(7675), s.AxiosError = n(2648), s.Cancel = s.CanceledError, s.all = function (e) { return Promise.all(e) }, s.spread = n(8713), s.isAxiosError = n(6268), e.exports = s, e.exports.default = s }, 4972: (e, t, n) => { "use strict"; var r = n(644); function o(e) { if ("function" != typeof e) throw new TypeError("executor must be a function."); var t; this.promise = new Promise((function (e) { t = e })); var n = this; this.promise.then((function (e) { if (n._listeners) { var t, r = n._listeners.length; for (t = 0; t < r; t++)n._listeners[t](e); n._listeners = null } })), this.promise.then = function (e) { var t, r = new Promise((function (e) { n.subscribe(e), t = e })).then(e); return r.cancel = function () { n.unsubscribe(t) }, r }, e((function (e) { n.reason || (n.reason = new r(e), t(n.reason)) })) } o.prototype.throwIfRequested = function () { if (this.reason) throw this.reason }, o.prototype.subscribe = function (e) { this.reason ? e(this.reason) : this._listeners ? this._listeners.push(e) : this._listeners = [e] }, o.prototype.unsubscribe = function (e) { if (this._listeners) { var t = this._listeners.indexOf(e); -1 !== t && this._listeners.splice(t, 1) } }, o.source = function () { var e; return { token: new o((function (t) { e = t })), cancel: e } }, e.exports = o }, 644: (e, t, n) => { "use strict"; var r = n(2648); function o(e) { r.call(this, null == e ? "canceled" : e, r.ERR_CANCELED), this.name = "CanceledError" } n(4867).inherits(o, r, { __CANCEL__: !0 }), e.exports = o }, 6502: e => { "use strict"; e.exports = function (e) { return !(!e || !e.__CANCEL__) } }, 321: (e, t, n) => { "use strict"; var r = n(4867), o = n(5327), i = n(782), a = n(3572), s = n(7185), c = n(4097), l = n(4875), u = l.validators; function d(e) { this.defaults = e, this.interceptors = { request: new i, response: new i } } d.prototype.request = function (e, t) { "string" == typeof e ? (t = t || {}).url = e : t = e || {}, (t = s(this.defaults, t)).method ? t.method = t.method.toLowerCase() : this.defaults.method ? t.method = this.defaults.method.toLowerCase() : t.method = "get"; var n = t.transitional; void 0 !== n && l.assertOptions(n, { silentJSONParsing: u.transitional(u.boolean), forcedJSONParsing: u.transitional(u.boolean), clarifyTimeoutError: u.transitional(u.boolean) }, !1); var r = [], o = !0; this.interceptors.request.forEach((function (e) { "function" == typeof e.runWhen && !1 === e.runWhen(t) || (o = o && e.synchronous, r.unshift(e.fulfilled, e.rejected)) })); var i, c = []; if (this.interceptors.response.forEach((function (e) { c.push(e.fulfilled, e.rejected) })), !o) { var d = [a, void 0]; for (Array.prototype.unshift.apply(d, r), d = d.concat(c), i = Promise.resolve(t); d.length;)i = i.then(d.shift(), d.shift()); return i } for (var h = t; r.length;) { var f = r.shift(), p = r.shift(); try { h = f(h) } catch (e) { p(e); break } } try { i = a(h) } catch (e) { return Promise.reject(e) } for (; c.length;)i = i.then(c.shift(), c.shift()); return i }, d.prototype.getUri = function (e) { e = s(this.defaults, e); var t = c(e.baseURL, e.url); return o(t, e.params, e.paramsSerializer) }, r.forEach(["delete", "get", "head", "options"], (function (e) { d.prototype[e] = function (t, n) { return this.request(s(n || {}, { method: e, url: t, data: (n || {}).data })) } })), r.forEach(["post", "put", "patch"], (function (e) { function t(t) { return function (n, r, o) { return this.request(s(o || {}, { method: e, headers: t ? { "Content-Type": "multipart/form-data" } : {}, url: n, data: r })) } } d.prototype[e] = t(), d.prototype[e + "Form"] = t(!0) })), e.exports = d }, 2648: (e, t, n) => { "use strict"; var r = n(4867); function o(e, t, n, r, o) { Error.call(this), this.message = e, this.name = "AxiosError", t && (this.code = t), n && (this.config = n), r && (this.request = r), o && (this.response = o) } r.inherits(o, Error, { toJSON: function () { return { message: this.message, name: this.name, description: this.description, number: this.number, fileName: this.fileName, lineNumber: this.lineNumber, columnNumber: this.columnNumber, stack: this.stack, config: this.config, code: this.code, status: this.response && this.response.status ? this.response.status : null } } }); var i = o.prototype, a = {};["ERR_BAD_OPTION_VALUE", "ERR_BAD_OPTION", "ECONNABORTED", "ETIMEDOUT", "ERR_NETWORK", "ERR_FR_TOO_MANY_REDIRECTS", "ERR_DEPRECATED", "ERR_BAD_RESPONSE", "ERR_BAD_REQUEST", "ERR_CANCELED"].forEach((function (e) { a[e] = { value: e } })), Object.defineProperties(o, a), Object.defineProperty(i, "isAxiosError", { value: !0 }), o.from = function (e, t, n, a, s, c) { var l = Object.create(i); return r.toFlatObject(e, l, (function (e) { return e !== Error.prototype })), o.call(l, e.message, t, n, a, s), l.name = e.name, c && Object.assign(l, c), l }, e.exports = o }, 782: (e, t, n) => { "use strict"; var r = n(4867); function o() { this.handlers = [] } o.prototype.use = function (e, t, n) { return this.handlers.push({ fulfilled: e, rejected: t, synchronous: !!n && n.synchronous, runWhen: n ? n.runWhen : null }), this.handlers.length - 1 }, o.prototype.eject = function (e) { this.handlers[e] && (this.handlers[e] = null) }, o.prototype.forEach = function (e) { r.forEach(this.handlers, (function (t) { null !== t && e(t) })) }, e.exports = o }, 4097: (e, t, n) => { "use strict"; var r = n(1793), o = n(7303); e.exports = function (e, t) { return e && !r(t) ? o(e, t) : t } }, 3572: (e, t, n) => { "use strict"; var r = n(4867), o = n(8527), i = n(6502), a = n(5546), s = n(644); function c(e) { if (e.cancelToken && e.cancelToken.throwIfRequested(), e.signal && e.signal.aborted) throw new s } e.exports = function (e) { return c(e), e.headers = e.headers || {}, e.data = o.call(e, e.data, e.headers, e.transformRequest), e.headers = r.merge(e.headers.common || {}, e.headers[e.method] || {}, e.headers), r.forEach(["delete", "get", "head", "post", "put", "patch", "common"], (function (t) { delete e.headers[t] })), (e.adapter || a.adapter)(e).then((function (t) { return c(e), t.data = o.call(e, t.data, t.headers, e.transformResponse), t }), (function (t) { return i(t) || (c(e), t && t.response && (t.response.data = o.call(e, t.response.data, t.response.headers, e.transformResponse))), Promise.reject(t) })) } }, 7185: (e, t, n) => { "use strict"; var r = n(4867); e.exports = function (e, t) { t = t || {}; var n = {}; function o(e, t) { return r.isPlainObject(e) && r.isPlainObject(t) ? r.merge(e, t) : r.isPlainObject(t) ? r.merge({}, t) : r.isArray(t) ? t.slice() : t } function i(n) { return r.isUndefined(t[n]) ? r.isUndefined(e[n]) ? void 0 : o(void 0, e[n]) : o(e[n], t[n]) } function a(e) { if (!r.isUndefined(t[e])) return o(void 0, t[e]) } function s(n) { return r.isUndefined(t[n]) ? r.isUndefined(e[n]) ? void 0 : o(void 0, e[n]) : o(void 0, t[n]) } function c(n) { return n in t ? o(e[n], t[n]) : n in e ? o(void 0, e[n]) : void 0 } var l = { url: a, method: a, data: a, baseURL: s, transformRequest: s, transformResponse: s, paramsSerializer: s, timeout: s, timeoutMessage: s, withCredentials: s, adapter: s, responseType: s, xsrfCookieName: s, xsrfHeaderName: s, onUploadProgress: s, onDownloadProgress: s, decompress: s, maxContentLength: s, maxBodyLength: s, beforeRedirect: s, transport: s, httpAgent: s, httpsAgent: s, cancelToken: s, socketPath: s, responseEncoding: s, validateStatus: c }; return r.forEach(Object.keys(e).concat(Object.keys(t)), (function (e) { var t = l[e] || i, o = t(e); r.isUndefined(o) && t !== c || (n[e] = o) })), n } }, 6026: (e, t, n) => { "use strict"; var r = n(2648); e.exports = function (e, t, n) { var o = n.config.validateStatus; n.status && o && !o(n.status) ? t(new r("Request failed with status code " + n.status, [r.ERR_BAD_REQUEST, r.ERR_BAD_RESPONSE][Math.floor(n.status / 100) - 4], n.config, n.request, n)) : e(n) } }, 8527: (e, t, n) => { "use strict"; var r = n(4867), o = n(5546); e.exports = function (e, t, n) { var i = this || o; return r.forEach(n, (function (n) { e = n.call(i, e, t) })), e } }, 5546: (e, t, n) => { "use strict"; var r = n(4155), o = n(4867), i = n(6016), a = n(2648), s = n(7874), c = n(7675), l = { "Content-Type": "application/x-www-form-urlencoded" }; function u(e, t) { !o.isUndefined(e) && o.isUndefined(e["Content-Type"]) && (e["Content-Type"] = t) } var d, h = { transitional: s, adapter: (("undefined" != typeof XMLHttpRequest || void 0 !== r && "[object process]" === Object.prototype.toString.call(r)) && (d = n(5448)), d), transformRequest: [function (e, t) { if (i(t, "Accept"), i(t, "Content-Type"), o.isFormData(e) || o.isArrayBuffer(e) || o.isBuffer(e) || o.isStream(e) || o.isFile(e) || o.isBlob(e)) return e; if (o.isArrayBufferView(e)) return e.buffer; if (o.isURLSearchParams(e)) return u(t, "application/x-www-form-urlencoded;charset=utf-8"), e.toString(); var n, r = o.isObject(e), a = t && t["Content-Type"]; if ((n = o.isFileList(e)) || r && "multipart/form-data" === a) { var s = this.env && this.env.FormData; return c(n ? { "files[]": e } : e, s && new s) } return r || "application/json" === a ? (u(t, "application/json"), function (e, t, n) { if (o.isString(e)) try { return (0, JSON.parse)(e), o.trim(e) } catch (e) { if ("SyntaxError" !== e.name) throw e } return (0, JSON.stringify)(e) }(e)) : e }], transformResponse: [function (e) { var t = this.transitional || h.transitional, n = t && t.silentJSONParsing, r = t && t.forcedJSONParsing, i = !n && "json" === this.responseType; if (i || r && o.isString(e) && e.length) try { return JSON.parse(e) } catch (e) { if (i) { if ("SyntaxError" === e.name) throw a.from(e, a.ERR_BAD_RESPONSE, this, null, this.response); throw e } } return e }], timeout: 0, xsrfCookieName: "XSRF-TOKEN", xsrfHeaderName: "X-XSRF-TOKEN", maxContentLength: -1, maxBodyLength: -1, env: { FormData: n(1623) }, validateStatus: function (e) { return e >= 200 && e < 300 }, headers: { common: { Accept: "application/json, text/plain, */*" } } }; o.forEach(["delete", "get", "head"], (function (e) { h.headers[e] = {} })), o.forEach(["post", "put", "patch"], (function (e) { h.headers[e] = o.merge(l) })), e.exports = h }, 7874: e => { "use strict"; e.exports = { silentJSONParsing: !0, forcedJSONParsing: !0, clarifyTimeoutError: !1 } }, 7288: e => { e.exports = { version: "0.27.2" } }, 1849: e => { "use strict"; e.exports = function (e, t) { return function () { for (var n = new Array(arguments.length), r = 0; r < n.length; r++)n[r] = arguments[r]; return e.apply(t, n) } } }, 5327: (e, t, n) => { "use strict"; var r = n(4867); function o(e) { return encodeURIComponent(e).replace(/%3A/gi, ":").replace(/%24/g, "$").replace(/%2C/gi, ",").replace(/%20/g, "+").replace(/%5B/gi, "[").replace(/%5D/gi, "]") } e.exports = function (e, t, n) { if (!t) return e; var i; if (n) i = n(t); else if (r.isURLSearchParams(t)) i = t.toString(); else { var a = []; r.forEach(t, (function (e, t) { null != e && (r.isArray(e) ? t += "[]" : e = [e], r.forEach(e, (function (e) { r.isDate(e) ? e = e.toISOString() : r.isObject(e) && (e = JSON.stringify(e)), a.push(o(t) + "=" + o(e)) }))) })), i = a.join("&") } if (i) { var s = e.indexOf("#"); -1 !== s && (e = e.slice(0, s)), e += (-1 === e.indexOf("?") ? "?" : "&") + i } return e } }, 7303: e => { "use strict"; e.exports = function (e, t) { return t ? e.replace(/\/+$/, "") + "/" + t.replace(/^\/+/, "") : e } }, 4372: (e, t, n) => { "use strict"; var r = n(4867); e.exports = r.isStandardBrowserEnv() ? { write: function (e, t, n, o, i, a) { var s = []; s.push(e + "=" + encodeURIComponent(t)), r.isNumber(n) && s.push("expires=" + new Date(n).toGMTString()), r.isString(o) && s.push("path=" + o), r.isString(i) && s.push("domain=" + i), !0 === a && s.push("secure"), document.cookie = s.join("; ") }, read: function (e) { var t = document.cookie.match(new RegExp("(^|;\\s*)(" + e + ")=([^;]*)")); return t ? decodeURIComponent(t[3]) : null }, remove: function (e) { this.write(e, "", Date.now() - 864e5) } } : { write: function () { }, read: function () { return null }, remove: function () { } } }, 1793: e => { "use strict"; e.exports = function (e) { return /^([a-z][a-z\d+\-.]*:)?\/\//i.test(e) } }, 6268: (e, t, n) => { "use strict"; var r = n(4867); e.exports = function (e) { return r.isObject(e) && !0 === e.isAxiosError } }, 7985: (e, t, n) => { "use strict"; var r = n(4867); e.exports = r.isStandardBrowserEnv() ? function () { var e, t = /(msie|trident)/i.test(navigator.userAgent), n = document.createElement("a"); function o(e) { var r = e; return t && (n.setAttribute("href", r), r = n.href), n.setAttribute("href", r), { href: n.href, protocol: n.protocol ? n.protocol.replace(/:$/, "") : "", host: n.host, search: n.search ? n.search.replace(/^\?/, "") : "", hash: n.hash ? n.hash.replace(/^#/, "") : "", hostname: n.hostname, port: n.port, pathname: "/" === n.pathname.charAt(0) ? n.pathname : "/" + n.pathname } } return e = o(window.location.href), function (t) { var n = r.isString(t) ? o(t) : t; return n.protocol === e.protocol && n.host === e.host } }() : function () { return !0 } }, 6016: (e, t, n) => { "use strict"; var r = n(4867); e.exports = function (e, t) { r.forEach(e, (function (n, r) { r !== t && r.toUpperCase() === t.toUpperCase() && (e[t] = n, delete e[r]) })) } }, 1623: e => { e.exports = null }, 4109: (e, t, n) => { "use strict"; var r = n(4867), o = ["age", "authorization", "content-length", "content-type", "etag", "expires", "from", "host", "if-modified-since", "if-unmodified-since", "last-modified", "location", "max-forwards", "proxy-authorization", "referer", "retry-after", "user-agent"]; e.exports = function (e) { var t, n, i, a = {}; return e ? (r.forEach(e.split("\n"), (function (e) { if (i = e.indexOf(":"), t = r.trim(e.substr(0, i)).toLowerCase(), n = r.trim(e.substr(i + 1)), t) { if (a[t] && o.indexOf(t) >= 0) return; a[t] = "set-cookie" === t ? (a[t] ? a[t] : []).concat([n]) : a[t] ? a[t] + ", " + n : n } })), a) : a } }, 205: e => { "use strict"; e.exports = function (e) { var t = /^([-+\w]{1,25})(:?\/\/|:)/.exec(e); return t && t[1] || "" } }, 8713: e => { "use strict"; e.exports = function (e) { return function (t) { return e.apply(null, t) } } }, 7675: (e, t, n) => { "use strict"; var r = n(8764).lW, o = n(4867); e.exports = function (e, t) { t = t || new FormData; var n = []; function i(e) { return null === e ? "" : o.isDate(e) ? e.toISOString() : o.isArrayBuffer(e) || o.isTypedArray(e) ? "function" == typeof Blob ? new Blob([e]) : r.from(e) : e } return function e(r, a) { if (o.isPlainObject(r) || o.isArray(r)) { if (-1 !== n.indexOf(r)) throw Error("Circular reference detected in " + a); n.push(r), o.forEach(r, (function (n, r) { if (!o.isUndefined(n)) { var s, c = a ? a + "." + r : r; if (n && !a && "object" == typeof n) if (o.endsWith(r, "{}")) n = JSON.stringify(n); else if (o.endsWith(r, "[]") && (s = o.toArray(n))) return void s.forEach((function (e) { !o.isUndefined(e) && t.append(c, i(e)) })); e(n, c) } })), n.pop() } else t.append(a, i(r)) }(e), t } }, 4875: (e, t, n) => { "use strict"; var r = n(7288).version, o = n(2648), i = {};["object", "boolean", "number", "function", "string", "symbol"].forEach((function (e, t) { i[e] = function (n) { return typeof n === e || "a" + (t < 1 ? "n " : " ") + e } })); var a = {}; i.transitional = function (e, t, n) { function i(e, t) { return "[Axios v" + r + "] Transitional option '" + e + "'" + t + (n ? ". " + n : "") } return function (n, r, s) { if (!1 === e) throw new o(i(r, " has been removed" + (t ? " in " + t : "")), o.ERR_DEPRECATED); return t && !a[r] && (a[r] = !0, console.warn(i(r, " has been deprecated since v" + t + " and will be removed in the near future"))), !e || e(n, r, s) } }, e.exports = { assertOptions: function (e, t, n) { if ("object" != typeof e) throw new o("options must be an object", o.ERR_BAD_OPTION_VALUE); for (var r = Object.keys(e), i = r.length; i-- > 0;) { var a = r[i], s = t[a]; if (s) { var c = e[a], l = void 0 === c || s(c, a, e); if (!0 !== l) throw new o("option " + a + " must be " + l, o.ERR_BAD_OPTION_VALUE) } else if (!0 !== n) throw new o("Unknown option " + a, o.ERR_BAD_OPTION) } }, validators: i } }, 4867: (e, t, n) => { "use strict"; var r, o = n(1849), i = Object.prototype.toString, a = (r = Object.create(null), function (e) { var t = i.call(e); return r[t] || (r[t] = t.slice(8, -1).toLowerCase()) }); function s(e) { return e = e.toLowerCase(), function (t) { return a(t) === e } } function c(e) { return Array.isArray(e) } function l(e) { return void 0 === e } var u = s("ArrayBuffer"); function d(e) { return null !== e && "object" == typeof e } function h(e) { if ("object" !== a(e)) return !1; var t = Object.getPrototypeOf(e); return null === t || t === Object.prototype } var f = s("Date"), p = s("File"), _ = s("Blob"), v = s("FileList"); function m(e) { return "[object Function]" === i.call(e) } var g = s("URLSearchParams"); function A(e, t) { if (null != e) if ("object" != typeof e && (e = [e]), c(e)) for (var n = 0, r = e.length; n < r; n++)t.call(null, e[n], n, e); else for (var o in e) Object.prototype.hasOwnProperty.call(e, o) && t.call(null, e[o], o, e) } var y, B = (y = "undefined" != typeof Uint8Array && Object.getPrototypeOf(Uint8Array), function (e) { return y && e instanceof y }); e.exports = { isArray: c, isArrayBuffer: u, isBuffer: function (e) { return null !== e && !l(e) && null !== e.constructor && !l(e.constructor) && "function" == typeof e.constructor.isBuffer && e.constructor.isBuffer(e) }, isFormData: function (e) { var t = "[object FormData]"; return e && ("function" == typeof FormData && e instanceof FormData || i.call(e) === t || m(e.toString) && e.toString() === t) }, isArrayBufferView: function (e) { return "undefined" != typeof ArrayBuffer && ArrayBuffer.isView ? ArrayBuffer.isView(e) : e && e.buffer && u(e.buffer) }, isString: function (e) { return "string" == typeof e }, isNumber: function (e) { return "number" == typeof e }, isObject: d, isPlainObject: h, isUndefined: l, isDate: f, isFile: p, isBlob: _, isFunction: m, isStream: function (e) { return d(e) && m(e.pipe) }, isURLSearchParams: g, isStandardBrowserEnv: function () { return ("undefined" == typeof navigator || "ReactNative" !== navigator.product && "NativeScript" !== navigator.product && "NS" !== navigator.product) && "undefined" != typeof window && "undefined" != typeof document }, forEach: A, merge: function e() { var t = {}; function n(n, r) { h(t[r]) && h(n) ? t[r] = e(t[r], n) : h(n) ? t[r] = e({}, n) : c(n) ? t[r] = n.slice() : t[r] = n } for (var r = 0, o = arguments.length; r < o; r++)A(arguments[r], n); return t }, extend: function (e, t, n) { return A(t, (function (t, r) { e[r] = n && "function" == typeof t ? o(t, n) : t })), e }, trim: function (e) { return e.trim ? e.trim() : e.replace(/^\s+|\s+$/g, "") }, stripBOM: function (e) { return 65279 === e.charCodeAt(0) && (e = e.slice(1)), e }, inherits: function (e, t, n, r) { e.prototype = Object.create(t.prototype, r), e.prototype.constructor = e, n && Object.assign(e.prototype, n) }, toFlatObject: function (e, t, n) { var r, o, i, a = {}; t = t || {}; do { for (o = (r = Object.getOwnPropertyNames(e)).length; o-- > 0;)a[i = r[o]] || (t[i] = e[i], a[i] = !0); e = Object.getPrototypeOf(e) } while (e && (!n || n(e, t)) && e !== Object.prototype); return t }, kindOf: a, kindOfTest: s, endsWith: function (e, t, n) { e = String(e), (void 0 === n || n > e.length) && (n = e.length), n -= t.length; var r = e.indexOf(t, n); return -1 !== r && r === n }, toArray: function (e) { if (!e) return null; var t = e.length; if (l(t)) return null; for (var n = new Array(t); t-- > 0;)n[t] = e[t]; return n }, isTypedArray: B, isFileList: v } }, 1343: (e, t, n) => { "use strict"; n.d(t, { Z: () => O }); var r, o, i = n(1451), a = n(6854), s = n(2875), c = (n(2772), n(7658), n(1249), n(1539), n(9554), n(4747), n(9720), n(4916), n(5306), n(1002)), l = (n(7601), n(561), n(2564), n(541), -1), u = [], d = { "@default.bg.color": "rgba(64,64,64,0.5)" }, h = !1; function f() { var e, t, n, r = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : void 0, o = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : void 0, i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : void 0, a = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : void 0, s = r; i = null !== (e = i) && void 0 !== e ? e : r; var c = o = null !== (t = o) && void 0 !== t ? t : r; a = null !== (n = a) && void 0 !== n ? n : o, Object.assign(p().style, { paddingTop: "".concat(s, "vh"), paddingRight: "".concat(c, "vw"), paddingBottom: "".concat(i, "vh"), paddingLeft: "".concat(a, "vw"), width: "".concat(100 - a - c, "vw"), height: "".concat(100 - s - i, "vh") }) } function p() { if (!r) throw "ViewerModal: html element not created yet"; return r } function _() { if (!o) throw "ViewerModal: html element not created yet"; return o } function v(e) { var t; return null !== (t = d[e]) && void 0 !== t ? t : e } function m() { for (var e, t = _(); e = t.firstChild;)e.remove(); return t } function g(e) { var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}; h && console.log("ViewerModal.showText: ", e); var n = m(); n.innerText = v(e), y(t) } function A(e) { var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}; h && console.log("ViewerModal.showHtml: ", e); var n = m(); e = "object" == (0, c.Z)(e) ? e : document.createRange().createContextualFragment(e), n.appendChild(e), y(t) } function y(e) { var t = e.background, n = void 0 === t ? void 0 : t, r = e.backgroundColor, o = void 0 === r ? "@default.bg.color" : r, a = e.backgroundImage, s = void 0 === a ? "none" : a, c = e.backgroundSize, l = void 0 === c ? 80 : c, u = e.paddings, d = void 0 === u ? [20, 10] : u, h = e.pointerEvents, m = void 0 === h ? "auto" : h; "string" == typeof l && /^[\w\d,% .]+$/.test(l) || (l = "number" == typeof l && isFinite(l) ? "auto ".concat(l, "%") : "contain"), Object.assign(p().style, { background: null != n ? n : v(o), display: "table", pointerEvents: m }), Object.assign(_().style, { backgroundImage: v(s), backgroundSize: l }), d && f.apply(void 0, (0, i.Z)(d)) } function B() { h && console.log("ViewerModal.hide"), Object.assign(p().style, { display: "none" }) } function b(e) { var t = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1]; h && console.log("ViewerModal.hideModal:", e); var n = u.indexOf(e); t && n > -1 && u.splice(n, 1), D() && n == l && (B(), C(-1)), setTimeout((function () { !D() && u.length && E(u[0]) }), 0) } function C(e) { l = e, h && console.log("ViewerModal.setCurrentModalIndex:", e) } function E(e) { C(u.indexOf(e)); var t = e.text, n = void 0 === t ? void 0 : t, r = e.html, o = void 0 === r ? void 0 : r, i = e.args, a = i.onshow, s = void 0 === a ? function () { } : a; void 0 !== n ? g(n, i) : void 0 !== o && A(o, i); var c = i.promise, l = void 0 === c ? void 0 : c, d = i.promise_callback, h = void 0 === d ? void 0 : d; if (e.promise) l = e.promise; else if (h && (l = h(e)), l) { var f = i.promise_reject_callback, p = void 0 === f ? function () { return b(e) } : f, _ = i.promise_resolve_callback, v = void 0 === _ ? function () { return b(e) } : _; l.then(v).catch(p), e.promise = l } s(l) } function w(e) { var t = e.text, n = void 0 === t ? void 0 : t, r = e.html, o = void 0 === r ? void 0 : r, i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, a = i.ontop, s = void 0 !== a && a, c = { html: o, text: n, args: i }, d = D(), f = s || !d, p = d && f; return h && console.log("ViewerModal.addTextOrHtmlModal: do_hide", p, "; do_show", f, "; is_shown", d, "; text", n, "; html", o, "; args", i), p && b(u[l], !1), s ? u.unshift(c) : u.push(c), f && E(c), c } function k(e) { var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}; return t.promise_callback = function (e) { return new Promise((function (t) { p().onclick = function (n) { l == u.indexOf(e) && (n.stopPropagation(), t()) } })) }, w(e, t) } function D() { return -1 != l } const x = { getAlias: v, setAliases: function () { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}; Object.assign(d, e) }, setDebug: function (e) { h = !!e }, createHtmlElement: function (e) { var t; return t = document.createElement("div"), Object.assign(t.style, { position: "relative", top: "0px", left: "0px", display: "none", backgroundSize: "100%" }), e.appendChild(t), r = t, o = function (e) { return Object.assign(e.style, { position: "relative", color: "white", textAlign: "center", textShadow: "-1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000, 1px 1px 0 #000", verticalAlign: "bottom", backgroundPosition: "center", backgroundRepeat: "no-repeat", backgroundSize: "contain", display: "table-cell" }), r.appendChild(e), e }(document.createElement("div")), r }, setStyles: y, showText: g, showHtml: A, hide: B, addTextModal: function (e) { var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}; return w({ text: e }, t) }, addHtmlModal: function (e) { var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}; return w({ html: e }, t) }, hideModal: b, addTextModalUntilClick: function (e, t) { return k({ text: e }, t) }, addHtmlModalUntilClick: function (e, t) { return k({ html: e }, t) }, getWrapElement: p, getTextElement: _ }; var S; function M(e) { var t = []; return e.indexOf("wechat_ios") > -1 ? t.push({ text: "@wechat_ios.negotiation.browser.text", image: "@wechat_ios.negotiation.browser.image" }) : e.indexOf("open_safari") > -1 ? t.push({ text: "@open_safari.negotiation.browser.text" }) : e.indexOf("open_chrome") > -1 ? t.push({ text: "@open_chrome.negotiation.browser.text" }) : e.indexOf("no_video") > -1 ? t.push({ text: "@no_video.negotiation.browser.text" }) : e.indexOf("no_accelerometer") > -1 && t.push({ text: "@no_accelerometer.negotiation.browser.text" }), t } function F(e) { return e.map((function (e) { var t = e.text, n = e.image, r = void 0 === n ? void 0 : n; return x.addTextModalUntilClick(t, { backgroundImage: r ? "url(\"'".concat(x.getAlias(r), "'\")") : "none", backgroundColor: "@opaque.error.bg.color" }) })) } function T(e) { var t = {}; S.FireEvent("scenemanager_create_svo_distoplane_place_promise", t); var n = t.promise, r = t.do_place, o = !1, i = function () { o || (o = !0, r().then((function () { o = !1, e() }))) }; S.AddEvent("user_click", i), n.then((function () { return S.RemoveEvent("user_click", i) })), x.addTextModal("@ask.svo.add.scene.text", { promise: n, backgroundColor: "transparent", ontop: !0 }) } const O = { setup: function (e, t) { var n, r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}; S = e, x.createHtmlElement(t), x.setDebug(null !== (n = window.WEBAR_DEBUG) && void 0 !== n && n), x.setAliases((0, s.Z)({ "@opaque.default.bg.color": "rgb(64,64,64)", "@default.bg.color": "rgba(64,64,64,0.5)", "@opaque.error.bg.color": "rgb(172,64,64)", "@error.bg.color": "rgba(172,64,64,0.5)", "@loading.scene.image": "/images/tracking_helper/scene_loading.svg", "@moveinit.svo.tracking.image": "/images/tracking_helper/svo_move_256_300k.png", "@wechat_ios.negotiation.browser.image": "/images/instructions/wechat_ios.png", "@show_image.marker.tracking.image": "/images/tracking_helper/tracking_show_image.png", "@show_qr.marker.tracking.image": "/images/tracking_helper/tracking_show_qr.png", "@show_qr.marker.scanner.image": "/images/tracking_helper/scanner_show_qr.png", "@ask.media.image": "/images/tracking_helper/touch_autoplay.svg", "@ask.fullscreen.image": "/images/tracking_helper/touch_fullscreen.svg", "@ask.accelerometer.image": "/images/tracking_helper/touch.svg" }, r)) }, getViewerModal: function () { return x }, composeNegotiationInstructions: M, showNegotiationInstructionsModals: F, handleNegotiationReasonsModals: function (e) { F(M(e)) }, handleCameraModals: function (e) { x.addTextModal("@ask.camera.text", { backgroundColor: "@opaque.default.bg.color", promise: e }), e.catch((function (e) { return x.addTextModal("@error.camera.text", { backgroundColor: "@opaque.error.bg.color", ontop: !0 }) })) }, handleMediaAutoplayModal: function () { var e, t = x.getWrapElement(), n = ["pointerup", "pointerdown", "keydown", "keyup", "keypress"], r = function (e) { return e.stopPropagation() }, o = function () { return n.forEach((function (e) { return t.removeEventListener(e, r) })) }; S.AddEvent("user_fill_media_allow_element_events", (function (e) { e.push({ element: t, events: ["click"] }) })), S.AddEvent("user_media_allow_resolved", (function () { S.Log("Viewer: Media allowed!"), e && x.hideModal(e) })), S.AddEvent("user_media_allow_promise_created", (function (i) { e = x.addTextModal("@ask.media.text", { backgroundImage: 'url("'.concat(x.getAlias("@ask.media.image"), '")'), backgroundSize: 50, ontop: !0, promise: i }), n.forEach((function (e) { return t.addEventListener(e, r) })), i.then(o) })) }, handleDeviceMotionModals: function () { var e, t; S.AddEvent("user_fill_safari_devicemotion_allow_element_events", (function (t) { e = x.addTextModal("@ask.accelerometer.text", { backgroundColor: "@opaque.default.bg.color", backgroundImage: 'url("'.concat(x.getAlias("@ask.accelerometer.image"), '")'), backgroundSize: 50 }) })), S.AddEvent("user_safari_devicemotion_allow_resolved", (function () { S.Log("Viewer: Device motion allowed!"), e && x.hideModal(e) })), S.AddEvent("user_safari_devicemotion_allow_rejected", (function () { e && x.hideModal(e), x.addTextModal("@error.accelerometer.text", { backgroundColor: "@opaque.error.bg.color" }) })), S.AddEvent("user_fill_safari_deviceorientation_allow_element_events", (function (e) { t = x.addTextModal("@ask.accelerometer.text", { backgroundColor: "@opaque.default.bg.color", backgroundImage: 'url("'.concat(x.getAlias("@ask.accelerometer.image"), '")'), backgroundSize: 50 }) })), S.AddEvent("user_safari_deviceorientation_allow_resolved", (function () { S.Log("Viewer: Device orientation allowed!"), t && x.hideModal(t) })), S.AddEvent("user_safari_deviceorientation_allow_rejected", (function () { t && x.hideModal(t), x.addTextModal("@error.accelerometer.text", { backgroundColor: "@opaque.error.bg.color" }) })) }, handleFullScreenModals: function () { S.AddEvent("user_fill_fullscreen_allow_element_events", (function (e) { var t, n, r = new Promise((function (e, r) { t = e, n = r })), o = function (e) { return Object.entries(e).forEach((function (e) { var t = (0, a.Z)(e, 2), n = t[0], r = t[1]; return S.AddEvent(n, r) })) }, i = { user_fullscreen_allow_resolved: function () { o(i), t() }, user_fullscreen_allow_rejected: function (e) { o(i), n(e) } }; !function (e) { Object.entries(e).forEach((function (e) { var t = (0, a.Z)(e, 2), n = t[0], r = t[1]; return S.AddEvent(n, r) })) }(i), x.addTextModal("@ask.fullscreen.text", { promise: r, backgroundImage: 'url("'.concat(x.getAlias("@ask.fullscreen.image"), '")'), backgroundSize: 50, ontop: !0 }), r.catch((function (e) { return x.addTextModalUntilClick("@error.fullscreen.text", { backgroundColor: "@error.bg.color" }) })) })) }, handleMarkerTrackingModals: function (e) { var t = function () { var t; switch (e) { case "multi_image": case "image": case "cylinder": t = ["@show_image.marker.tracking.text", { backgroundImage: 'url("'.concat(x.getAlias("@show_image.marker.tracking.image"), '")'), backgroundSize: 50 }]; break; case "qr": t = ["@show_qr.marker.tracking.text", { backgroundImage: 'url("'.concat(x.getAlias("@show_qr.marker.tracking.image"), '")'), backgroundSize: 50 }] }return t }(); if (t) { var n, r = function () { t && (n = x.addTextModal.apply(x, (0, i.Z)(t))) }; r(), S.AddEvent("viewer_all_scenes_hidden", (function () { r() })), S.AddEvent("viewer_any_scene_shown", (function () { n && x.hideModal(n) })) } }, handleSVOMarkerlessTrackingModals: function (e) { var t, n = e.show_markerless_scene_callback, r = e.hide_markerless_scene_callback, o = void 0 === r ? function () { } : r, i = e.place_on_every_click_callback, a = void 0 === i ? function () { } : i, s = S.tracking; S.AddEvent("user_tracking_svo_status_changed", (function (e, r) { switch (S.Log("SVO Status: " + e), t && (t(), t = void 0), e) { case s.SVO_STATUS_PAUSED: case s.SVO_STATUS_FRAMEINIT: case s.SVO_STATUS_MOVEINIT: x.addTextModal("@moveinit.svo.tracking.text", { backgroundImage: 'url("'.concat(x.getAlias("@moveinit.svo.tracking.image"), '")'), backgroundSize: 50, ontop: !0, promise: new Promise((function (e) { t = e })) }); break; case s.SVO_STATUS_OK: n(), r == s.SVO_STATUS_MOVEINIT && T(a); break; case s.SVO_STATUS_LOST: o(), x.addTextModal("@lost.svo.tracking.text", { backgroundColor: "transparent", ontop: !0, promise: new Promise((function (e) { t = e })) }) } })) }, handleMarkerSceneLoadingModal: function (e, t) { var n, r, o = e.load_promise, i = new Promise((function (e) { n = e })); S.AddEvent("user_marker_scene_deleted", (function (e, t) { o == t.load_promise && n() })); var a = new Promise((function (e) { r = e })); o.then((function () { return r() })), i.then((function () { return r() })), x.addTextModal("@loading.scene.text", { backgroundImage: 'url("'.concat(x.getAlias("@loading.scene.image"), '")'), backgroundSize: 50, ontop: !1, promise: a }) }, handleSVODistoplanePlaceSceneModal: T, handleInstantPlaceSceneModal: function (e) { var t = e.on_done_callback, n = e.text, r = void 0 === n ? void 0 : n, o = e.image, i = void 0 === o ? void 0 : o, a = {}; S.FireEvent("viewer_create_instant_place_promise", a); var s = a.promise, c = a.do_place, l = !1, u = function (e) { l || (l = !0, c(e).then((function () { l = !1, t() }))) }; S.AddEvent("user_click", u), s.then((function () { return S.RemoveEvent("user_click", u) })), x.addTextModal(null != r ? r : "@ask.instant.add.scene.text", { promise: s, backgroundColor: "transparent", backgroundImage: i ? 'url("'.concat(x.getAlias(i), '")') : "none", ontop: !0 }) }, handleInstantTransformSceneModal: function (e) { var t = e.object, n = e.on_done_callback, r = void 0 === n ? void 0 : n, o = e.text, i = void 0 === o ? void 0 : o, a = e.image, s = void 0 === a ? void 0 : a, c = {}; S.FireEvent("viewer_create_instant_transform_promise", c); var l = c.promise, u = c.on_apply_transform, d = void 0 === u ? function () { } : u, h = c.on_end_transform, f = void 0 === h ? function () { } : h; this.InstantTracking_transformPinch({ object: t, on_apply_transform: d, on_end_transform: function () { f(), r && r() } }), x.addTextModal(null != i ? i : "@ask.instant.transform.scene.text", { promise: l, backgroundColor: "transparent", backgroundImage: s ? "url(\"'".concat(x.getAlias(s), "'\")") : "none", ontop: !0 }) }, handleScanQrModal: function () { var e, t = new Promise((function (t) { e = t })); return x.addTextModal("@show_qr.marker.scanner.text", { backgroundImage: 'url("'.concat(x.getAlias("@show_qr.marker.scanner.image"), '")'), backgroundColor: "transparent", backgroundSize: 50, promise: t }), S.AddEvent("user_marker_show", (function t(n, r) { e(n.text), S.RemoveEvent("user_marker_show", t) })), t }, handleResultQrModal: function (e) { var t, n, r = e.type, o = void 0 === r ? "text" : r, i = e.content; return "link" == o ? (t = x.getAlias("@link_result.marker.scanner.text").replace("{content}", i), n = function (e) { window.location.href = i, x.hideModal(e) }) : t = x.getAlias("@text_result.marker.scanner.text").replace("{content}", i), x.addTextModalUntilClick(t, { promise_resolve_callback: n, ontop: !0 }).promise } } }, 6181: (e, t, n) => { window.axios = n(9669), window.axios.defaults.headers.common["X-Requested-With"] = "XMLHttpRequest" }, 402: (e, t, n) => { "use strict"; n.d(t, { T: () => Z }); var r = n(6854), o = n(1002), i = n(5671), a = n(3144), s = (n(1539), n(8783), n(4129), n(3948), n(9554), n(4747), n(9720), n(1703), n(6647), n(2875)); const c = { Animateable_pause: function () { this.Animateable_fuse_animate = !1 }, Animateable_resume: function () { this.Animateable_fuse_animate = !0 }, Animateable_onUpdate: function () { throw new Error("Calling abstract Animateable.Animateable_onUpdate()") }, setup: function (e, t, n, r) { var o = this; this.Animateable_fuse_animate = !0, this.events["object_animate_".concat(n.id)] = function () { o.Animateable_fuse_animate && o.Animateable_onUpdate.apply(o, arguments) } } }, l = { Clickable_onClick: function () { throw new Error("Calling abstract Clickabe.Clickable_onClick()") }, setup: function (e, t, n, r) { var o = this; this.events["touchscreen_object_click_".concat(r.id)] = function () { return o.Clickable_onClick.apply(o, arguments) } } }, u = { Raycastable_onRayIn: function () { throw new Error("Calling abstract Raycastable.Raycastable_onRayIn()") }, Raycastable_onRayOut: function () { throw new Error("Calling abstract Raycastable.Raycastable_onRayOut()") }, setup: function (e, t, n, r) { var o = this; this.events["touchscreen_object_rayin_".concat(r.id)] = function () { return o.Raycastable_onRayIn.apply(o, arguments) }, this.events["touchscreen_object_rayout_".concat(r.id)] = function () { return o.Raycastable_onRayOut.apply(o, arguments) }, this.env.fire_event("touchscreen.enable_regular_intersection", !0) } }; n(1249), n(2772), n(7658); const d = { depends: ["Animateable"], Animateable_onUpdate: function () { this.Texturable_animation && (this.Texturable_getMaterial().map.needsUpdate = !0) }, setup: function (e, t, n, r) { this.Texturable_animation = e.Animation && "0" !== e.Animation }, Texturable_getMaterial: function () { throw new Error("Call abstract Texturable.Texturable_getMaterial()") }, Texturable_traverseMeshes: function () { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : ["Mesh"]; this.Texturable_meshes = this.Texturable_getMeshes(e) }, Texturable_setMaterialToMeshes: function () { var e = this.Texturable_getMaterial(); this.Texturable_meshes.forEach((function (t) { console.log("Texturable.setTextureToMeshes: set", { material: e }, "to", { mesh: t }), t.material = e })) }, Texturable_getMeshes: function (e) { var t = []; return this.target3d.traverse((function (n) { console.log("Texturable.Texturable_getMeshes: test", { o: n }), "Mesh" == n.type && -1 !== e.indexOf(n.type) && -1 === t.indexOf(n) && (t.push(n), console.log("Texturable.Texturable_getMeshes: got mesh ", { o: n })) })), t } }, h = { depends: [], setup: function (e, t, n, r) { var o = this; this.events["object_positionable_setarray_".concat(n.id)] = function () { return o.Positionable_setArray.apply(o, arguments) } }, Positionable_setArray: function (e) { var t = (0, r.Z)(e, 3), n = t[0], o = t[1], i = t[2]; this.Positionable_setPositionXYZ(n, o, i) }, Positionable_onPosition: function () { throw new Error("Calling abstract Positionable.Positionable_onPosition()") }, Positionable_getPosition: function () { return this.target3d.position }, Positionable_setPosition: function (e) { var t = this.target3d.position.copy(e); return this.Positionable_onPosition(t), t }, Positionable_setPositionXYZ: function (e, t, n) { var r = this.Positionable_getPosition(); return r.fromArray([e, t, n]), this.Positionable_onPosition(r), r }, Positionable_setPositionCoordinate: function (e, t) { var n = this.Positionable_getPosition(); return n[e] = t, this.Positionable_onPosition(n), n }, Positionable_addPositionCoordinate: function (e, t) { var n = this.Positionable_getPosition(); return n[e] += t, this.Positionable_onPosition(n), n }, Positionable_addPositionVector: function (e) { var t = this.Positionable_getPosition(); return t.add(e), this.Positionable_onPosition(t), t }, Positionable_setPositionX: function (e) { return this.Positionable_setPositionCoordinate("x", e) }, Positionable_setPositionY: function (e) { return this.Positionable_setPositionCoordinate("y", e) }, Positionable_setPositionZ: function (e) { return this.Positionable_setPositionCoordinate("z", e) }, Positionable_addPositionX: function (e) { return this.Positionable_addPositionCoordinate("x", e) }, Positionable_addPositionY: function (e) { return this.Positionable_setPositionCoordinate("y", e) }, Positionable_addPositionZ: function (e) { return this.Positionable_setPositionCoordinate("z", e) } }, f = { depends: ["Updatable", "Positionable"], Movable_onUpdate: function (e) { this.Movable_fuse_move && this.Movable_move(e) }, setup: function (e, t, n, r) { var o = this; this.Movable_elapsed_time = 0, this.Movable_fuse_move = !1, this.Updatable_subscribe((function () { o.Movable_onUpdate.apply(o, arguments) })) }, Movable_start: function () { this.Movable_fuse_move = !0 }, Movable_calculate: function () { var e = this.env.THREE; this.Movable_start_position = this.Movable_getStartPosition(), this.Movable_end_position = this.Movable_getEndPosition(), this.Movable_speed = this.Movable_getMoveSpeed(), this.Movable_diff_vector = (new e.Vector3).subVectors(this.Movable_end_position, this.Movable_start_position), this.Movable_dir_vector = this.Movable_diff_vector.clone().normalize(), this.Movable_distance = this.Movable_diff_vector.length(), this.Movable_estimated_time = this.Movable_distance / this.Movable_speed }, Movable_move: function (e) { if (this.Movable_elapsed_time || (this.Movable_calculate(), this.Movable_onMoveStart()), this.Movable_elapsed_time += e, this.Movable_estimated_time < this.Movable_elapsed_time) this.Positionable_setPosition(this.Movable_end_position), this.Movable_fuse_move = !1, this.Movable_onMoveEnd(); else { var t = this.Movable_dir_vector.clone().multiplyScalar(e * this.Movable_speed); this.Positionable_addPositionVector(t), this.Movable_onMove(t, e) } }, Movable_getStartPosition: function () { throw new Error("Calling abstract Movable.Movable_getStartPosition()") }, Movable_getEndPosition: function () { throw new Error("Calling abstract Movable.Movable_getEndPosition()") }, Movable_getMoveSpeed: function () { throw new Error("Calling abstract Movable.Movable_getMoveSpeed()") }, Movable_onMoveStart: function () { throw new Error("Calling abstract Movable.Movable_onMoveStart()") }, Movable_onMoveEnd: function () { throw new Error("Calling abstract Movable.Movable_onMoveEnd()") }, Movable_onMove: function () { throw new Error("Calling abstract Movable.Movable_onMove()") } }, p = { Timerable_pause: function () { this.Timerable_fuse_update = !1 }, Timerable_resume: function () { this.Timerable_fuse_update = !0 }, Timerable_resetTime: function () { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0; this.Timerable_time = e }, Timerable_onUpdate: function (e) { this.Timerable_time += e; var t = this.Timerable_time - this.Timerable_timeout, n = !1; t > 0 && (isFinite(this.Timerable_count_left) ? this.Timerable_count_left > 0 ? (this.Timerable_count_left--, n = !0) : this.Timerable_fuse_update = !1 : n = !0, n && (this.Timerable_resetTime(t), this.Timerable_onTimer())) }, Timerable_onTimer: function () { throw new Error("Calling abstract Timerable.Timerable_onTimer()") }, setup: function (e, t, n, r) { var o = this; this.Timerable_fuse_update = !0, this.Timerable_time = 0, this.Timerable_timeout = 0, this.Timerable_count_left = 1 / 0, this.events["object_animate_".concat(n.id)] = function () { o.Timerable_fuse_update && o.Timerable_onUpdate.apply(o, arguments) } } }, _ = { depends: [], Visible_hide: function () { this.target3d.visible = !1, this.Visible_onHide.apply(this, arguments) }, Visible_show: function () { this.target3d.visible = !0, this.Visible_onShow.apply(this, arguments) }, Visible_isVisible: function () { return this.target3d.visible }, Visible_onShow: function () { throw new Error("Calling abstract Visible.Visible_onShow()") }, Visible_onHide: function () { throw new Error("Calling abstract Visible.Visible_onHide()") }, setup: function (e, t, n, r) { var o = this; this.events["object_visible_show_".concat(n.id)] = function () { return o.Visible_show.apply(o, arguments) }, this.events["object_visible_hide_".concat(n.id)] = function () { return o.Visible_hide.apply(o, arguments) } } }; n(2564); const v = { depends: ["HasMedia"], ResumableMedia_updateFuseResume: function () { var e = this.HasMedia_getMedia(); this.ResumableMedia_fuse_resume = !this.HasMedia_isPaused(), e.ResumableMedia_will_resume && (this.ResumableMedia_fuse_resume = !0, e.ResumableMedia_will_resume = !1) }, ResumableMedia_pause: function () { return this.ResumableMedia_updateFuseResume(), this.HasMedia_pause() }, ResumableMedia_resume: function () { if (this.ResumableMedia_fuse_resume) return this.HasMedia_resume() }, setup: function (e, t, n, r) { var o = this; this.ResumableMedia_fuse_resume = !1, this.HasMedia_isMediaExists() ? this.ResumableMedia_updateFuseResume() : setTimeout((function () { o.ResumableMedia_updateFuseResume() }), 0), this.events["object_pause_".concat(n.id)] = function () { o.ResumableMedia_pause() }, this.events["object_resume_".concat(n.id)] = function () { o.ResumableMedia_resume() } } }; n(5827); const m = { HasMedias_pause: function () { var e = this, t = this.HasMedias_getMedias().reduce((function (t, n) { if (!e.HasMedias_isMediaPaused(n)) { var r = n.play(); "object" === (0, o.Z)(r) && t.push(r) } return t }), []); return Promise.all(t) }, HasMedias_resume: function (e) { var t = this; void 0 === e && (e = this.HasMedias_getMedias()); var n = e.reduce((function (e, n) { if (t.HasMedias_isMediaPaused(n)) { var r = n.play(); "object" === (0, o.Z)(r) && e.push(r) } return e }), []); return Promise.all(n) }, HasMedias_isMediaPaused: function (e) { var t; return null !== (t = e.proxy_paused) && void 0 !== t ? t : e.paused }, HasMedias_isMediasExists: function () { return this.HasMedias_getMedias().lenght > 0 }, HasMedias_getMedias: function () { var e; return null !== (e = this.target_object.medias) && void 0 !== e ? e : [] }, setup: function (e, t, n, r) { } }; var g = n(9144); const A = { depends: ["HasMedias"], ResumableMedias_updateFuseResume: function () { var e, t = this.HasMedias_getMedias(), n = (0, g.Z)(t); try { for (n.s(); !(e = n.n()).done;) { var r = e.value; this.ResumableMedias_fuses_resume.set(r, !this.HasMedias_isMediaPaused(r)), r.ResumableMedias_will_resume && (this.ResumableMedia_fuses_resume.set(r, !0), r.ResumableMedia_will_resume = !1) } } catch (e) { n.e(e) } finally { n.f() } }, ResumableMedias_pause: function () { return this.ResumableMedias_updateFuseResume(), this.HasMedias_pause() }, ResumableMedias_resume: function () { var e = this, t = this.HasMedias_getMedias().reduce((function (t, n) { return e.ResumableMedias_fuses_resume.has(n) && e.ResumableMedias_fuses_resume.get(n) && t.push(n), t }), []); return this.HasMedias_resume(t) }, setup: function (e, t, n, r) { var o = this; this.ResumableMedias_fuses_resume = new WeakMap, this.HasMedias_isMediasExists() ? this.ResumableMedias_updateFuseResume() : setTimeout((function () { o.ResumableMedias_updateFuseResume() }), 0), this.events["object_pause_".concat(n.id)] = function () { o.ResumableMedias_pause() }, this.events["object_resume_".concat(n.id)] = function () { o.ResumableMedias_resume() } } }; n(4678); const y = { depends: [], setup: function () { var e = this; this.Transparentable_materials = this.Transparentable_getMaterials(this.target3d), this.Transparentable_materials.forEach((function (t) { e.Transparentable_initMaterial(t) })) }, Transparentable_getMaterials: function (e) { var t = this, n = []; return e.traverse((function (e) { t.Transparentable_tryAddMaterialToArray(e, n) })), n }, Transparentable_tryAddMaterialToArray: function (e, t) { this.Transparentable_isObjectContainMaterial(e) && t.push(e.material) }, Transparentable_initMaterial: function (e) { e.transparent = !0, e.alphaTest = 0 }, Transparentable_isObjectContainMaterial: function (e) { return "material" in e && "object" === (0, o.Z)(e.material) && "object" === (0, o.Z)(e) }, Transparentable_getTransparency: function () { var e; return void 0 === this.Transparentable_materials ? 1 : parseFloat(null === (e = this.Transparentable_materials[0]) || void 0 === e ? void 0 : e.opacity) }, Transparentable_setTransparency: function (e) { this.Transparentable_materials.forEach((function (t) { t.opacity = e })) }, destroy: function () { } }, B = { depends: ["Transparentable", "Updatable"], setup: function (e, t, n, r) { var o = this; this.TransparentAnimatable_currentTime = 0, this.TransparentAnimatable_startTransparent = 0, this.TransparentAnimatable_transparentDelta = 0, this.TransparentAnimatable_fuse_animate = !1, this.Updatable_subscribe((function () { o.TransparentAnimatable_update.apply(o, arguments) })) }, TransparentAnimatable_update: function (e) { !1 !== this.TransparentAnimatable_fuse_animate && (this.TransparentAnimatable__tryStop(), this.TransparentAnimatable__tryUpdateTransparent(e)) }, TransparentAnimatable__tryStop: function () { this.TransparentAnimatable_getDuration() < this.TransparentAnimatable_currentTime && this.TransparentAnimatable__stop() }, TransparentAnimatable__stop: function () { this.Transparentable_setTransparency(this.TransparentAnimatable_getEndTransparency()), this.TransparentAnimatable_fuse_animate = !1 }, TransparentAnimatable__tryUpdateTransparent: function (e) { if (!1 !== this.TransparentAnimatable_fuse_animate) { this.TransparentAnimatable_currentTime += e; var t = this.TransparentAnimatable_currentTime / this.TransparentAnimatable_getDuration(), n = this.TransparentAnimatable_startTransparent + this.TransparentAnimatable_transparentDelta * t; this.Transparentable_setTransparency(n) } }, TransparentAnimatable_start: function () { this.TransparentAnimatable_startTransparent = this.Transparentable_getTransparency(), this.TransparentAnimatable_transparentDelta = this.TransparentAnimatable_getEndTransparency() - this.TransparentAnimatable_startTransparent, this.TransparentAnimatable_currentTime = 0, this.TransparentAnimatable_fuse_animate = !0 }, TransparentAnimatable_getEndTransparency: function () { throw new Error("Calling abstract TransparentAnimatable.getEndTransparent()") }, TransparentAnimatable_getDuration: function () { throw new Error("Calling abstract TransparentAnimatable.getDuration()") } }; n(1058), n(8309), n(4553), n(9826), n(6699), n(2023); const b = { Animateable: c, Clickable: l, Raycastable: u, Texturable: d, Positionable: h, Movable: f, Timerable: p, Visible: _, HasMedia: { HasMedia_pause: function () { var e = this.HasMedia_getMedia(); if (!this.HasMedia_isPaused()) return e.pause() }, HasMedia_resume: function () { var e = this.HasMedia_getMedia(); if (this.HasMedia_isPaused()) return e.play() }, HasMedia_rewind: function () { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0, t = this.HasMedia_getMedia(); t.currentTime = e }, HasMedia_isPaused: function () { var e, t = this.HasMedia_getMedia(); return null !== (e = t.proxy_paused) && void 0 !== e ? e : t.paused }, HasMedia_isMediaExists: function () { return void 0 !== this.HasMedia_getMedia() }, HasMedia_getMedia: function () { return this.target_object.media }, setup: function (e, t, n, r) { } }, ResumableMedia: v, HasMedias: m, ResumableMedias: A, Transparentable: y, TransparentAnimatable: B, MaterialVariantable: { depends: [], setup: function (e, t, n, r) { var o; if (this.MaterialVariantable_loop = "1" === e.Loop, this.MaterialVariantable_index = parseInt(null !== (o = e.Start_variant_index) && void 0 !== o ? o : e.Index) || 0, this.target_object.gltfExtensions.KHR_materials_variants) { var i = n.gltfExtensions.KHR_materials_variants; this.MaterialVariantable_khr_extensions = i, this.MaterialVariantable_has_variants = Boolean(i.variants && i.variants.length), this.MaterialVariantable_has_variants && (this.MaterialVariantable_parser = n.parser, this.MaterialVariantable_khr_variants = i.variants.map((function (e) { return e.name })), this.MaterialVariantable_khr_variants[this.MaterialVariantable_index] || (this.MaterialVariantable_index = 0), this.MaterialVariantable_khr_current = this.MaterialVariantable_khr_variants[this.MaterialVariantable_index], this.MaterialVariantable_changeVariant(this.MaterialVariantable_khr_current)) } }, MaterialVariantable_getNextVariant: function () { var e = this.MaterialVariantable_khr_current, t = this.MaterialVariantable_khr_variants.findIndex((function (t) { return t == e })); if (-1 != t) { var n = t >= this.MaterialVariantable_khr_variants.length - 1; if (!n || this.MaterialVariantable_loop) return n ? this.MaterialVariantable_loop ? this.MaterialVariantable_khr_variants[0] : t : this.MaterialVariantable_khr_variants[t + 1] } }, MaterialVariantable_changeVariant: function (e) { var t = this; if (e) { this.MaterialVariantable_khr_current = e; var n = this.MaterialVariantable_khr_variants.findIndex((function (t) { return t == e })); e && -1 != n && this.target_object.mesh.traverse((function (e) { if (e.isMesh && e.userData.gltfExtensions) { var r = e.userData.gltfExtensions.KHR_materials_variants; if (r) { e.userData.originalMaterial || (e.userData.originalMaterial = e.material); var o = r.mappings.find((function (e) { return e.variants.includes(n) })); o ? t.MaterialVariantable_parser.getDependency("material", o.material).then((function (n) { e.material = n, t.MaterialVariantable_parser.assignFinalMaterial(e) })) : e.material = e.userData.originalMaterial } } })) } } }, Updatable: { depends: [], setup: function (e, t, n, r) { var o = this; this.Updatable_list = [], this.events["object_animate_".concat(n.id)] = function () { o.Updatable__update.apply(o, arguments) } }, Updatable__update: function () { for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++)t[n] = arguments[n]; this.Updatable_list.forEach((function (e) { return e.apply(void 0, t) })) }, Updatable_subscribe: function (e) { this.Updatable_list.push(e) }, destroy: function () { this.Updatable_list = void 0 } }, Delayable: { depends: ["Updatable"], setup: function (e, t, n, r) { var o = this; this.Delayable_fuseAnimate = !1, this.Delayable_currentTime = 0, this.Updatable_subscribe((function () { o.Delayable_update.apply(o, arguments) })) }, Delayable_start: function () { this.Delayable_fuseAnimate = !0, this.Delayable_currentTime = 0 }, Delayable_update: function (e) { !1 !== this.Delayable_fuseAnimate && (this.Delayable__tryStop(), this.Delayable__increaseCurrentTime(e)) }, Delayable__tryStop: function () { this.Delayable__checkForEnd() && this.Delayable__stop() }, Delayable__checkForEnd: function () { return this.Delayable_currentTime >= this.Delayable_getDelay() }, Delayable__stop: function () { this.Delayable_fuseAnimate = !1, this.Delayable_onStop() }, Delayable__increaseCurrentTime: function (e) { this.Delayable_currentTime += e }, Delayable_onStop: function () { throw new Error("Delayable.Delayable_onStop: calling abstract method") }, Delayable_getDelay: function () { throw new Error("Delayable.Delayable_getDelay: calling abstract method") } }, ModelAnimatable: { depends: ["Updatable"], setup: function (e, t, n, r) { var o = this; this.ModelAnimatable__initMixer(), this.ModelAnimatable_fuse_animate = !0, this.Updatable_subscribe((function () { o.ModelAnimatable__update.apply(o, arguments) })) }, ModelAnimatable__initMixer: function () { void 0 === this.ModelAnimatable_mixer && (this.ModelAnimatable_mixer = new THREE.AnimationMixer(this.target_object.mesh)) }, ModelAnimatable__update: function (e) { !1 !== this.ModelAnimatable_fuse_animate && void 0 !== this.ModelAnimatable_mixer && this.ModelAnimatable_mixer.update(e) }, ModelAnimatable_getAction: function (e, t) { var n = this.target_object.animations[e]; return this.ModelAnimatable__getAnimationClip(n, t) }, ModelAnimatable__getAnimationClip: function (e) { var t, n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}; if ("object" !== (0, o.Z)(e)) throw new Error("ModelAnimation.ModelAnimation_getAnimationClip: animation is not an object"); var r = this.ModelAnimatable_mixer.clipAction(e); return r.loop = n.loop ? THREE.LoopRepeat : THREE.LoopOnce, r.clampWhenFinished = null !== (t = n.stopOnLastFrame) && void 0 !== t && t, this.ModelAnimatable__setWeight(r, 0), r.play(), r }, ModelAnimatable_changeAnimation: function () { var e = this.ModelAnimatable_getCurrentAction(), t = this.ModelAnimatable_getNextAction(); this.ModelAnimatable__setWeight(t, 1), void 0 !== e && e.crossFadeTo(t, this.ModelAnimatable_getCrossFadeDuration(), !0), this.ModelAnimatable_setCurrentAction(t) }, ModelAnimatable__setWeight: function (e, t) { e.time = 0, e.enabled = !0, e.paused = !1, e.setEffectiveTimeScale(1), e.setEffectiveWeight(t) }, ModelAnimatable_getCurrentAction: function () { return this.target_object.ModelAnimatable_currentAction }, ModelAnimatable_setCurrentAction: function (e) { this.target_object.ModelAnimatable_currentAction = e }, ModelAnimatable_pause: function () { var e = this.target_object.ModelAnimatable_currentAction; void 0 !== e && !1 === e.paused && !0 === e.isRunning() && (e.paused = !0) }, ModelAnimatable_resume: function () { var e = this.target_object.ModelAnimatable_currentAction; void 0 !== e && !0 === e.paused && !1 === e.isRunning() && (e.paused = !1) }, destroy: function () { this.ModelAnimation_mixer = void 0, this.target_object.ModelAnimatable_currentAction = void 0 }, ModelAnimatable_getNextAction: function () { throw new Error("Calling abstract ModelAnimatable.ModelAnimatable_getNextAction()") }, ModelAnimatable_getCrossFadeDuration: function () { throw new Error("Calling abstract ModelAnimatable.ModelAnimatable_getCrossFadeDuration()") } } }, C = { depends: ["Clickable"], Clickable_onClick: function () { this.ClickNavigate_Link.click() }, setup: function () { this.ClickNavigate_Link = document.createElement("a"), this.ClickNavigate_Link.setAttribute("href", this.vars.url), this.ClickNavigate_Link.setAttribute("target", this.vars.target) }, destroy: function () { this.ClickNavigate_Link.remove(), this.ClickNavigate_Link = null } }, E = { depends: ["ClickPlayMedia", "ResumableMedia"], HasMedia_getMedia: function () { return this.ClickPlayAudioFile_audio }, setup: function (e, t, n, r) { var o; this.ClickPlayAudioFile_audio = ((o = new Audio).addEventListener("canplay", (function e() { o.removeEventListener("canplay", e), t.connect_audio(o) })), o.autoplay = !1, o.muted = !1, o.crossOrigin = "anonymous", o.src = this.vars.url, o.load(), o), this.ClickPlayMedia_isTogglePlayPause = !1 }, destroy: function () { this.ClickPlayAudioFile_audio.remove(), this.ClickPlayAudioFile_audio = void 0 } }, w = { depends: ["Raycastable", "HasMedia"], Raycastable_onRayIn: function () { console.log("HoverPlayMedia ray in"), this.HasMedia_resume() }, Raycastable_onRayOut: function () { console.log("HoverPlayMedia ray out"), this.HasMedia_pause() } }, k = { depends: ["Clickable", "Animateable"], setup: function () { var e; this.ClickRotateX_fuse_rotate = !!parseInt(null !== (e = this.vars.Rotate_by_default) && void 0 !== e ? e : "0") }, Clickable_onClick: function () { this.ClickRotateX_fuse_rotate = !this.ClickRotateX_fuse_rotate }, Animateable_onUpdate: function (e) { this.ClickRotateX_fuse_rotate && (this.target3d.rotation.x += Math.PI / (180 / this.vars.Rotation_speed_in_degrees_per_second) * e) } }; n(2481); const D = { depends: ["Texturable"], setup: function () { var e = (new THREE.TextureLoader).load(this.vars.Image_URL); e.wrapS = THREE.RepeatWrapping, e.wrapT = THREE.RepeatWrapping, e.repeat.set(parseFloat(this.vars.Repeat_X), parseFloat(this.vars.Repeat_Y)), e.offset.set(parseFloat(this.vars.Offset_X), parseFloat(this.vars.Offset_Y)), this.ImageTexture_material = new THREE.MeshBasicMaterial({ map: e }), this.Texturable_traverseMeshes(["Mesh"]), this.Texturable_setMaterialToMeshes() }, Texturable_getMaterial: function () { return this.ImageTexture_material } }, x = { depends: ["Delayable", "ModelAnimatable"], setup: function (e, t, n, r) { var o, i; this.ModelAnimation_delay = parseFloat(null !== (o = e.Delay) && void 0 !== o ? o : "0"); var a = parseInt(null !== (i = e.Index) && void 0 !== i ? i : "0"), s = { loop: "1" === e.Loop, stopOnLastFrame: "1" === e.Stop_animation_on_last_frame }; try { var c; this.ModelAnimation_action = this.ModelAnimatable_getAction(a, s), this.ModelAnimation_crossFadeDuration = parseFloat(null !== (c = e.Crossfade_duration) && void 0 !== c ? c : "0"), this.ModelAnimation_startDelay() } catch (e) { console.warn(e) } }, ModelAnimation_startDelay: function () { this.Delayable_start() }, Delayable_getDelay: function () { return this.ModelAnimation_delay }, Delayable_onStop: function () { this.ModelAnimation_startAnimation() }, ModelAnimation_startAnimation: function () { this.ModelAnimatable_changeAnimation() }, ModelAnimatable_getNextAction: function () { return this.ModelAnimation_action }, ModelAnimatable_getCrossFadeDuration: function () { return this.ModelAnimation_crossFadeDuration }, destroy: function () { this.ModelAnimation_action = void 0 } }, S = { depends: ["Clickable", "Animateable"], setup: function () { var e; this.ClickRotateY_fuse_rotate = !!parseInt(null !== (e = this.vars.Rotate_by_default) && void 0 !== e ? e : "0") }, Clickable_onClick: function () { this.ClickRotateY_fuse_rotate = !this.ClickRotateY_fuse_rotate }, Animateable_onUpdate: function (e) { this.ClickRotateY_fuse_rotate && (this.target3d.rotation.y += Math.PI / (180 / this.vars.Rotation_speed_in_degrees_per_second) * e) } }, M = { depends: ["Clickable", "Animateable"], setup: function () { var e; this.ClickRotateZ_fuse_rotate = !!parseInt(null !== (e = this.vars.Rotate_by_default) && void 0 !== e ? e : "0") }, Clickable_onClick: function () { this.ClickRotateZ_fuse_rotate = !this.ClickRotateZ_fuse_rotate }, Animateable_onUpdate: function (e) { this.ClickRotateZ_fuse_rotate && (this.target3d.rotation.z += Math.PI / (180 / this.vars.Rotation_speed_in_degrees_per_second) * e) } }, F = { depends: ["Animateable"], setup: function () { var e = this.env.THREE; this.RotateByCameraY_Reset_other_axis = !!parseInt(this.vars.Reset_other_axis), this.RotateByCameraY_temp = [new e.Vector3, new e.Quaternion, new e.Euler] }, Animateable_onUpdate: function (e) { var t = this.target3d, n = this.env.camera, o = (0, r.Z)(this.RotateByCameraY_temp, 3), i = o[0], a = o[1], s = o[2]; n.updateMatrixWorld(), t.updateMatrixWorld(); var c = t.getWorldQuaternion(a.clone()), l = n.getWorldPosition(i.clone()), u = t.getWorldPosition(i.clone()), d = Math.atan2(l.x - u.x, l.z - u.z); if (this.RotateByCameraY_Reset_other_axis) { var h = c.clone().invert(); t.quaternion.premultiply(a.setFromAxisAngle(i.set(0, 1, 0), d)), t.quaternion.multiply(h) } else { var f = s.setFromQuaternion(c); t.quaternion.multiply(a.clone().setFromAxisAngle(i.set(0, 1, 0), d).premultiply(a.setFromAxisAngle(i.set(0, 1, 0), -f.y))).normalize() } }, destroy: function () { } }; var T = n(5647), O = n(1451); const I = { depends: ["Movable", "Delayable"], setup: function (e, t, n, r) { var o, i, a; this.MoveTo_end_position_array = (null !== (o = e.Move_end_position) && void 0 !== o ? o : "0;0;0").split(";").map((function (e) { return parseFloat(e) })), this.MoveTo_speed = parseFloat(null !== (i = e.Move_speed) && void 0 !== i ? i : "1"), this.MoveTo_delay = parseFloat(null !== (a = e.Delay) && void 0 !== a ? a : "0"), this.MoveTo_start() }, MoveTo_start: function () { this.Movable_elapsed_time = 0, this.Delayable_start() }, Delayable_onStop: function () { this.Movable_start() }, Delayable_getDelay: function () { return this.MoveTo_delay }, Movable_getStartPosition: function () { return this.Positionable_getPosition().clone() }, Movable_getEndPosition: function () { var e = this.env.THREE; return (0, T.Z)(e.Vector3, (0, O.Z)(this.MoveTo_end_position_array)) }, Movable_getMoveSpeed: function () { return this.MoveTo_speed }, Positionable_onPosition: function () { }, Movable_onMoveStart: function () { }, Movable_onMoveEnd: function () { this.env.fire_event("object_moveto_onmoveend_".concat(this.target_object.id), this.source_object.id) }, Movable_onMove: function () { } }, P = { depends: ["Delayable", "ModelAnimatable", "Clickable"], setup: function (e, t, n, r) { var o, i; this.ModelAnimation_delay = parseFloat(null !== (o = e.Delay) && void 0 !== o ? o : "0"); var a = parseInt(null !== (i = e.Index) && void 0 !== i ? i : "0"), s = { loop: "1" === e.Loop, stopOnLastFrame: "1" === e.Stop_animation_on_last_frame }; try { var c, l; this.ModelAnimation_action = this.ModelAnimatable_getAction(a, s), this.ModelAnimation_crossFadeDuration = parseFloat(null !== (c = e.Crossfade_duration) && void 0 !== c ? c : "0"), this.ClickModelAnimation_isAnimationPaused = void 0, parseInt(null !== (l = this.vars.Play_by_default) && void 0 !== l ? l : "0") && this.ClickModelAnimation_playAnimation() } catch (e) { console.warn(e), this.hasError = !0 } }, Clickable_onClick: function () { this.hasError || this.ClickModelAnimation_startDelay() }, ClickModelAnimation_startDelay: function () { this.Delayable_start() }, Delayable_getDelay: function () { return this.ModelAnimation_delay }, Delayable_onStop: function () { this.ClickModelAnimation_startAnimation() }, ClickModelAnimation_startAnimation: function () { void 0 === this.ClickModelAnimation_isAnimationPaused ? this.ClickModelAnimation_playAnimation() : this.ClickModelAnimation_togglePlayPauseAnimation() }, ClickModelAnimation_playAnimation: function () { this.ModelAnimatable_changeAnimation(), this.ClickModelAnimation_isAnimationPaused = !1 }, ClickModelAnimation_togglePlayPauseAnimation: function () { this.ClickModelAnimation_isAnimationPaused ? this.ModelAnimatable_resume() : this.ModelAnimatable_pause(), this.ClickModelAnimation_isAnimationPaused = !this.ClickModelAnimation_isAnimationPaused }, ModelAnimatable_getNextAction: function () { return this.ModelAnimation_action }, ModelAnimatable_getCrossFadeDuration: function () { return this.ModelAnimation_crossFadeDuration }, destroy: function () { this.ModelAnimation_action = void 0 } }, R = { depends: ["Clickable", "Movable", "Delayable"], setup: function (e, t, n, r) { var o, i, a; this.ClickMoveTo_end_position_array = (null !== (o = e.Move_end_position) && void 0 !== o ? o : "0;0;0").split(";").map((function (e) { return parseFloat(e) })), this.ClickMoveTo_speed = parseFloat(null !== (i = e.Move_speed) && void 0 !== i ? i : "1"), this.ClickMoveTo_delay = parseFloat(null !== (a = e.Delay) && void 0 !== a ? a : "0") }, Movable_onMove: function () { }, Clickable_onClick: function () { this.ClickMoveTo_start() }, ClickMoveTo_start: function () { this.Movable_elapsed_time = 0, this.Delayable_start() }, Delayable_onStop: function () { this.Movable_start() }, Delayable_getDelay: function () { return this.ClickMoveTo_delay }, Movable_getStartPosition: function () { return this.Positionable_getPosition().clone() }, Movable_getEndPosition: function () { var e = this.env.THREE; return (0, T.Z)(e.Vector3, (0, O.Z)(this.ClickMoveTo_end_position_array)) }, Movable_getMoveSpeed: function () { return this.ClickMoveTo_speed }, Positionable_onPosition: function () { }, Movable_onMoveStart: function () { }, Movable_onMoveEnd: function () { this.env.fire_event("object_moveto_onmoveend_".concat(this.target_object.id), this.source_object.id) } }, L = { depends: ["Visible", "Clickable", "Timerable"], setup: function (e, t, n, r) { var o, i, a; this.ClickShowHide_type = "ClickShowHide", this.Timerable_fuse_update = !1, this.ClickShowHide_delay = parseFloat(null !== (o = e.Delay) && void 0 !== o ? o : "0"), this.ClickShowHide_fuse_show = !!parseInt(null !== (i = e.Do_show) && void 0 !== i ? i : "1"), this.ClickShowHide_fuse_hide = !!parseInt(null !== (a = e.Do_hide) && void 0 !== a ? a : "1") }, Clickable_onClick: function () { this.ClickShowHide_delay > 0 ? (this.Timerable_timeout = this.ClickShowHide_delay, this.Timerable_fuse_update = !0, this.Timerable_count_left = 1, this.Timerable_resetTime()) : this.ClickShowHide_showOrHide() }, Timerable_onTimer: function () { this.ClickShowHide_showOrHide() }, Visible_onShow: function () { }, Visible_onHide: function () { }, ClickShowHide_showOrHide: function () { this.Visible_isVisible() ? this.ClickShowHide_fuse_hide && this.Visible_hide() : this.ClickShowHide_fuse_show && this.Visible_show() } }; n(1637), n(4916), n(5306), n(3710), n(9714); const H = { depends: ["Clickable"], Clickable_onClick: function () { this.ClickComposeEmail_Link.click() }, setup: function () { var e = new URLSearchParams, t = this.vars, n = t.Subject, r = void 0 === n ? "" : n, o = t.Body, i = void 0 === o ? "" : o, a = t.Email; r && e.append("subject", r), i && e.append("body", i); var s = "mailto:" + (null != a ? a : "") + "?" + e.toString().replace(/\+/g, "%20"); this.ClickComposeEmail_Link = document.createElement("a"), this.ClickComposeEmail_Link.setAttribute("href", s) }, destroy: function () { this.ClickComposeEmail_Link.remove(), this.ClickComposeEmail_Link = null } }, j = { depends: ["Clickable"], Clickable_onClick: function () { this.ClickCallTelephone_Link.click() }, setup: function () { var e = "tel:" + this.vars.Telephone_Number; this.ClickCallTelephone_Link = document.createElement("a"), this.ClickCallTelephone_Link.setAttribute("href", e) }, destroy: function () { this.ClickCallTelephone_Link.remove(), this.ClickCallTelephone_Link = null } }, G = { depends: ["Clickable"], Clickable_onClick: function () { this.ClickComposeSMS_Link.click() }, setup: function () { var e = new URLSearchParams, t = this.vars, n = t.Telephone_Numbers, r = void 0 === n ? "" : n, o = t.Body, i = void 0 === o ? "" : o; i && e.append("body", i); var a = "sms:" + (null != r ? r : "") + "?" + e.toString().replace(/\+/g, "%20"); this.ClickComposeSMS_Link = document.createElement("a"), this.ClickComposeSMS_Link.setAttribute("href", a) }, destroy: function () { this.ClickComposeSMS_Link.remove(), this.ClickComposeSMS_Link = null } }; n(2222); const N = { depends: ["Timerable"], Timerable_onTimer: function () { this.env.fire_event(this.TimerGenerateEvent_EventName) }, setup: function (e, t, n, r) { var o = e.Event_name, i = parseInt(e.Number_iterations), a = parseFloat(e.Timeout_in_sec); this.TimerGenerateEvent_EventName = "object_event_".concat(n.id, "_").concat(o), this.Timerable_count_left = i > 0 ? i : 1 / 0, this.Timerable_timeout = a }, destroy: function () { } }, V = { depends: ["TransparentAnimatable", "Delayable"], setup: function (e) { var t, n, r; this.TransparentAnimatable_endTransparency = parseFloat(null !== (t = e.End_transparency) && void 0 !== t ? t : "1"), this.ChangeTransparent_duration = parseFloat(null !== (n = e.Duration) && void 0 !== n ? n : "1"), this.ChangeTransparent_delay = parseFloat(null !== (r = e.Delay) && void 0 !== r ? r : "0"), this.ChangeTransparent_start() }, ChangeTransparent_start: function () { this.Delayable_start() }, Delayable_onStop: function () { this.TransparentAnimatable_start() }, Delayable_getDelay: function () { return this.ChangeTransparent_delay }, TransparentAnimatable_getEndTransparency: function () { return this.TransparentAnimatable_endTransparency }, TransparentAnimatable_getDuration: function () { return this.ChangeTransparent_duration } }, K = { depends: ["Clickable", "TransparentAnimatable", "Delayable"], setup: function (e) { var t, n, r; this.TransparentAnimatable_endTransparency = parseFloat(null !== (t = e.End_transparency) && void 0 !== t ? t : "1"), this.ChangeTransparent_duration = parseFloat(null !== (n = e.Duration) && void 0 !== n ? n : "1"), this.ChangeTransparent_delay = parseFloat(null !== (r = e.Delay) && void 0 !== r ? r : "0") }, Clickable_onClick: function () { this.ClickChangeTransparent_start() }, ClickChangeTransparent_start: function () { this.Delayable_start() }, Delayable_onStop: function () { this.TransparentAnimatable_start() }, Delayable_getDelay: function () { return this.ChangeTransparent_delay }, TransparentAnimatable_getEndTransparency: function () { return this.TransparentAnimatable_endTransparency }, TransparentAnimatable_getDuration: function () { return this.ChangeTransparent_duration } }, J = { depends: ["Timerable", "MaterialVariantable"], setup: function (e, t, n, r) { var o; this.Timerable_timeout = parseFloat(null !== (o = e.Interval_in_sec) && void 0 !== o ? o : e.Interval) || 3, console.log("@@@ setup at start", this) }, Timerable_onTimer: function () { if (this.MaterialVariantable_has_variants) { var e = this.MaterialVariantable_getNextVariant(); void 0 !== e && this.MaterialVariantable_changeVariant(e) } }, destroy: function () { } }, U = (0, s.Z)((0, s.Z)({}, b), {}, { ClickNavigate: C, ClickPlayMedia: { depends: ["Clickable", "HasMedia"], Clickable_onClick: function () { this.HasMedia_isPaused() ? this.HasMedia_resume() : this.HasMedia_pause() } }, ClickPlayAudioFile: E, HoverPlayMedia: w, ClickRotateX: k, ImageTexture: D, ModelAnimation: x, ClickRotateY: S, ClickRotateZ: M, RotateByCameraY: F, MoveTo: I, ClickModelAnimation: P, ClickMoveTo: R, ClickShowHide: L, ClickComposeEmail: H, ClickCallTelephone: j, ClickComposeSMS: G, TimerGenerateEvent: N, ClickGenerateEvent: { depends: ["Clickable"], Clickable_onClick: function () { this.env.fire_event(this.ClickGenerateEvent_EventName) }, setup: function (e, t, n, r) { var o = e.Event_name; this.ClickGenerateEvent_EventName = "object_event_".concat(n.id, "_").concat(o) }, destroy: function () { } }, EventPlayMedia: { depends: ["HasMedia"], EventPlayMedia_play: function () { this.HasMedia_rewind(), this.HasMedia_resume() }, setup: function (e, t, n, r) { var o = this, i = e.Event_name; this.events["object_event_".concat(r.id, "_").concat(i)] = function () { return o.EventPlayMedia_play() } } }, ChangeTransparent: V, ClickChangeTransparent: K, ClickChangeMaterialVariant: { depends: ["Clickable", "MaterialVariantable"], setup: function (e, t, n, r) { }, Clickable_onClick: function () { if (this.MaterialVariantable_has_variants) { if (!this.MaterialVariantable_khr_current || !this.MaterialVariantable_khr_variants) return; var e = this.MaterialVariantable_getNextVariant(); e && this.MaterialVariantable_changeVariant(e) } }, destroy: function () { this.MaterialVariantable_parser = void 0, this.MaterialVariantable_khr_extensions = void 0, this.MaterialVariantable_khr_variants = void 0, this.MaterialVariantable_khr_current = void 0, this.MaterialVariantable_loop = void 0, this.MaterialVariantable_index = void 0, this.MaterialVariantable_has_variants = void 0 } }, MaterialVariantAnimation: J, EventChangeMaterialVariant: { depends: ["MaterialVariantable"], setup: function (e, t, n, r) { var o = this, i = e.Event_name; this.events["object_event_".concat(r.id, "_").concat(i)] = function () { return o.EventChangeMaterialVariant_change() } }, EventChangeMaterialVariant_change: function () { if (this.MaterialVariantable_has_variants) { var e = this.MaterialVariantable_getNextVariant(); e && this.MaterialVariantable_changeVariant(e) } }, destroy: function () { } } }); var Z = function () { function e() { var t = this; (0, i.Z)(this, e), this.target_object = null, this.source_object = null, this.vars = null, this.env = null, this.requires = { target_object_props: [], target_object_methods: [], source_object_props: [], source_object_methods: [], vars: [], env: [] }, this.events = {}, this.static_events = []; for (var n = arguments.length, r = new Array(n), o = 0; o < n; o++)r[o] = arguments[o]; this.mixins = r || [], this.mixed_interfaces = new WeakMap, this.mixin_counter = 0, this.mixins.forEach((function (e) { return t.mixin_interface(e) })) } return (0, a.Z)(e, [{ key: "source3d", get: function () { return this.source_object.mesh.parent } }, { key: "target3d", get: function () { return this.target_object.mesh.parent } }, { key: "mixin_interface", value: function (e) { var t = this, n = "object" === (0, o.Z)(e) ? e : U[e]; if (!this.mixed_interfaces.has(n)) { var i = {}; "object" == (0, o.Z)(n.depends) && n.depends.forEach((function (e) { return t.mixin_interface(e) })), this.mixed_interfaces.set(n, this.mixin_counter++); for (var a = function () { var e = (0, r.Z)(c[s], 2), n = e[0], o = e[1]; switch (n) { case "depends": o.forEach((function (e) { return t.mixin_interface(e) })); break; case "setup": case "destroy": var a = t[n]; i[n] = function () { for (var e = arguments.length, n = new Array(e), r = 0; r < e; r++)n[r] = arguments[r]; a.apply(t, n), o.apply(t, n) }; break; default: i[n] = o } }, s = 0, c = Object.entries(n); s < c.length; s++)a(); Object.assign(this, i) } } }, { key: "setup", value: function (e, t, n, r) { this.target_object = n, this.source_object = r || n, this.vars = e, this.env = t } }, { key: "checkRequirements", value: function () { var e = this; this.requires.target_object_props.forEach((function (t) { if (!e.target_object.hasOwnProperty(t)) throw new Error("target_object." + t) })), this.requires.target_object_methods.forEach((function (t) { if (!(t in e.target_object) || "function" != typeof e.target_object[t]) throw new Error("target_object." + t + "()") })), this.requires.source_object_props.forEach((function (t) { if (!e.source_object.hasOwnProperty(t)) throw new Error("source_object." + t) })), this.requires.source_object_methods.forEach((function (t) { if (!(t in e.source_object) || "function" != typeof e.source_object[t]) throw new Error("source_object." + t + "()") })), this.requires.vars.forEach((function (t) { if (!e.vars.hasOwnProperty(t)) throw new Error("vars." + t) })), this.requires.env.forEach((function (t) { if (!e.env.hasOwnProperty(t)) throw new Error("env." + t) })) } }, { key: "destroy", value: function () { } }]), e }() }, 4043: (e, t, n) => { n(9070), "string" != typeof window.VIEWER_THREEJS_URL && Object.defineProperty(window, "VIEWER_THREEJS_URL", { enumerable: !1, configurable: !1, writable: !1, value: "https://mywebar-a.akamaihd.net/libs/threejs/r129" }), THREEx.setJSMBase("".concat(VIEWER_THREEJS_URL, "/jsm/")) }, 7365: (e, t, n) => { "use strict"; n.d(t, { Z: () => ve }); var r = n(2875), o = n(1002), i = (n(1539), n(8783), n(3948), n(285), n(1637), n(6833), n(4165)), a = n(5861), s = (n(4603), n(8450), n(4916), n(8386), n(9714), n(9600), n(8309), n(7601), n(3123), n(3210), n(5306), n(4723), n(1532), n(7327), n(1249), n(2222), n(2772), n(2564), n(8862), n(6854)), c = n(1451); n(5827), n(1038), n(6699), n(2023), n(7658), n(7941), n(1058), n(4678); const l = { UrlToObjectName: function (e) { return new URL(e).pathname.replace(/^(.*\/)(.+)/, "$2") }, ParseInputRules: function (e) { return e.split("|").reduce((function (e, t) { var n = t.split(":", 2), r = (0, s.Z)(n, 2), o = r[0], i = r[1], a = []; return "string" == typeof i && a.push.apply(a, (0, c.Z)(i.split(","))), e[o] = a.reduce((function (e, t, n) { e.names || (e.names = []), e.named || (e.named = {}); var r, o = t.match(/^([a-z0-9_]+)=(.+)$/), i = t, a = t; return o && (e.names[n] = r = o[1], i = o[2]), /^\d+$/.test(i) ? a = parseInt(i) : /^\d+\.\d+$/.test(i) && (a = parseFloat(i)), e[n] = a, r && (e.named[r] = a), e }), []), e }), {}) }, formUrlEncode: function (e, t) { var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : []; return Array.from(e.elements).reduce((function (e, r) { if (!r.checkValidity()) throw r.reportValidity(), { type: "validity", el: r }; return "radio" != r.type || r.checked ? ("button" == r.type || t && "submit" == r.type && r.name != t || r.name && !n.includes(r.name) && e.push("".concat(encodeURIComponent(r.name).replace(/%5B/gi, "[").replace(/%5D/gi, "]"), "=").concat(encodeURIComponent(r.value))), e) : e }), []).join("&") }, formJsonEncode: function (e, t) { var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : [], r = function (e, t, n) { var r; if ("" === t) { var o = Object.keys(e).map((function (e) { return parseInt(e) })).filter((function (e) { return !isNaN(e) })); t = o.length ? Math.max.apply(Math, (0, c.Z)(o)) : 0 } return null !== (r = e[t]) && void 0 !== r ? r : e[t] = n }; return Array.from(e.elements).reduce((function (e, o) { if (!o.checkValidity()) throw o.reportValidity(), { type: "validity", el: o }; if ("radio" == o.type && !o.checked) return e; if ("checkbox" == o.type && !o.checked) return e; if ("button" == o.type) return e; if (t && "submit" == o.type && o.name != t) return e; if (o.name && !n.includes(o.name)) { var i, a, s = o.name, c = e, l = []; do { (a = s.match(/^([^\[]*)\[([^\]]*)\]/)) ? (l.push(a[1]), s = s.replace(a[0], a[2])) : l.push(s) } while (a); for (; l.length;) { var u = 1 === l.length; i = l.shift(), u ? r(c, i, o.value) : c = r(c, i, {}) } } return e }), {}) } }; var u = function (e) { var t, n; return null !== (t = e.defaults) && void 0 !== t && t.adapter ? e : (null === (n = window.$nuxt) || void 0 === n ? void 0 : n.$axios) || window.axios }; function d(e, t) { var n; return u(this)[e.method](null !== (n = e.dataset.axios_action) && void 0 !== n ? n : e.action, t) } function h(e, t, n) { var r = (n ? l.formJsonEncode : l.formUrlEncode)(e, t); return d.call(this, e, r) } const f = (0, r.Z)({ axiosInstance: u, axiosForm: function (e, t, n) { var r = this; return function () { return h.call(r, e, t, n) } }, axiosFormSubmit: h, axiosFormSubmitData: d }, l); var p, _ = ""; function v(e) { return m.apply(this, arguments) } function m() { return (m = (0, a.Z)((0, i.Z)().mark((function e(t) { var n; return (0, i.Z)().wrap((function (e) { for (; ;)switch (e.prev = e.next) { case 0: if (t || !p) { e.next = 2; break } return e.abrupt("return", p); case 2: return n = f.axiosInstance(this), e.next = 5, n.get(_ + "storage/info"); case 5: return p = e.sent.data, e.abrupt("return", p); case 7: case "end": return e.stop() } }), e, this) })))).apply(this, arguments) } var g = function (e) { var t = e.ideal ? [e.ideal] : e.ext, n = new RegExp("\\.(" + t.join("|") + ")$", "i"); return function (e) { return e.name && n.test(e.name) && !/\.__preview__\.[^\.]+$/.test(e.name) } }; function A(e, t) { return y.apply(this, arguments) } function y() { return (y = (0, a.Z)((0, i.Z)().mark((function e(t, n) { var r, o, a, s; return (0, i.Z)().wrap((function (e) { for (; ;)switch (e.prev = e.next) { case 0: if (p) { e.next = 4; break } return e.next = 3, v.call(this); case 3: p = e.sent; case 4: return o = f.axiosInstance(this), e.next = 7, o.get(t); case 7: if (e.t1 = r = e.sent.data, e.t0 = null !== e.t1, !e.t0) { e.next = 11; break } e.t0 = void 0 !== r; case 11: if (!e.t0) { e.next = 15; break } e.t2 = r, e.next = 16; break; case 15: e.t2 = []; case 16: return a = e.t2, s = new Map, a.filter((function (e) { var t = I(e.name); return "string" != typeof t || (s.set(t, e.name), !1) })), n && (a = a.filter(n)), a = a.map(B(p.container_url, s)), e.abrupt("return", a); case 22: case "end": return e.stop() } }), e, this) })))).apply(this, arguments) } var B = function (e, t) { return function (n) { return t.has(n.name) && (n.preview_url = e + t.get(n.name)), n.url = e + n.name + "?hash=" + n.hash, n.filename = n.name.split(/\//g).pop(), n.printname = n.filename.replace(/[_\s]+/g, " ").replace(/\.([^\.]+)$/, "").trim(), "" === n.printname && (n.printname = n.filename), n } }; function b(e) { return C.apply(this, arguments) } function C() { return C = (0, a.Z)((0, i.Z)().mark((function e(t) { var n, r, o = arguments; return (0, i.Z)().wrap((function (e) { for (; ;)switch (e.prev = e.next) { case 0: return (n = o.length > 1 && void 0 !== o[1] ? o[1] : "").length && "/" != n[0] && (n = "/" + n), e.next = 4, A.call(this, _ + "storage/list" + n, t); case 4: return r = e.sent, e.abrupt("return", r); case 6: case "end": return e.stop() } }), e, this) }))), C.apply(this, arguments) } function E(e) { return w.apply(this, arguments) } function w() { return w = (0, a.Z)((0, i.Z)().mark((function e(t) { var n, r, o = arguments; return (0, i.Z)().wrap((function (e) { for (; ;)switch (e.prev = e.next) { case 0: return (n = o.length > 1 && void 0 !== o[1] ? o[1] : "").length && "/" != n[0] && (n = "/" + n), e.next = 4, A.call(this, _ + "storage/list_examples" + n, t); case 4: return r = e.sent, e.abrupt("return", r); case 6: case "end": return e.stop() } }), e, this) }))), w.apply(this, arguments) } function k() { return (k = (0, a.Z)((0, i.Z)().mark((function e(t, n) { return (0, i.Z)().wrap((function (e) { for (; ;)switch (e.prev = e.next) { case 0: return e.next = 2, b.call(this, t ? g(t) : void 0, n); case 2: return e.abrupt("return", e.sent); case 3: case "end": return e.stop() } }), e, this) })))).apply(this, arguments) } function D(e, t) { return x.apply(this, arguments) } function x() { return (x = (0, a.Z)((0, i.Z)().mark((function e(t, n) { return (0, i.Z)().wrap((function (e) { for (; ;)switch (e.prev = e.next) { case 0: return e.next = 2, E.call(this, t ? g(t) : void 0, n); case 2: return e.abrupt("return", e.sent); case 3: case "end": return e.stop() } }), e, this) })))).apply(this, arguments) } function S(e, t, n, r) { return M.apply(this, arguments) } function M() { return (M = (0, a.Z)((0, i.Z)().mark((function e(t, n, r, a) { var s, c, l, u, d, h, m; return (0, i.Z)().wrap((function (e) { for (; ;)switch (e.prev = e.next) { case 0: if (s = t, "object" === (0, o.Z)(t) ? (c = t.type, l = t.id, u = t.var_name, d = void 0 === u ? "url" : u, s = "".concat(_, "storage/put/").concat(c, "/").concat(l, "/").concat(d, "/")) : s = "string" != typeof s || _.length && 0 === s.indexOf(_) ? "".concat(_, "storage/put/") : _ + s, p) { e.next = 6; break } return e.next = 5, v.call(this); case 5: p = e.sent; case 6: return h = f.axiosInstance(this), e.next = 9, h.post(s + n, r, { onUploadProgress: a }); case 9: if (201 !== (m = e.sent).status) { e.next = 14; break } return e.abrupt("return", p.user_url + n); case 14: throw "HTTP " + m.status; case 15: case "end": return e.stop() } }), e, this) })))).apply(this, arguments) } function F() { return (F = (0, a.Z)((0, i.Z)().mark((function e(t, n, r, o) { var a, s, c, l; return (0, i.Z)().wrap((function (e) { for (; ;)switch (e.prev = e.next) { case 0: if (a = t, s = t.id, a = "".concat(_, "storage/put_object_list/").concat(s, "/catalog_icon/"), p) { e.next = 7; break } return e.next = 6, v.call(this); case 6: p = e.sent; case 7: return c = f.axiosInstance(this), e.next = 10, c.post(a + n, r, { onUploadProgress: o }); case 10: if (201 !== (l = e.sent).status) { e.next = 15; break } return e.abrupt("return", p.storages.script.user_url + "".concat(s, "/catalog_icon/") + n); case 15: throw "HTTP " + l.status; case 16: case "end": return e.stop() } }), e, this) })))).apply(this, arguments) } function T() { return (T = (0, a.Z)((0, i.Z)().mark((function e(t, n, r, o) { var a, s, c, l; return (0, i.Z)().wrap((function (e) { for (; ;)switch (e.prev = e.next) { case 0: if (a = t, s = t.id, a = "".concat(_, "storage/put_object_list/").concat(s, "/catalog_files/"), p) { e.next = 7; break } return e.next = 6, v.call(this); case 6: p = e.sent; case 7: return c = f.axiosInstance(this), e.next = 10, c.post(a + n, r, { onUploadProgress: o }); case 10: if (201 !== (l = e.sent).status) { e.next = 15; break } return e.abrupt("return", p.storages.script.user_url + "".concat(s, "/catalog_files/") + n); case 15: throw "HTTP " + l.status; case 16: case "end": return e.stop() } }), e, this) })))).apply(this, arguments) } function O() { return (O = (0, a.Z)((0, i.Z)().mark((function e(t, n, r, o) { var a, s, c, l, u; return (0, i.Z)().wrap((function (e) { for (; ;)switch (e.prev = e.next) { case 0: if (a = t, s = t.id, c = t.var_name, a = "".concat(_, "storage/put_object_list/").concat(s, "/vars/").concat(c, "/"), p) { e.next = 7; break } return e.next = 6, v.call(this); case 6: p = e.sent; case 7: return l = f.axiosInstance(this), e.next = 10, l.post(a + n, r, { onUploadProgress: o }); case 10: if (201 !== (u = e.sent).status) { e.next = 15; break } return e.abrupt("return", p.storages.script.user_url + "".concat(s, "/vars/").concat(c, "/") + n); case 15: throw "HTTP " + u.status; case 16: case "end": return e.stop() } }), e, this) })))).apply(this, arguments) } var I = function (e) { var t = e.match(/^(.*)\.__preview__\.[^\.]+$/); return t ? t[1] : void 0 }; function P() { return (P = (0, a.Z)((0, i.Z)().mark((function e(t, n, r) { var o; return (0, i.Z)().wrap((function (e) { for (; ;)switch (e.prev = e.next) { case 0: return o = "/admin/" == _ ? void 0 : { type: "ObjectList", id: 1, var_name: "url" }, e.next = 3, S.call(this, o, t + ".__preview__.jpg", n, r); case 3: return e.abrupt("return", e.sent); case 4: case "end": return e.stop() } }), e, this) })))).apply(this, arguments) } function R() { return (R = (0, a.Z)((0, i.Z)().mark((function e(t, n, r) { var o; return (0, i.Z)().wrap((function (e) { for (; ;)switch (e.prev = e.next) { case 0: return o = "/admin/" == _ ? void 0 : { type: "ObjectList", id: 1, var_name: "url" }, e.next = 3, S.call(this, o, t + ".png", n, r); case 3: return e.abrupt("return", e.sent); case 4: case "end": return e.stop() } }), e, this) })))).apply(this, arguments) } function L(e, t, n, r) { return H.apply(this, arguments) } function H() { return (H = (0, a.Z)((0, i.Z)().mark((function e(t, n, r, o) { var a, s, c; return (0, i.Z)().wrap((function (e) { for (; ;)switch (e.prev = e.next) { case 0: return a = t.id, s = t.subfolder_type, c = "storage/put_page/".concat(a, "/").concat(s, "/"), e.next = 4, S.call(this, c, n, r, o); case 4: return e.abrupt("return", e.sent); case 5: case "end": return e.stop() } }), e, this) })))).apply(this, arguments) } function j() { return (j = (0, a.Z)((0, i.Z)().mark((function e(t, n, r, o) { return (0, i.Z)().wrap((function (e) { for (; ;)switch (e.prev = e.next) { case 0: return e.next = 2, L.call(this, { id: t, subfolder_type: "envmap_hdr" }, n, r, o); case 2: return e.abrupt("return", e.sent); case 3: case "end": return e.stop() } }), e, this) })))).apply(this, arguments) } function G() { return (G = (0, a.Z)((0, i.Z)().mark((function e(t, n, r, o) { return (0, i.Z)().wrap((function (e) { for (; ;)switch (e.prev = e.next) { case 0: return e.next = 2, L.call(this, { id: t, subfolder_type: "preview_jpg" }, n, r, o); case 2: return e.abrupt("return", e.sent); case 3: case "end": return e.stop() } }), e, this) })))).apply(this, arguments) } function N() { return (N = (0, a.Z)((0, i.Z)().mark((function e(t, n, r, o) { return (0, i.Z)().wrap((function (e) { for (; ;)switch (e.prev = e.next) { case 0: return e.next = 2, L.call(this, { id: t, subfolder_type: "marker_image" }, n, r, o); case 2: return e.abrupt("return", e.sent); case 3: case "end": return e.stop() } }), e, this) })))).apply(this, arguments) } function V() { return (V = (0, a.Z)((0, i.Z)().mark((function e(t, n, r, o) { return (0, i.Z)().wrap((function (e) { for (; ;)switch (e.prev = e.next) { case 0: return e.next = 2, L.call(this, { id: t, subfolder_type: "splashscreen_image" }, n, r, o); case 2: return e.abrupt("return", e.sent); case 3: case "end": return e.stop() } }), e, this) })))).apply(this, arguments) } function K() { return (K = (0, a.Z)((0, i.Z)().mark((function e(t, n, r, o) { return (0, i.Z)().wrap((function (e) { for (; ;)switch (e.prev = e.next) { case 0: return e.next = 2, L.call(this, { id: t, subfolder_type: "logo_image" }, n, r, o); case 2: return e.abrupt("return", e.sent); case 3: case "end": return e.stop() } }), e, this) })))).apply(this, arguments) } function J() { return (J = (0, a.Z)((0, i.Z)().mark((function e(t, n, r, o) { return (0, i.Z)().wrap((function (e) { for (; ;)switch (e.prev = e.next) { case 0: return e.next = 2, L.call(this, { id: t, subfolder_type: "preloader_image" }, n, r, o); case 2: return e.abrupt("return", e.sent); case 3: case "end": return e.stop() } }), e, this) })))).apply(this, arguments) } function U() { return U = (0, a.Z)((0, i.Z)().mark((function e(t, n, r, o) { var a, s, c, l, u, d = arguments; return (0, i.Z)().wrap((function (e) { for (; ;)switch (e.prev = e.next) { case 0: if (a = d.length > 4 && void 0 !== d[4] ? d[4] : 2e3, s = t.ideal, c = n.split(".").pop().toLowerCase(), !s || s === c) { e.next = 19; break } u = f.axiosInstance(this); case 4: return e.next = 6, u.get(_ + "storage/convert/" + n + "?ext=" + s); case 6: return (l = e.sent).data.new_url && r && r(l.data.new_url), o && o(l.data.progress), e.next = 11, new Promise((function (e) { return setTimeout(e, a) })); case 11: if (!l.data.done) { e.next = 4; break } case 12: if (!l.data.new_url) { e.next = 16; break } return e.abrupt("return", l.data.new_url); case 16: throw l.data.progress; case 17: e.next = 24; break; case 19: if (p) { e.next = 23; break } return e.next = 22, v.call(this); case 22: p = e.sent; case 23: return e.abrupt("return", p.user_url + n); case 24: case "end": return e.stop() } }), e, this) }))), U.apply(this, arguments) } function Z(e) { return W.apply(this, arguments) } function W() { return (W = (0, a.Z)((0, i.Z)().mark((function e(t) { var n; return (0, i.Z)().wrap((function (e) { for (; ;)switch (e.prev = e.next) { case 0: if ("string" != typeof t) { e.next = 13; break } return e.prev = 1, n = f.axiosInstance(this), e.next = 5, n.post(_ + "storage/delete/" + t); case 5: if (204 !== e.sent.status) { e.next = 8; break } return e.abrupt("return", !0); case 8: e.next = 13; break; case 10: e.prev = 10, e.t0 = e.catch(1), console.warn("delete error", e.t0); case 13: return e.abrupt("return", !1); case 14: case "end": return e.stop() } }), e, this, [[1, 10]]) })))).apply(this, arguments) } function q() { return (q = (0, a.Z)((0, i.Z)().mark((function e(t) { var n; return (0, i.Z)().wrap((function (e) { for (; ;)switch (e.prev = e.next) { case 0: if (p) { e.next = 4; break } return e.next = 3, v.call(this); case 3: p = e.sent; case 4: if (n = z(t)) { e.next = 7; break } return e.abrupt("return"); case 7: return e.next = 9, Z.call(this, n); case 9: return e.abrupt("return", e.sent); case 10: case "end": return e.stop() } }), e, this) })))).apply(this, arguments) } var z = function (e) { if (!p) throw "call storageInfo() first"; var t = e.replace(p.user_url, ""); if (e !== t) return t }; function X() { return (X = (0, a.Z)((0, i.Z)().mark((function e(t) { return (0, i.Z)().wrap((function (e) { for (; ;)switch (e.prev = e.next) { case 0: return e.next = 2, D.call(this, { ext: ["json"] }, "Fonts/".concat(t)); case 2: return e.abrupt("return", e.sent); case 3: case "end": return e.stop() } }), e, this) })))).apply(this, arguments) } function Q() { return (Q = (0, a.Z)((0, i.Z)().mark((function e(t) { var n, r, o; return (0, i.Z)().wrap((function (e) { for (; ;)switch (e.prev = e.next) { case 0: return n = f.axiosInstance(this), e.next = 3, n.post(_ + "storage/purge", JSON.stringify({ objects: t })); case 3: return r = e.sent, o = r.data, e.abrupt("return", o); case 6: case "end": return e.stop() } }), e, this) })))).apply(this, arguments) } const Y = { storageNamespace: function (e) { _ = "/" + (e ? encodeURIComponent(e) + "/" : "") }, storageInfo: v, makeFileListFilter: g, CdnUrlToFileUri: z, storageListFilter: b, storageListExamplesFilter: E, storageList: function (e, t) { return k.apply(this, arguments) }, storageListExamples: D, storageListExamplesFonts: function (e) { return X.apply(this, arguments) }, storagePut: S, storagePutPluginDefaultFile: function (e, t, n, r) { return O.apply(this, arguments) }, storagePutPluginIcon: function (e, t, n, r) { return F.apply(this, arguments) }, storagePutPluginFiles: function (e, t, n, r) { return T.apply(this, arguments) }, storagePutFavicon: function (e, t, n) { return R.apply(this, arguments) }, storagePutPreview: function (e, t, n) { return P.apply(this, arguments) }, storagePutPageEnvmapHdr: function (e, t, n, r) { return j.apply(this, arguments) }, storagePutPagePreviewJpg: function (e, t, n, r) { return G.apply(this, arguments) }, storagePutPageMarkerImage: function (e, t, n, r) { return N.apply(this, arguments) }, storagePutPageSplashscreenImage: function (e, t, n, r) { return V.apply(this, arguments) }, storagePutPageLogoImage: function (e, t, n, r) { return K.apply(this, arguments) }, storagePutPagePreloaderImage: function (e, t, n, r) { return J.apply(this, arguments) }, storageConvert: function (e, t, n, r) { return U.apply(this, arguments) }, storageDelete: Z, storageDeleteUrl: function (e) { return q.apply(this, arguments) }, storagePurgeCache: function (e) { return Q.apply(this, arguments) } }; var $ = n(9144), ee = n(5671), te = n(3144), ne = n(9611); function re(e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function"); e.prototype = Object.create(t && t.prototype, { constructor: { value: e, writable: !0, configurable: !0 } }), Object.defineProperty(e, "prototype", { writable: !1 }), t && (0, ne.Z)(e, t) } function oe(e) { return oe = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (e) { return e.__proto__ || Object.getPrototypeOf(e) }, oe(e) } var ie = n(8814); function ae(e, t) { if (t && ("object" === (0, o.Z)(t) || "function" == typeof t)) return t; if (void 0 !== t) throw new TypeError("Derived constructors may only return object or undefined"); return function (e) { if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return e }(e) } function se(e) { var t = (0, ie.Z)(); return function () { var n, r = oe(e); if (t) { var o = oe(this).constructor; n = Reflect.construct(r, arguments, o) } else n = r.apply(this, arguments); return ae(this, n) } } function ce() { for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++)t[n] = arguments[n]; var r = t.map((function (e) { var t, n, r = !1, o = new Promise((function (e, r) { t = e, n = r })); return e.addEventListener("canplay", (function () { t(e), r = !0 })), e.addEventListener("error", (function (e) { r || n(e) })), o })); return Promise.all(r) } n(9554), n(4747), n(9720), n(4812); const le = { createCompositeMediaElementProxy: function (e) { for (var t = arguments.length, n = new Array(t > 1 ? t - 1 : 0), r = 1; r < t; r++)n[r - 1] = arguments[r]; for (var o = { playing: function (t) { if (t.currentTime = e.currentTime, t.paused) return t.play() }, timeupdate: function (t) { if (!e.paused && t.paused) return t.currentTime = e.currentTime, t.play() }, pause: function (t) { if (t.currentTime = e.currentTime, !t.paused) return t.pause() }, loadstart: function (t) { return t.src = e.src, t.srcObject = e.srcObject, t.load() } }, c = function (e, t) { var r = []; return n.forEach((function (e) { var n = t(e); n instanceof Promise && r.push(n) })), r }, l = function () { var t = (0, s.Z)(d[u], 2), n = t[0], r = t[1]; e.addEventListener(n, (function () { c(n, r) })) }, u = 0, d = Object.entries(o); u < d.length; u++)l(); var h = void 0; e.addEventListener("pause", (function () { h = !0 })), e.addEventListener("play", (function () { h = !1 })), e.addEventListener("playing", (function () { h = !1 })); var f, p = function (e) { for (var t = arguments.length, r = new Array(t > 1 ? t - 1 : 0), o = 1; o < t; o++)r[o - 1] = arguments[o]; n.forEach((function (t) { t[e].apply(t, r) })) }, _ = function (e, t) { n.forEach((function (n) { n[e] = t })) }, v = function () { h = !1; var t = (0, a.Z)((0, i.Z)().mark((function t() { var r, o, c; return (0, i.Z)().wrap((function (t) { for (; ;)switch (t.prev = t.next) { case 0: return r = [e].concat(n), o = r.map(function () { var e = (0, a.Z)((0, i.Z)().mark((function e(t) { return (0, i.Z)().wrap((function (e) { for (; ;)switch (e.prev = e.next) { case 0: return e.prev = 0, e.next = 3, t.play(); case 3: e.next = 8; break; case 5: return e.prev = 5, e.t0 = e.catch(0), e.abrupt("return", [t, e.t0]); case 8: case "end": return e.stop() } }), e, null, [[0, 5]]) }))); return function (t) { return e.apply(this, arguments) } }()), o.forEach((function (t) { t.then((function (t) { if (t) { var r = (0, s.Z)(t, 2), o = r[0], i = r[1]; o === e ? (n.forEach((function (e) { e.paused || e.pause() })), console.log("master play error", i), c = i, h = !0) : (console.log("slave play error", i), "NotAllowedError" == i.name && (e.pause(), c = i, h = !0)) } })) })), t.next = 5, Promise.all(o); case 5: if (!c) { t.next = 7; break } throw c; case 7: case "end": return t.stop() } }), t) })))(); return t }.bind(e), m = function () { return h = !0, (0, a.Z)((0, i.Z)().mark((function t() { return (0, i.Z)().wrap((function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.next = 2, e.pause(); case 2: return t.abrupt("return", t.sent); case 3: case "end": return t.stop() } }), t) })))() }.bind(e), g = function () { e.pause(); var t = !1; e.src && (e.src = "", _("src", ""), t = !0), e.srcObject && (e.srcObject = null, _("srcObject", null), t = !0), t && (e.load(), p("load")), e.remove(), p("remove") }.bind(e), A = n.length, y = [], B = function () { return y.forEach((function (e) { return e() })) }, b = ce.apply(void 0, [e].concat(n)); b.then(B); var C = new Proxy(e, { get: function (t, r) { if (A) switch (r) { case "muted": case "volume": return n[0][r] }if ("proxy_play" == r) return v; if ("play" == r) return f || v; if ("pause" == r) return m; if ("destroy" == r) return g; if ("proxy_paused" == r) return h; if ("target" == r) return t; if ("slaves" == r) return n; if ("audios" == r) return A ? n : [e]; if ("_oncanplay" == r) return B; var o = e[r]; return "function" == typeof o && (o = o.bind(e)), o }, set: function (t, n, r) { if (A) switch (n) { case "muted": case "volume": return _(n, r), !0 }return "_oncanplay" == n ? (-1 == y.indexOf(r) && y.push(r), !0) : "_play_override" == n ? (f = r, !0) : ("src" == n && _(n, r), e[n] = r, !0) } }); return C }, separateAudioFromVideoElement: function (e) { var t = new Audio; return e.addEventListener("canplay", (function () { Object.assign(e, { muted: !0 }) })), t.playsInline = !0, t.crossOrigin = "anonymous", t.controls = !0, e.src && (t.src = e.src), e.srcObject && (t.srcObject = e.srcObject), t }, createCanplayMediasPromise: ce }; var ue = function () { function e(t) { var n; (0, ee.Z)(this, e), this.load_meta_timeout = void 0, this.stalled_reload_timeout = void 0, this.inited = !1, this.debug = null !== (n = window.WEBAR_DEBUG) && void 0 !== n && n, this.original_medias = [t], this.connected_audio = !1, this.has_audio = !0 } var t, n; return (0, te.Z)(e, [{ key: "connect", value: function (e) { var t = e.connect_audio, n = e.force, r = void 0 !== n && n, o = this.media; !r && this.connected_audio || !this.has_audio || (o.audios.forEach((function (e) { console.log("medialoader: connect audio", e), t(e) })), this.connected_audio = !0) } }, { key: "play", value: (n = (0, a.Z)((0, i.Z)().mark((function e(t) { var n, r, o, a, s; return (0, i.Z)().wrap((function (e) { for (; ;)switch (e.prev = e.next) { case 0: n = t.get_media_allow_promise, r = t.refresh_media_allow_promise, o = this.media, s = !1; case 3: return e.prev = 4, e.next = 7, o.proxy_play(); case 7: return s = !0, e.abrupt("break", 28); case 11: if (e.prev = 11, e.t0 = e.catch(4), "NotAllowedError" != e.t0.name) { e.next = 24; break } if (!n) { e.next = 20; break } return a ? r && (a = r()) : a = n(), e.next = 18, a; case 18: e.next = 22; break; case 20: return console.log("unhandled media after allow promise play error", e.t0), e.abrupt("return", s); case 22: e.next = 26; break; case 24: return console.log("unhandled media play error", e.t0), e.abrupt("break", 28); case 26: e.next = 3; break; case 28: return e.abrupt("return", s); case 29: case "end": return e.stop() } }), e, this, [[4, 11]]) }))), function (e) { return n.apply(this, arguments) }) }, { key: "setup", value: (t = (0, a.Z)((0, i.Z)().mark((function e(t) { var n, r, o, a, s, c, l, u, d, h, f, p, _, v, m, g, A; return (0, i.Z)().wrap((function (e) { for (; ;)switch (e.prev = e.next) { case 0: if (n = t.muted, r = void 0 === n ? void 0 : n, o = t.loop, a = void 0 === o ? void 0 : o, s = t.autoplay, c = void 0 === s ? void 0 : s, l = t.volume, u = void 0 === l ? 1 : l, d = t.get_media_allow_promise, h = void 0 === d ? void 0 : d, f = t.refresh_media_allow_promise, p = void 0 === f ? void 0 : f, _ = t.get_paused, v = void 0 === _ ? function () { return !1 } : _, m = t.connect_audio, g = void 0 === m ? function (e) { console.log("here we have to connect audio to context", e) } : m, A = this.media, void 0 === c || !c || void 0 === r || r || !h) { e.next = 5; break } return e.next = 5, h(); case 5: if (void 0 !== a && (A.loop = a), void 0 !== r && (A.muted = r), void 0 === c) { e.next = 26; break } if (c) { e.next = 12; break } A.pause(), e.next = 26; break; case 12: if (!A.paused) { e.next = 26; break } return e.next = 15, this.play({ get_media_allow_promise: h, refresh_media_allow_promise: p, connect_audio: g }); case 15: if (e.sent) { e.next = 21; break } return e.next = 19, this.setup({ muted: r, loop: a, autoplay: c, volume: u, get_media_allow_promise: h, refresh_media_allow_promise: p, get_paused: v, connect_audio: g }); case 19: e.next = 26; break; case 21: if (!v()) { e.next = 26; break } return e.next = 24, A.pause(); case 24: A.ResumableMedia_will_resume = !0, A.currentTime = .001; case 26: return void 0 !== u && (A.volume = u), e.abrupt("return", A); case 28: case "end": return e.stop() } }), e, this) }))), function (e) { return t.apply(this, arguments) }) }, { key: "reload", value: function (e, t) { var n = this; this.media.src = "", setTimeout((function () { n.load(e, t).then(n.loader_resolve).catch(n.loader_reject) }), 0) } }, { key: "composeMediaProxy", value: function (e) { var t = e.need_separate_audio_from_video, n = void 0 !== t && t, r = this.original_medias[0]; if (r instanceof HTMLVideoElement && n) { var o = r, i = le.separateAudioFromVideoElement(o); this.original_medias.push(i) } this.media = le.createCompositeMediaElementProxy.apply(le, (0, c.Z)(this.original_medias)) } }, { key: "load", value: function () { var e = this, t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : void 0, n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, r = this; return this.connected_audio = !1, this.media || this.composeMediaProxy(n), new Promise((function (o, i) { return e.loader_resolve || (e.loader_resolve = o), e.loader_reject || (e.loader_reject = i), Object.assign(e.media, { controls: !0, autoplay: !0, muted: !0, loop: !1, playsInline: !0, crossOrigin: "anonymous", onended: function () { e.media.loop && (e.media.currentTime = 0, e.media.play()) }, onerror: function (n) { e.debug && console.log("media error", n, t), i(n), e.inited = !0 }, _oncanplay: function () { e.debug && console.log("can play media! ", e.media, t), e.connect({ connect_audio: n.connect_audio }), e.play(n) }, _play_override: function () { return r.play(n) }, onloadedmetadata: function () { e.debug && console.log("media loadedmetadata ", e.media, t), clearTimeout(e.load_meta_timeout) }, onloadstart: function () { e.debug && console.log("media loadstart ", e.media, t), e.load_meta_timeout = setTimeout((function () { return e.media.onerror("load metadata timeout") }), 6e4) }, onloadeddata: function () { e.debug && console.log("media first frame ready", e.media, t), clearTimeout(e.stalled_reload_timeout), e.stalled_reload_timeout = void 0 }, onstalled: function () { e.debug && console.log("media stalled", e.media, t), e.inited || e.stalled_reload_timeout || (e.stalled_reload_timeout = setTimeout((function () { return e.reload(t, n) }), 2500 * Math.random() + 500)) }, onplaying: function () { e.debug && (console.log("playing media", e.media), (e.media instanceof HTMLVideoElement || e.media.target instanceof HTMLVideoElement) && console.log("video dimensions ".concat(e.media.videoWidth, "x").concat(e.media.videoHeight, "!"))), e.inited || (e.inited = !0, e.media.pause(), e.debug && console.log("resolve media"), o(e.media), window.loaded_medias || (window.loaded_medias = []), window.loaded_medias.push(e.media)) } }), t && (e.media.src = t), e.media })).then((function () { return e.setup(n) })) } }]), e }(); const de = { AudioLoader: function (e) { re(n, e); var t = se(n); function n(e) { return (0, ee.Z)(this, n), e || (e = new Audio), t.call(this, e) } return (0, te.Z)(n) }(ue), VideoLoader: function (e) { re(n, e); var t = se(n); function n(e) { return (0, ee.Z)(this, n), e || (e = document.createElement("video")), t.call(this, e) } return (0, te.Z)(n) }(ue), MediaUtils: le }; !function () { var e, t = new Uint8Array([32, 0, 65, 2, 1, 106, 34, 33, 3, 128, 11, 4, 13, 64, 6, 253, 10, 7, 15, 116, 127, 5, 8, 12, 40, 16, 19, 54, 20, 9, 27, 255, 113, 17, 42, 67, 24, 23, 146, 148, 18, 14, 22, 45, 70, 69, 56, 114, 101, 21, 25, 63, 75, 136, 108, 28, 118, 29, 73, 115]); if ("object" != typeof WebAssembly) return { supported: !1 }; WebAssembly.instantiate(function (e) { for (var n = new Uint8Array(e.length), r = 0; r < e.length; ++r) { var o = e.charCodeAt(r); n[r] = o > 96 ? o - 71 : o > 64 ? o - 65 : o > 47 ? o + 4 : o > 46 ? 63 : 62 } var i = 0; for (r = 0; r < e.length; ++r)n[i++] = n[r] < 60 ? t[n[r]] : 64 * (n[r] - 60) + n[++r]; return n.buffer.slice(0, i) }("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"), {}).then((function (t) { (e = t.instance).exports.__wasm_call_ctors(), e.exports.meshopt_encodeVertexVersion(0), e.exports.meshopt_encodeIndexVersion(1) })) }(); var he = function () { var e = new Uint8Array([0, 97, 115, 109, 1, 0, 0, 0, 1, 4, 1, 96, 0, 0, 3, 3, 2, 0, 0, 5, 3, 1, 0, 1, 12, 1, 0, 10, 22, 2, 12, 0, 65, 0, 65, 0, 65, 0, 252, 10, 0, 0, 11, 7, 0, 65, 0, 253, 15, 26, 11]), t = new Uint8Array([32, 0, 65, 2, 1, 106, 34, 33, 3, 128, 11, 4, 13, 64, 6, 253, 10, 7, 15, 116, 127, 5, 8, 12, 40, 16, 19, 54, 20, 9, 27, 255, 113, 17, 42, 67, 24, 23, 146, 148, 18, 14, 22, 45, 70, 69, 56, 114, 101, 21, 25, 63, 75, 136, 108, 28, 118, 29, 73, 115]); if ("object" != typeof WebAssembly) return { supported: !1 }; var n, r = "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"; WebAssembly.validate(e) && (r = "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"); var o = WebAssembly.instantiate(function (e) { for (var n = new Uint8Array(e.length), r = 0; r < e.length; ++r) { var o = e.charCodeAt(r); n[r] = o > 96 ? o - 71 : o > 64 ? o - 65 : o > 47 ? o + 4 : o > 46 ? 63 : 62 } var i = 0; for (r = 0; r < e.length; ++r)n[i++] = n[r] < 60 ? t[n[r]] : 64 * (n[r] - 60) + n[++r]; return n.buffer.slice(0, i) }(r), {}).then((function (e) { (n = e.instance).exports.__wasm_call_ctors() })); function i(e, t, r, o, i, a) { var s = n.exports.sbrk, c = r + 3 & -4, l = s(c * o), u = s(i.length), d = new Uint8Array(n.exports.memory.buffer); d.set(i, u); var h = e(l, r, o, u, i.length); if (0 == h && a && a(l, c, o), t.set(d.subarray(l, l + r * o)), s(l - s(0)), 0 != h) throw new Error("Malformed buffer data: " + h) } var a = { 0: "", 1: "meshopt_decodeFilterOct", 2: "meshopt_decodeFilterQuat", 3: "meshopt_decodeFilterExp", NONE: "", OCTAHEDRAL: "meshopt_decodeFilterOct", QUATERNION: "meshopt_decodeFilterQuat", EXPONENTIAL: "meshopt_decodeFilterExp" }, s = { 0: "meshopt_decodeVertexBuffer", 1: "meshopt_decodeIndexBuffer", 2: "meshopt_decodeIndexSequence", ATTRIBUTES: "meshopt_decodeVertexBuffer", TRIANGLES: "meshopt_decodeIndexBuffer", INDICES: "meshopt_decodeIndexSequence" }; return { ready: o, supported: !0, decodeVertexBuffer: function (e, t, r, o, s) { i(n.exports.meshopt_decodeVertexBuffer, e, t, r, o, n.exports[a[s]]) }, decodeIndexBuffer: function (e, t, r, o) { i(n.exports.meshopt_decodeIndexBuffer, e, t, r, o) }, decodeIndexSequence: function (e, t, r, o) { i(n.exports.meshopt_decodeIndexSequence, e, t, r, o) }, decodeGltfBuffer: function (e, t, r, o, c, l) { i(n.exports[s[c]], e, t, r, o, n.exports[a[l]]) } } }(), fe = function () { function e() { var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}; (0, ee.Z)(this, e); var n = t.draco_decoder_path, r = void 0 === n ? void 0 : n, o = t.basis_transcoder_path, i = void 0 === o ? void 0 : o, a = t.debug, s = void 0 !== a && a, c = t.renderer, l = void 0 === c ? void 0 : c; Object.assign(this, { debug: s, renderer: l }), this.draco_decoder_path = null != r ? r : "string" == typeof window.VIEWER_THREEJS_URL ? "".concat(window.VIEWER_THREEJS_URL, "/js/libs/draco/") : "/js/draco/", this.draco_loader = void 0, this.draco_loader_gltf = void 0, this.basis_transcoder_path = null != i ? i : "string" == typeof window.VIEWER_THREEJS_URL ? "".concat(window.VIEWER_THREEJS_URL, "/js/libs/basis/") : "/js/ktx2/", this.ktx2_loader = void 0 } var t, n, r, o; return (0, te.Z)(e, [{ key: "getRenderer", value: function () { return this.renderer || (this.renderer = this.fake_renderer = new THREE.WebGLRenderer), this.renderer } }, { key: "createDRACOLoader", value: (o = (0, a.Z)((0, i.Z)().mark((function e(t) { var n, r, o; return (0, i.Z)().wrap((function (e) { for (; ;)switch (e.prev = e.next) { case 0: return e.next = 2, THREEx.JSM("DRACOLoader"); case 2: return n = e.sent, r = n.DRACOLoader, (o = new r).setDecoderPath(this.draco_decoder_path + (t ? "gltf/" : "")), e.abrupt("return", o); case 7: case "end": return e.stop() } }), e, this) }))), function (e) { return o.apply(this, arguments) }) }, { key: "getDRACOLoader", value: (r = (0, a.Z)((0, i.Z)().mark((function e() { var t, n, r, o, a = arguments; return (0, i.Z)().wrap((function (e) { for (; ;)switch (e.prev = e.next) { case 0: return t = a.length > 0 && void 0 !== a[0] && a[0], n = t ? "draco_loader_gltf" : "draco_loader", r = [t], e.next = 5, this.createDRACOLoader.apply(this, r); case 5: return o = e.sent, this[n] = o, e.abrupt("return", o); case 8: case "end": return e.stop() } }), e, this) }))), function () { return r.apply(this, arguments) }) }, { key: "disposeLoaders", value: function (e) { var t, n = (0, $.Z)(e); try { for (n.s(); !(t = n.n()).done;) { var r = t.value; this[r] && (this[r].dispose(), this[r] = void 0) } } catch (e) { n.e(e) } finally { n.f() } } }, { key: "disposeDRACOLoaders", value: function () { return this.disposeLoaders(["draco_loader_gltf", "draco_loader"]) } }, { key: "createKTX2Loader", value: (n = (0, a.Z)((0, i.Z)().mark((function e(t) { var n, r, o; return (0, i.Z)().wrap((function (e) { for (; ;)switch (e.prev = e.next) { case 0: return e.next = 2, THREEx.JSM("KTX2Loader"); case 2: return n = e.sent, r = n.KTX2Loader, (o = new r).setTranscoderPath(this.basis_transcoder_path).detectSupport(t), e.abrupt("return", o); case 7: case "end": return e.stop() } }), e, this) }))), function (e) { return n.apply(this, arguments) }) }, { key: "getKTX2Loader", value: (t = (0, a.Z)((0, i.Z)().mark((function e(t) { var n; return (0, i.Z)().wrap((function (e) { for (; ;)switch (e.prev = e.next) { case 0: return e.next = 2, this.createKTX2Loader(t); case 2: return n = e.sent, this.ktx2_loader = n, e.abrupt("return", n); case 5: case "end": return e.stop() } }), e, this) }))), function (e) { return t.apply(this, arguments) }) }, { key: "disposeKTX2Loader", value: function () { return this.disposeLoaders(["ktx2_loader"]) } }, { key: "load", value: function (e, t) { var n = this, r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null; return new Promise(function () { var o = (0, a.Z)((0, i.Z)().mark((function o(a, c) { var l, u, d, h, f, p, _, v, m, g, A, y, B, b, C, E; return (0, i.Z)().wrap((function (o) { for (; ;)switch (o.prev = o.next) { case 0: (l = e.match(/\/([^\/]+)\.([^\.?]+)(\?.*)?$/)) && ("string" != typeof t && (t = l[2].toLowerCase()), l[1]), d = new Promise((function (e) { return e() })), h = function (t) { var r, o; n.debug && console.log("loaded model ", e, t); var i = (null !== (r = t.userData) && void 0 !== r ? r : {}).gltfExtensions, s = void 0 === i ? {} : i, c = t.parser, l = void 0 === c ? void 0 : c; a({ mesh: t.scene, animations: null !== (o = t.animations) && void 0 !== o ? o : [], parser: l, gltfExtensions: s }), n.disposeDRACOLoaders(), n.disposeKTX2Loader(), n.fake_renderer && (n.fake_renderer.dispose(), n.fake_renderer = void 0) }, o.t0 = t, o.next = "gltf" === o.t0 || "glb" === o.t0 ? 7 : "drc" === o.t0 ? 22 : "fbx" === o.t0 ? 26 : "dae" === o.t0 ? 33 : "mtl" === o.t0 ? 39 : 46; break; case 7: return o.next = 9, THREEx.JSM("GLTFLoader"); case 9: return f = o.sent, p = f.GLTFLoader, u = new p, o.next = 14, Promise.all([n.getDRACOLoader(!0), n.getKTX2Loader(n.getRenderer())]); case 14: return _ = o.sent, v = (0, s.Z)(_, 2), m = v[0], g = v[1], u.setDRACOLoader(m), u.setKTX2Loader(g), u.setMeshoptDecoder(he), o.abrupt("break", 47); case 22: return o.next = 24, n.getDRACOLoader(!1); case 24: return u = o.sent, o.abrupt("break", 47); case 26: return o.next = 28, THREEx.JSM("FBXLoader"); case 28: return A = o.sent, y = A.FBXLoader, u = new y, h = function (e) { var t; a({ mesh: e, animations: null !== (t = e.animations) && void 0 !== t ? t : [] }) }, o.abrupt("break", 47); case 33: return o.next = 35, THREEx.JSM("ColladaLoader"); case 35: return B = o.sent, b = B.ColladaLoader, u = new b, o.abrupt("break", 47); case 39: return o.next = 41, THREEx.JSM("MTLLoader"); case 41: return C = o.sent, E = C.MTLLoader, u = new E, h = function (e) { a(e) }, o.abrupt("break", 47); case 46: c("unsupported extension ".concat(JSON.stringify(t))); case 47: d.then((function () { return u.load(e, h, r, (function (e) { c(e) }), null) })); case 48: case "end": return o.stop() } }), o) }))); return function (e, t) { return o.apply(this, arguments) } }()) } }]), e }(); const pe = (0, r.Z)((0, r.Z)({}, de), {}, { ModelLoader: fe }); function _e(e) { return new Promise((function (t, n) { var r = document.createElement("video"), o = function () { r.oncanplay = void 0, r.src = "" }; r.onerror = function (e) { n(e), o() }, r.oncanplay = function () { var e = r.videoHeight, n = r.videoWidth; t({ height: e, width: n }), o() }, r.src = e })) } const ve = (0, r.Z)((0, r.Z)((0, r.Z)((0, r.Z)({}, Y), pe), f), {}, { readVideoDimensionsFromInputFile: function (e) { var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0; return new Promise((function (n, r) { e.files[t] || r("no file"); var o = e.files[t]; return _e(URL.createObjectURL(o)).then(n).catch(r) })) }, readVideoDimensionsFromUrl: _e, THREE_disposeMeshRecursive: function (e, t) { t.traverse((function (t) { var n = t.material; if ("object" === (0, o.Z)(n) && n instanceof e.Material) { n.dispose(); for (var r = 0, i = Object.values(n); r < i.length; r++) { var a = i[r]; "object" == (0, o.Z)(a) && a instanceof e.Texture && a.dispose() } } var s = t.geometry; "object" === (0, o.Z)(s) && s instanceof e.BufferGeometry && s.dispose() })) } }) }, 1631: (e, t, n) => { "use strict"; n.d(t, { Z: () => i }); var r = n(4165), o = n(5861); n(7658), n(9554), n(1539), n(4747); const i = { data: function () { return {} }, methods: { setupLights: function (e, t) { var n = arguments, i = this; return (0, o.Z)((0, r.Z)().mark((function o() { var a, s, c, l; return (0, r.Z)().wrap((function (r) { for (; ;)switch (r.prev = r.next) { case 0: return a = n.length > 2 && void 0 !== n[2] ? n[2] : {}, r.next = 3, i.setupBasicLights(e, t, a); case 3: if (c = r.sent, s = c, !a.hdr_envmap_url) { r.next = 12; break } return r.next = 8, i.setupEnvmapLights(e, t, a); case 8: return l = r.sent, r.next = 11, c.destroy(); case 11: s = l; case 12: return r.abrupt("return", s); case 13: case "end": return r.stop() } }), o) })))() }, setupBasicLights: function (e, t, n) { return (0, o.Z)((0, r.Z)().mark((function t() { var i, a, s, c, l, u, d, h; return (0, r.Z)().wrap((function (t) { for (; ;)switch (t.prev = t.next) { case 0: return i = n.ambient, a = void 0 === i ? { color: 16777215, intensity: 1 } : i, s = n.directional, c = void 0 === s ? void 0 : s, l = [], a && (u = new THREE.AmbientLight(a.color, a.intensity), l.push(u)), c && ((d = new THREE.DirectionalLight(c.color, c.intensity)).position.fromArray(c.position), l.push(d)), l.forEach((function (t) { return e.add(t) })), h = { lights: l }, Object.assign(h, { destroy: function () { var t = this; return (0, o.Z)((0, r.Z)().mark((function n() { return (0, r.Z)().wrap((function (n) { for (; ;)switch (n.prev = n.next) { case 0: t.lights.forEach((function (t) { return e.remove(t) })); case 1: case "end": return n.stop() } }), n) })))() } }), t.abrupt("return", h); case 8: case "end": return t.stop() } }), t) })))() }, setupEnvmapLights: function (e, t, n) { var i = n.hdr_envmap_url, a = void 0 === i ? void 0 : i; return new Promise(function () { var n = (0, o.Z)((0, r.Z)().mark((function n(i) { var s, c, l, u; return (0, r.Z)().wrap((function (n) { for (; ;)switch (n.prev = n.next) { case 0: return (s = new THREE.PMREMGenerator(t)).compileEquirectangularShader(), n.next = 4, THREEx.JSM("RGBELoader"); case 4: c = n.sent, l = c.RGBELoader, u = THREE.REVISION < 136 ? THREE.UnsignedByteType : THREE.HalfFloatType, (new l).setDataType(u).load(a, (function (t) { var n = s.fromEquirectangular(t).texture; e.environment = n, t.dispose(), s.dispose(); var a = { envMap: n }; Object.assign(a, { destroy: function () { var t = this; return (0, o.Z)((0, r.Z)().mark((function n() { return (0, r.Z)().wrap((function (n) { for (; ;)switch (n.prev = n.next) { case 0: t.envMap == e.environment && (e.environment = void 0); case 1: case "end": return n.stop() } }), n) })))() } }), i(a) })); case 8: case "end": return n.stop() } }), n) }))); return function (e) { return n.apply(this, arguments) } }()) } } } }, 1536: (e, t, n) => { "use strict"; n.d(t, { Z: () => d }); var r = n(4165), o = n(5861), i = (n(1539), n(8783), n(4129), n(3948), {}), a = {}, s = {}, c = new WeakMap; function l(e, t) { console.error("Page Object #" + t.id + " creation error:", e), t.indicator && t.indicator.onerror(e), t.error = e } function u(e, t, n) { return t.indicator && t.object3d.remove(t.indicator), n(e.mesh), e.id = t.id, t.object3d.add(e.mesh), t.object = e, t } const d = new Proxy({}, { set: function (e, t, n) { var r = i[t]; return void 0 !== r && r !== n && (c.delete(a[r]), delete a[r], delete s[r]), i[t] = n, !0 }, get: function (e, t) { return function (e) { var n = i[t], d = a[n]; return void 0 === d && ((d = import(n)).then((function (e) { var t = e.default({ _handle_object_load_error: l, _handle_object_load_success: u }); return s[n] = t, t })).catch((function (e) { return function (e, t, n, r) { console.error("ObjectList ".concat(n, " module load error:"), e, r), c.set(t, e) }(e, d, t, n) })), a[n] = d), (0, o.Z)((0, r.Z)().mark((function t() { var o, i; return (0, r.Z)().wrap((function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.next = 2, d; case 2: if (!c.has(d)) { t.next = 5; break } return o = c.get(d), t.abrupt("return", (function (e) { var t = e.page_object_params; return l(o, t) })); case 5: return i = s[n], t.next = 8, i(e); case 8: return t.abrupt("return", t.sent); case 9: case "end": return t.stop() } }), t) })))() } } }) }, 9742: (e, t) => { "use strict"; t.byteLength = function (e) { var t = c(e), n = t[0], r = t[1]; return 3 * (n + r) / 4 - r }, t.toByteArray = function (e) { var t, n, i = c(e), a = i[0], s = i[1], l = new o(function (e, t, n) { return 3 * (t + n) / 4 - n }(0, a, s)), u = 0, d = s > 0 ? a - 4 : a; for (n = 0; n < d; n += 4)t = r[e.charCodeAt(n)] << 18 | r[e.charCodeAt(n + 1)] << 12 | r[e.charCodeAt(n + 2)] << 6 | r[e.charCodeAt(n + 3)], l[u++] = t >> 16 & 255, l[u++] = t >> 8 & 255, l[u++] = 255 & t; return 2 === s && (t = r[e.charCodeAt(n)] << 2 | r[e.charCodeAt(n + 1)] >> 4, l[u++] = 255 & t), 1 === s && (t = r[e.charCodeAt(n)] << 10 | r[e.charCodeAt(n + 1)] << 4 | r[e.charCodeAt(n + 2)] >> 2, l[u++] = t >> 8 & 255, l[u++] = 255 & t), l }, t.fromByteArray = function (e) { for (var t, r = e.length, o = r % 3, i = [], a = 16383, s = 0, c = r - o; s < c; s += a)i.push(l(e, s, s + a > c ? c : s + a)); return 1 === o ? (t = e[r - 1], i.push(n[t >> 2] + n[t << 4 & 63] + "==")) : 2 === o && (t = (e[r - 2] << 8) + e[r - 1], i.push(n[t >> 10] + n[t >> 4 & 63] + n[t << 2 & 63] + "=")), i.join("") }; for (var n = [], r = [], o = "undefined" != typeof Uint8Array ? Uint8Array : Array, i = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", a = 0, s = i.length; a < s; ++a)n[a] = i[a], r[i.charCodeAt(a)] = a; function c(e) { var t = e.length; if (t % 4 > 0) throw new Error("Invalid string. Length must be a multiple of 4"); var n = e.indexOf("="); return -1 === n && (n = t), [n, n === t ? 0 : 4 - n % 4] } function l(e, t, r) { for (var o, i, a = [], s = t; s < r; s += 3)o = (e[s] << 16 & 16711680) + (e[s + 1] << 8 & 65280) + (255 & e[s + 2]), a.push(n[(i = o) >> 18 & 63] + n[i >> 12 & 63] + n[i >> 6 & 63] + n[63 & i]); return a.join("") } r["-".charCodeAt(0)] = 62, r["_".charCodeAt(0)] = 63 }, 8764: (e, t, n) => { "use strict"; var r = n(9742), o = n(645), i = n(5826); function a() { return c.TYPED_ARRAY_SUPPORT ? 2147483647 : 1073741823 } function s(e, t) { if (a() < t) throw new RangeError("Invalid typed array length"); return c.TYPED_ARRAY_SUPPORT ? (e = new Uint8Array(t)).__proto__ = c.prototype : (null === e && (e = new c(t)), e.length = t), e } function c(e, t, n) { if (!(c.TYPED_ARRAY_SUPPORT || this instanceof c)) return new c(e, t, n); if ("number" == typeof e) { if ("string" == typeof t) throw new Error("If encoding is specified then the first argument must be a string"); return d(this, e) } return l(this, e, t, n) } function l(e, t, n, r) { if ("number" == typeof t) throw new TypeError('"value" argument must not be a number'); return "undefined" != typeof ArrayBuffer && t instanceof ArrayBuffer ? function (e, t, n, r) { if (t.byteLength, n < 0 || t.byteLength < n) throw new RangeError("'offset' is out of bounds"); if (t.byteLength < n + (r || 0)) throw new RangeError("'length' is out of bounds"); return t = void 0 === n && void 0 === r ? new Uint8Array(t) : void 0 === r ? new Uint8Array(t, n) : new Uint8Array(t, n, r), c.TYPED_ARRAY_SUPPORT ? (e = t).__proto__ = c.prototype : e = h(e, t), e }(e, t, n, r) : "string" == typeof t ? function (e, t, n) { if ("string" == typeof n && "" !== n || (n = "utf8"), !c.isEncoding(n)) throw new TypeError('"encoding" must be a valid string encoding'); var r = 0 | p(t, n), o = (e = s(e, r)).write(t, n); return o !== r && (e = e.slice(0, o)), e }(e, t, n) : function (e, t) { if (c.isBuffer(t)) { var n = 0 | f(t.length); return 0 === (e = s(e, n)).length || t.copy(e, 0, 0, n), e } if (t) { if ("undefined" != typeof ArrayBuffer && t.buffer instanceof ArrayBuffer || "length" in t) return "number" != typeof t.length || (r = t.length) != r ? s(e, 0) : h(e, t); if ("Buffer" === t.type && i(t.data)) return h(e, t.data) } var r; throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.") }(e, t) } function u(e) { if ("number" != typeof e) throw new TypeError('"size" argument must be a number'); if (e < 0) throw new RangeError('"size" argument must not be negative') } function d(e, t) { if (u(t), e = s(e, t < 0 ? 0 : 0 | f(t)), !c.TYPED_ARRAY_SUPPORT) for (var n = 0; n < t; ++n)e[n] = 0; return e } function h(e, t) { var n = t.length < 0 ? 0 : 0 | f(t.length); e = s(e, n); for (var r = 0; r < n; r += 1)e[r] = 255 & t[r]; return e } function f(e) { if (e >= a()) throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x" + a().toString(16) + " bytes"); return 0 | e } function p(e, t) { if (c.isBuffer(e)) return e.length; if ("undefined" != typeof ArrayBuffer && "function" == typeof ArrayBuffer.isView && (ArrayBuffer.isView(e) || e instanceof ArrayBuffer)) return e.byteLength; "string" != typeof e && (e = "" + e); var n = e.length; if (0 === n) return 0; for (var r = !1; ;)switch (t) { case "ascii": case "latin1": case "binary": return n; case "utf8": case "utf-8": case void 0: return N(e).length; case "ucs2": case "ucs-2": case "utf16le": case "utf-16le": return 2 * n; case "hex": return n >>> 1; case "base64": return V(e).length; default: if (r) return N(e).length; t = ("" + t).toLowerCase(), r = !0 } } function _(e, t, n) { var r = !1; if ((void 0 === t || t < 0) && (t = 0), t > this.length) return ""; if ((void 0 === n || n > this.length) && (n = this.length), n <= 0) return ""; if ((n >>>= 0) <= (t >>>= 0)) return ""; for (e || (e = "utf8"); ;)switch (e) { case "hex": return M(this, t, n); case "utf8": case "utf-8": return k(this, t, n); case "ascii": return x(this, t, n); case "latin1": case "binary": return S(this, t, n); case "base64": return w(this, t, n); case "ucs2": case "ucs-2": case "utf16le": case "utf-16le": return F(this, t, n); default: if (r) throw new TypeError("Unknown encoding: " + e); e = (e + "").toLowerCase(), r = !0 } } function v(e, t, n) { var r = e[t]; e[t] = e[n], e[n] = r } function m(e, t, n, r, o) { if (0 === e.length) return -1; if ("string" == typeof n ? (r = n, n = 0) : n > 2147483647 ? n = 2147483647 : n < -2147483648 && (n = -2147483648), n = +n, isNaN(n) && (n = o ? 0 : e.length - 1), n < 0 && (n = e.length + n), n >= e.length) { if (o) return -1; n = e.length - 1 } else if (n < 0) { if (!o) return -1; n = 0 } if ("string" == typeof t && (t = c.from(t, r)), c.isBuffer(t)) return 0 === t.length ? -1 : g(e, t, n, r, o); if ("number" == typeof t) return t &= 255, c.TYPED_ARRAY_SUPPORT && "function" == typeof Uint8Array.prototype.indexOf ? o ? Uint8Array.prototype.indexOf.call(e, t, n) : Uint8Array.prototype.lastIndexOf.call(e, t, n) : g(e, [t], n, r, o); throw new TypeError("val must be string, number or Buffer") } function g(e, t, n, r, o) { var i, a = 1, s = e.length, c = t.length; if (void 0 !== r && ("ucs2" === (r = String(r).toLowerCase()) || "ucs-2" === r || "utf16le" === r || "utf-16le" === r)) { if (e.length < 2 || t.length < 2) return -1; a = 2, s /= 2, c /= 2, n /= 2 } function l(e, t) { return 1 === a ? e[t] : e.readUInt16BE(t * a) } if (o) { var u = -1; for (i = n; i < s; i++)if (l(e, i) === l(t, -1 === u ? 0 : i - u)) { if (-1 === u && (u = i), i - u + 1 === c) return u * a } else -1 !== u && (i -= i - u), u = -1 } else for (n + c > s && (n = s - c), i = n; i >= 0; i--) { for (var d = !0, h = 0; h < c; h++)if (l(e, i + h) !== l(t, h)) { d = !1; break } if (d) return i } return -1 } function A(e, t, n, r) { n = Number(n) || 0; var o = e.length - n; r ? (r = Number(r)) > o && (r = o) : r = o; var i = t.length; if (i % 2 != 0) throw new TypeError("Invalid hex string"); r > i / 2 && (r = i / 2); for (var a = 0; a < r; ++a) { var s = parseInt(t.substr(2 * a, 2), 16); if (isNaN(s)) return a; e[n + a] = s } return a } function y(e, t, n, r) { return K(N(t, e.length - n), e, n, r) } function B(e, t, n, r) { return K(function (e) { for (var t = [], n = 0; n < e.length; ++n)t.push(255 & e.charCodeAt(n)); return t }(t), e, n, r) } function b(e, t, n, r) { return B(e, t, n, r) } function C(e, t, n, r) { return K(V(t), e, n, r) } function E(e, t, n, r) { return K(function (e, t) { for (var n, r, o, i = [], a = 0; a < e.length && !((t -= 2) < 0); ++a)r = (n = e.charCodeAt(a)) >> 8, o = n % 256, i.push(o), i.push(r); return i }(t, e.length - n), e, n, r) } function w(e, t, n) { return 0 === t && n === e.length ? r.fromByteArray(e) : r.fromByteArray(e.slice(t, n)) } function k(e, t, n) { n = Math.min(e.length, n); for (var r = [], o = t; o < n;) { var i, a, s, c, l = e[o], u = null, d = l > 239 ? 4 : l > 223 ? 3 : l > 191 ? 2 : 1; if (o + d <= n) switch (d) { case 1: l < 128 && (u = l); break; case 2: 128 == (192 & (i = e[o + 1])) && (c = (31 & l) << 6 | 63 & i) > 127 && (u = c); break; case 3: i = e[o + 1], a = e[o + 2], 128 == (192 & i) && 128 == (192 & a) && (c = (15 & l) << 12 | (63 & i) << 6 | 63 & a) > 2047 && (c < 55296 || c > 57343) && (u = c); break; case 4: i = e[o + 1], a = e[o + 2], s = e[o + 3], 128 == (192 & i) && 128 == (192 & a) && 128 == (192 & s) && (c = (15 & l) << 18 | (63 & i) << 12 | (63 & a) << 6 | 63 & s) > 65535 && c < 1114112 && (u = c) }null === u ? (u = 65533, d = 1) : u > 65535 && (u -= 65536, r.push(u >>> 10 & 1023 | 55296), u = 56320 | 1023 & u), r.push(u), o += d } return function (e) { var t = e.length; if (t <= D) return String.fromCharCode.apply(String, e); for (var n = "", r = 0; r < t;)n += String.fromCharCode.apply(String, e.slice(r, r += D)); return n }(r) } t.lW = c, t.h2 = 50, c.TYPED_ARRAY_SUPPORT = void 0 !== n.g.TYPED_ARRAY_SUPPORT ? n.g.TYPED_ARRAY_SUPPORT : function () { try { var e = new Uint8Array(1); return e.__proto__ = { __proto__: Uint8Array.prototype, foo: function () { return 42 } }, 42 === e.foo() && "function" == typeof e.subarray && 0 === e.subarray(1, 1).byteLength } catch (e) { return !1 } }(), a(), c.poolSize = 8192, c._augment = function (e) { return e.__proto__ = c.prototype, e }, c.from = function (e, t, n) { return l(null, e, t, n) }, c.TYPED_ARRAY_SUPPORT && (c.prototype.__proto__ = Uint8Array.prototype, c.__proto__ = Uint8Array, "undefined" != typeof Symbol && Symbol.species && c[Symbol.species] === c && Object.defineProperty(c, Symbol.species, { value: null, configurable: !0 })), c.alloc = function (e, t, n) { return function (e, t, n, r) { return u(t), t <= 0 ? s(e, t) : void 0 !== n ? "string" == typeof r ? s(e, t).fill(n, r) : s(e, t).fill(n) : s(e, t) }(null, e, t, n) }, c.allocUnsafe = function (e) { return d(null, e) }, c.allocUnsafeSlow = function (e) { return d(null, e) }, c.isBuffer = function (e) { return !(null == e || !e._isBuffer) }, c.compare = function (e, t) { if (!c.isBuffer(e) || !c.isBuffer(t)) throw new TypeError("Arguments must be Buffers"); if (e === t) return 0; for (var n = e.length, r = t.length, o = 0, i = Math.min(n, r); o < i; ++o)if (e[o] !== t[o]) { n = e[o], r = t[o]; break } return n < r ? -1 : r < n ? 1 : 0 }, c.isEncoding = function (e) { switch (String(e).toLowerCase()) { case "hex": case "utf8": case "utf-8": case "ascii": case "latin1": case "binary": case "base64": case "ucs2": case "ucs-2": case "utf16le": case "utf-16le": return !0; default: return !1 } }, c.concat = function (e, t) { if (!i(e)) throw new TypeError('"list" argument must be an Array of Buffers'); if (0 === e.length) return c.alloc(0); var n; if (void 0 === t) for (t = 0, n = 0; n < e.length; ++n)t += e[n].length; var r = c.allocUnsafe(t), o = 0; for (n = 0; n < e.length; ++n) { var a = e[n]; if (!c.isBuffer(a)) throw new TypeError('"list" argument must be an Array of Buffers'); a.copy(r, o), o += a.length } return r }, c.byteLength = p, c.prototype._isBuffer = !0, c.prototype.swap16 = function () { var e = this.length; if (e % 2 != 0) throw new RangeError("Buffer size must be a multiple of 16-bits"); for (var t = 0; t < e; t += 2)v(this, t, t + 1); return this }, c.prototype.swap32 = function () { var e = this.length; if (e % 4 != 0) throw new RangeError("Buffer size must be a multiple of 32-bits"); for (var t = 0; t < e; t += 4)v(this, t, t + 3), v(this, t + 1, t + 2); return this }, c.prototype.swap64 = function () { var e = this.length; if (e % 8 != 0) throw new RangeError("Buffer size must be a multiple of 64-bits"); for (var t = 0; t < e; t += 8)v(this, t, t + 7), v(this, t + 1, t + 6), v(this, t + 2, t + 5), v(this, t + 3, t + 4); return this }, c.prototype.toString = function () { var e = 0 | this.length; return 0 === e ? "" : 0 === arguments.length ? k(this, 0, e) : _.apply(this, arguments) }, c.prototype.equals = function (e) { if (!c.isBuffer(e)) throw new TypeError("Argument must be a Buffer"); return this === e || 0 === c.compare(this, e) }, c.prototype.inspect = function () { var e = "", n = t.h2; return this.length > 0 && (e = this.toString("hex", 0, n).match(/.{2}/g).join(" "), this.length > n && (e += " ... ")), "<Buffer " + e + ">" }, c.prototype.compare = function (e, t, n, r, o) { if (!c.isBuffer(e)) throw new TypeError("Argument must be a Buffer"); if (void 0 === t && (t = 0), void 0 === n && (n = e ? e.length : 0), void 0 === r && (r = 0), void 0 === o && (o = this.length), t < 0 || n > e.length || r < 0 || o > this.length) throw new RangeError("out of range index"); if (r >= o && t >= n) return 0; if (r >= o) return -1; if (t >= n) return 1; if (this === e) return 0; for (var i = (o >>>= 0) - (r >>>= 0), a = (n >>>= 0) - (t >>>= 0), s = Math.min(i, a), l = this.slice(r, o), u = e.slice(t, n), d = 0; d < s; ++d)if (l[d] !== u[d]) { i = l[d], a = u[d]; break } return i < a ? -1 : a < i ? 1 : 0 }, c.prototype.includes = function (e, t, n) { return -1 !== this.indexOf(e, t, n) }, c.prototype.indexOf = function (e, t, n) { return m(this, e, t, n, !0) }, c.prototype.lastIndexOf = function (e, t, n) { return m(this, e, t, n, !1) }, c.prototype.write = function (e, t, n, r) { if (void 0 === t) r = "utf8", n = this.length, t = 0; else if (void 0 === n && "string" == typeof t) r = t, n = this.length, t = 0; else { if (!isFinite(t)) throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported"); t |= 0, isFinite(n) ? (n |= 0, void 0 === r && (r = "utf8")) : (r = n, n = void 0) } var o = this.length - t; if ((void 0 === n || n > o) && (n = o), e.length > 0 && (n < 0 || t < 0) || t > this.length) throw new RangeError("Attempt to write outside buffer bounds"); r || (r = "utf8"); for (var i = !1; ;)switch (r) { case "hex": return A(this, e, t, n); case "utf8": case "utf-8": return y(this, e, t, n); case "ascii": return B(this, e, t, n); case "latin1": case "binary": return b(this, e, t, n); case "base64": return C(this, e, t, n); case "ucs2": case "ucs-2": case "utf16le": case "utf-16le": return E(this, e, t, n); default: if (i) throw new TypeError("Unknown encoding: " + r); r = ("" + r).toLowerCase(), i = !0 } }, c.prototype.toJSON = function () { return { type: "Buffer", data: Array.prototype.slice.call(this._arr || this, 0) } }; var D = 4096; function x(e, t, n) { var r = ""; n = Math.min(e.length, n); for (var o = t; o < n; ++o)r += String.fromCharCode(127 & e[o]); return r } function S(e, t, n) { var r = ""; n = Math.min(e.length, n); for (var o = t; o < n; ++o)r += String.fromCharCode(e[o]); return r } function M(e, t, n) { var r = e.length; (!t || t < 0) && (t = 0), (!n || n < 0 || n > r) && (n = r); for (var o = "", i = t; i < n; ++i)o += G(e[i]); return o } function F(e, t, n) { for (var r = e.slice(t, n), o = "", i = 0; i < r.length; i += 2)o += String.fromCharCode(r[i] + 256 * r[i + 1]); return o } function T(e, t, n) { if (e % 1 != 0 || e < 0) throw new RangeError("offset is not uint"); if (e + t > n) throw new RangeError("Trying to access beyond buffer length") } function O(e, t, n, r, o, i) { if (!c.isBuffer(e)) throw new TypeError('"buffer" argument must be a Buffer instance'); if (t > o || t < i) throw new RangeError('"value" argument is out of bounds'); if (n + r > e.length) throw new RangeError("Index out of range") } function I(e, t, n, r) { t < 0 && (t = 65535 + t + 1); for (var o = 0, i = Math.min(e.length - n, 2); o < i; ++o)e[n + o] = (t & 255 << 8 * (r ? o : 1 - o)) >>> 8 * (r ? o : 1 - o) } function P(e, t, n, r) { t < 0 && (t = 4294967295 + t + 1); for (var o = 0, i = Math.min(e.length - n, 4); o < i; ++o)e[n + o] = t >>> 8 * (r ? o : 3 - o) & 255 } function R(e, t, n, r, o, i) { if (n + r > e.length) throw new RangeError("Index out of range"); if (n < 0) throw new RangeError("Index out of range") } function L(e, t, n, r, i) { return i || R(e, 0, n, 4), o.write(e, t, n, r, 23, 4), n + 4 } function H(e, t, n, r, i) { return i || R(e, 0, n, 8), o.write(e, t, n, r, 52, 8), n + 8 } c.prototype.slice = function (e, t) { var n, r = this.length; if ((e = ~~e) < 0 ? (e += r) < 0 && (e = 0) : e > r && (e = r), (t = void 0 === t ? r : ~~t) < 0 ? (t += r) < 0 && (t = 0) : t > r && (t = r), t < e && (t = e), c.TYPED_ARRAY_SUPPORT) (n = this.subarray(e, t)).__proto__ = c.prototype; else { var o = t - e; n = new c(o, void 0); for (var i = 0; i < o; ++i)n[i] = this[i + e] } return n }, c.prototype.readUIntLE = function (e, t, n) { e |= 0, t |= 0, n || T(e, t, this.length); for (var r = this[e], o = 1, i = 0; ++i < t && (o *= 256);)r += this[e + i] * o; return r }, c.prototype.readUIntBE = function (e, t, n) { e |= 0, t |= 0, n || T(e, t, this.length); for (var r = this[e + --t], o = 1; t > 0 && (o *= 256);)r += this[e + --t] * o; return r }, c.prototype.readUInt8 = function (e, t) { return t || T(e, 1, this.length), this[e] }, c.prototype.readUInt16LE = function (e, t) { return t || T(e, 2, this.length), this[e] | this[e + 1] << 8 }, c.prototype.readUInt16BE = function (e, t) { return t || T(e, 2, this.length), this[e] << 8 | this[e + 1] }, c.prototype.readUInt32LE = function (e, t) { return t || T(e, 4, this.length), (this[e] | this[e + 1] << 8 | this[e + 2] << 16) + 16777216 * this[e + 3] }, c.prototype.readUInt32BE = function (e, t) { return t || T(e, 4, this.length), 16777216 * this[e] + (this[e + 1] << 16 | this[e + 2] << 8 | this[e + 3]) }, c.prototype.readIntLE = function (e, t, n) { e |= 0, t |= 0, n || T(e, t, this.length); for (var r = this[e], o = 1, i = 0; ++i < t && (o *= 256);)r += this[e + i] * o; return r >= (o *= 128) && (r -= Math.pow(2, 8 * t)), r }, c.prototype.readIntBE = function (e, t, n) { e |= 0, t |= 0, n || T(e, t, this.length); for (var r = t, o = 1, i = this[e + --r]; r > 0 && (o *= 256);)i += this[e + --r] * o; return i >= (o *= 128) && (i -= Math.pow(2, 8 * t)), i }, c.prototype.readInt8 = function (e, t) { return t || T(e, 1, this.length), 128 & this[e] ? -1 * (255 - this[e] + 1) : this[e] }, c.prototype.readInt16LE = function (e, t) { t || T(e, 2, this.length); var n = this[e] | this[e + 1] << 8; return 32768 & n ? 4294901760 | n : n }, c.prototype.readInt16BE = function (e, t) { t || T(e, 2, this.length); var n = this[e + 1] | this[e] << 8; return 32768 & n ? 4294901760 | n : n }, c.prototype.readInt32LE = function (e, t) { return t || T(e, 4, this.length), this[e] | this[e + 1] << 8 | this[e + 2] << 16 | this[e + 3] << 24 }, c.prototype.readInt32BE = function (e, t) { return t || T(e, 4, this.length), this[e] << 24 | this[e + 1] << 16 | this[e + 2] << 8 | this[e + 3] }, c.prototype.readFloatLE = function (e, t) { return t || T(e, 4, this.length), o.read(this, e, !0, 23, 4) }, c.prototype.readFloatBE = function (e, t) { return t || T(e, 4, this.length), o.read(this, e, !1, 23, 4) }, c.prototype.readDoubleLE = function (e, t) { return t || T(e, 8, this.length), o.read(this, e, !0, 52, 8) }, c.prototype.readDoubleBE = function (e, t) { return t || T(e, 8, this.length), o.read(this, e, !1, 52, 8) }, c.prototype.writeUIntLE = function (e, t, n, r) { e = +e, t |= 0, n |= 0, r || O(this, e, t, n, Math.pow(2, 8 * n) - 1, 0); var o = 1, i = 0; for (this[t] = 255 & e; ++i < n && (o *= 256);)this[t + i] = e / o & 255; return t + n }, c.prototype.writeUIntBE = function (e, t, n, r) { e = +e, t |= 0, n |= 0, r || O(this, e, t, n, Math.pow(2, 8 * n) - 1, 0); var o = n - 1, i = 1; for (this[t + o] = 255 & e; --o >= 0 && (i *= 256);)this[t + o] = e / i & 255; return t + n }, c.prototype.writeUInt8 = function (e, t, n) { return e = +e, t |= 0, n || O(this, e, t, 1, 255, 0), c.TYPED_ARRAY_SUPPORT || (e = Math.floor(e)), this[t] = 255 & e, t + 1 }, c.prototype.writeUInt16LE = function (e, t, n) { return e = +e, t |= 0, n || O(this, e, t, 2, 65535, 0), c.TYPED_ARRAY_SUPPORT ? (this[t] = 255 & e, this[t + 1] = e >>> 8) : I(this, e, t, !0), t + 2 }, c.prototype.writeUInt16BE = function (e, t, n) { return e = +e, t |= 0, n || O(this, e, t, 2, 65535, 0), c.TYPED_ARRAY_SUPPORT ? (this[t] = e >>> 8, this[t + 1] = 255 & e) : I(this, e, t, !1), t + 2 }, c.prototype.writeUInt32LE = function (e, t, n) { return e = +e, t |= 0, n || O(this, e, t, 4, 4294967295, 0), c.TYPED_ARRAY_SUPPORT ? (this[t + 3] = e >>> 24, this[t + 2] = e >>> 16, this[t + 1] = e >>> 8, this[t] = 255 & e) : P(this, e, t, !0), t + 4 }, c.prototype.writeUInt32BE = function (e, t, n) { return e = +e, t |= 0, n || O(this, e, t, 4, 4294967295, 0), c.TYPED_ARRAY_SUPPORT ? (this[t] = e >>> 24, this[t + 1] = e >>> 16, this[t + 2] = e >>> 8, this[t + 3] = 255 & e) : P(this, e, t, !1), t + 4 }, c.prototype.writeIntLE = function (e, t, n, r) { if (e = +e, t |= 0, !r) { var o = Math.pow(2, 8 * n - 1); O(this, e, t, n, o - 1, -o) } var i = 0, a = 1, s = 0; for (this[t] = 255 & e; ++i < n && (a *= 256);)e < 0 && 0 === s && 0 !== this[t + i - 1] && (s = 1), this[t + i] = (e / a >> 0) - s & 255; return t + n }, c.prototype.writeIntBE = function (e, t, n, r) { if (e = +e, t |= 0, !r) { var o = Math.pow(2, 8 * n - 1); O(this, e, t, n, o - 1, -o) } var i = n - 1, a = 1, s = 0; for (this[t + i] = 255 & e; --i >= 0 && (a *= 256);)e < 0 && 0 === s && 0 !== this[t + i + 1] && (s = 1), this[t + i] = (e / a >> 0) - s & 255; return t + n }, c.prototype.writeInt8 = function (e, t, n) { return e = +e, t |= 0, n || O(this, e, t, 1, 127, -128), c.TYPED_ARRAY_SUPPORT || (e = Math.floor(e)), e < 0 && (e = 255 + e + 1), this[t] = 255 & e, t + 1 }, c.prototype.writeInt16LE = function (e, t, n) { return e = +e, t |= 0, n || O(this, e, t, 2, 32767, -32768), c.TYPED_ARRAY_SUPPORT ? (this[t] = 255 & e, this[t + 1] = e >>> 8) : I(this, e, t, !0), t + 2 }, c.prototype.writeInt16BE = function (e, t, n) { return e = +e, t |= 0, n || O(this, e, t, 2, 32767, -32768), c.TYPED_ARRAY_SUPPORT ? (this[t] = e >>> 8, this[t + 1] = 255 & e) : I(this, e, t, !1), t + 2 }, c.prototype.writeInt32LE = function (e, t, n) { return e = +e, t |= 0, n || O(this, e, t, 4, 2147483647, -2147483648), c.TYPED_ARRAY_SUPPORT ? (this[t] = 255 & e, this[t + 1] = e >>> 8, this[t + 2] = e >>> 16, this[t + 3] = e >>> 24) : P(this, e, t, !0), t + 4 }, c.prototype.writeInt32BE = function (e, t, n) { return e = +e, t |= 0, n || O(this, e, t, 4, 2147483647, -2147483648), e < 0 && (e = 4294967295 + e + 1), c.TYPED_ARRAY_SUPPORT ? (this[t] = e >>> 24, this[t + 1] = e >>> 16, this[t + 2] = e >>> 8, this[t + 3] = 255 & e) : P(this, e, t, !1), t + 4 }, c.prototype.writeFloatLE = function (e, t, n) { return L(this, e, t, !0, n) }, c.prototype.writeFloatBE = function (e, t, n) { return L(this, e, t, !1, n) }, c.prototype.writeDoubleLE = function (e, t, n) { return H(this, e, t, !0, n) }, c.prototype.writeDoubleBE = function (e, t, n) { return H(this, e, t, !1, n) }, c.prototype.copy = function (e, t, n, r) { if (n || (n = 0), r || 0 === r || (r = this.length), t >= e.length && (t = e.length), t || (t = 0), r > 0 && r < n && (r = n), r === n) return 0; if (0 === e.length || 0 === this.length) return 0; if (t < 0) throw new RangeError("targetStart out of bounds"); if (n < 0 || n >= this.length) throw new RangeError("sourceStart out of bounds"); if (r < 0) throw new RangeError("sourceEnd out of bounds"); r > this.length && (r = this.length), e.length - t < r - n && (r = e.length - t + n); var o, i = r - n; if (this === e && n < t && t < r) for (o = i - 1; o >= 0; --o)e[o + t] = this[o + n]; else if (i < 1e3 || !c.TYPED_ARRAY_SUPPORT) for (o = 0; o < i; ++o)e[o + t] = this[o + n]; else Uint8Array.prototype.set.call(e, this.subarray(n, n + i), t); return i }, c.prototype.fill = function (e, t, n, r) { if ("string" == typeof e) { if ("string" == typeof t ? (r = t, t = 0, n = this.length) : "string" == typeof n && (r = n, n = this.length), 1 === e.length) { var o = e.charCodeAt(0); o < 256 && (e = o) } if (void 0 !== r && "string" != typeof r) throw new TypeError("encoding must be a string"); if ("string" == typeof r && !c.isEncoding(r)) throw new TypeError("Unknown encoding: " + r) } else "number" == typeof e && (e &= 255); if (t < 0 || this.length < t || this.length < n) throw new RangeError("Out of range index"); if (n <= t) return this; var i; if (t >>>= 0, n = void 0 === n ? this.length : n >>> 0, e || (e = 0), "number" == typeof e) for (i = t; i < n; ++i)this[i] = e; else { var a = c.isBuffer(e) ? e : N(new c(e, r).toString()), s = a.length; for (i = 0; i < n - t; ++i)this[i + t] = a[i % s] } return this }; var j = /[^+\/0-9A-Za-z-_]/g; function G(e) { return e < 16 ? "0" + e.toString(16) : e.toString(16) } function N(e, t) { var n; t = t || 1 / 0; for (var r = e.length, o = null, i = [], a = 0; a < r; ++a) { if ((n = e.charCodeAt(a)) > 55295 && n < 57344) { if (!o) { if (n > 56319) { (t -= 3) > -1 && i.push(239, 191, 189); continue } if (a + 1 === r) { (t -= 3) > -1 && i.push(239, 191, 189); continue } o = n; continue } if (n < 56320) { (t -= 3) > -1 && i.push(239, 191, 189), o = n; continue } n = 65536 + (o - 55296 << 10 | n - 56320) } else o && (t -= 3) > -1 && i.push(239, 191, 189); if (o = null, n < 128) { if ((t -= 1) < 0) break; i.push(n) } else if (n < 2048) { if ((t -= 2) < 0) break; i.push(n >> 6 | 192, 63 & n | 128) } else if (n < 65536) { if ((t -= 3) < 0) break; i.push(n >> 12 | 224, n >> 6 & 63 | 128, 63 & n | 128) } else { if (!(n < 1114112)) throw new Error("Invalid code point"); if ((t -= 4) < 0) break; i.push(n >> 18 | 240, n >> 12 & 63 | 128, n >> 6 & 63 | 128, 63 & n | 128) } } return i } function V(e) { return r.toByteArray(function (e) { if ((e = function (e) { return e.trim ? e.trim() : e.replace(/^\s+|\s+$/g, "") }(e).replace(j, "")).length < 2) return ""; for (; e.length % 4 != 0;)e += "="; return e }(e)) } function K(e, t, n, r) { for (var o = 0; o < r && !(o + n >= t.length || o >= e.length); ++o)t[o + n] = e[o]; return o } }, 9662: (e, t, n) => { var r = n(614), o = n(6330), i = TypeError; e.exports = function (e) { if (r(e)) return e; throw i(o(e) + " is not a function") } }, 9483: (e, t, n) => { var r = n(4411), o = n(6330), i = TypeError; e.exports = function (e) { if (r(e)) return e; throw i(o(e) + " is not a constructor") } }, 6077: (e, t, n) => { var r = n(614), o = String, i = TypeError; e.exports = function (e) { if ("object" == typeof e || r(e)) return e; throw i("Can't set " + o(e) + " as a prototype") } }, 1223: (e, t, n) => { var r = n(5112), o = n(30), i = n(3070).f, a = r("unscopables"), s = Array.prototype; null == s[a] && i(s, a, { configurable: !0, value: o(null) }), e.exports = function (e) { s[a][e] = !0 } }, 1530: (e, t, n) => { "use strict"; var r = n(8710).charAt; e.exports = function (e, t, n) { return t + (n ? r(e, t).length : 1) } }, 5787: (e, t, n) => { var r = n(7976), o = TypeError; e.exports = function (e, t) { if (r(t, e)) return e; throw o("Incorrect invocation") } }, 9670: (e, t, n) => { var r = n(111), o = String, i = TypeError; e.exports = function (e) { if (r(e)) return e; throw i(o(e) + " is not an object") } }, 7556: (e, t, n) => { var r = n(7293); e.exports = r((function () { if ("function" == typeof ArrayBuffer) { var e = new ArrayBuffer(8); Object.isExtensible(e) && Object.defineProperty(e, "a", { value: 8 }) } })) }, 8533: (e, t, n) => { "use strict"; var r = n(2092).forEach, o = n(9341)("forEach"); e.exports = o ? [].forEach : function (e) { return r(this, e, arguments.length > 1 ? arguments[1] : void 0) } }, 8457: (e, t, n) => { "use strict"; var r = n(9974), o = n(6916), i = n(7908), a = n(3411), s = n(7659), c = n(4411), l = n(6244), u = n(6135), d = n(4121), h = n(1246), f = Array; e.exports = function (e) { var t = i(e), n = c(this), p = arguments.length, _ = p > 1 ? arguments[1] : void 0, v = void 0 !== _; v && (_ = r(_, p > 2 ? arguments[2] : void 0)); var m, g, A, y, B, b, C = h(t), E = 0; if (!C || this === f && s(C)) for (m = l(t), g = n ? new this(m) : f(m); m > E; E++)b = v ? _(t[E], E) : t[E], u(g, E, b); else for (B = (y = d(t, C)).next, g = n ? new this : []; !(A = o(B, y)).done; E++)b = v ? a(y, _, [A.value, E], !0) : A.value, u(g, E, b); return g.length = E, g } }, 1318: (e, t, n) => { var r = n(5656), o = n(1400), i = n(6244), a = function (e) { return function (t, n, a) { var s, c = r(t), l = i(c), u = o(a, l); if (e && n != n) { for (; l > u;)if ((s = c[u++]) != s) return !0 } else for (; l > u; u++)if ((e || u in c) && c[u] === n) return e || u || 0; return !e && -1 } }; e.exports = { includes: a(!0), indexOf: a(!1) } }, 2092: (e, t, n) => { var r = n(9974), o = n(1702), i = n(8361), a = n(7908), s = n(6244), c = n(5417), l = o([].push), u = function (e) { var t = 1 == e, n = 2 == e, o = 3 == e, u = 4 == e, d = 6 == e, h = 7 == e, f = 5 == e || d; return function (p, _, v, m) { for (var g, A, y = a(p), B = i(y), b = r(_, v), C = s(B), E = 0, w = m || c, k = t ? w(p, C) : n || h ? w(p, 0) : void 0; C > E; E++)if ((f || E in B) && (A = b(g = B[E], E, y), e)) if (t) k[E] = A; else if (A) switch (e) { case 3: return !0; case 5: return g; case 6: return E; case 2: l(k, g) } else switch (e) { case 4: return !1; case 7: l(k, g) }return d ? -1 : o || u ? u : k } }; e.exports = { forEach: u(0), map: u(1), filter: u(2), some: u(3), every: u(4), find: u(5), findIndex: u(6), filterReject: u(7) } }, 1194: (e, t, n) => { var r = n(7293), o = n(5112), i = n(7392), a = o("species"); e.exports = function (e) { return i >= 51 || !r((function () { var t = []; return (t.constructor = {})[a] = function () { return { foo: 1 } }, 1 !== t[e](Boolean).foo })) } }, 9341: (e, t, n) => { "use strict"; var r = n(7293); e.exports = function (e, t) { var n = [][e]; return !!n && r((function () { n.call(null, t || function () { return 1 }, 1) })) } }, 3671: (e, t, n) => { var r = n(9662), o = n(7908), i = n(8361), a = n(6244), s = TypeError, c = function (e) { return function (t, n, c, l) { r(n); var u = o(t), d = i(u), h = a(u), f = e ? h - 1 : 0, p = e ? -1 : 1; if (c < 2) for (; ;) { if (f in d) { l = d[f], f += p; break } if (f += p, e ? f < 0 : h <= f) throw s("Reduce of empty array with no initial value") } for (; e ? f >= 0 : h > f; f += p)f in d && (l = n(l, d[f], f, u)); return l } }; e.exports = { left: c(!1), right: c(!0) } }, 3658: (e, t, n) => { "use strict"; var r = n(9781), o = n(3157), i = TypeError, a = Object.getOwnPropertyDescriptor, s = r && !function () { if (void 0 !== this) return !0; try { Object.defineProperty([], "length", { writable: !1 }).length = 1 } catch (e) { return e instanceof TypeError } }(); e.exports = s ? function (e, t) { if (o(e) && !a(e, "length").writable) throw i("Cannot set read only .length"); return e.length = t } : function (e, t) { return e.length = t } }, 1589: (e, t, n) => { var r = n(1400), o = n(6244), i = n(6135), a = Array, s = Math.max; e.exports = function (e, t, n) { for (var c = o(e), l = r(t, c), u = r(void 0 === n ? c : n, c), d = a(s(u - l, 0)), h = 0; l < u; l++, h++)i(d, h, e[l]); return d.length = h, d } }, 206: (e, t, n) => { var r = n(1702); e.exports = r([].slice) }, 4362: (e, t, n) => { var r = n(1589), o = Math.floor, i = function (e, t) { var n = e.length, c = o(n / 2); return n < 8 ? a(e, t) : s(e, i(r(e, 0, c), t), i(r(e, c), t), t) }, a = function (e, t) { for (var n, r, o = e.length, i = 1; i < o;) { for (r = i, n = e[i]; r && t(e[r - 1], n) > 0;)e[r] = e[--r]; r !== i++ && (e[r] = n) } return e }, s = function (e, t, n, r) { for (var o = t.length, i = n.length, a = 0, s = 0; a < o || s < i;)e[a + s] = a < o && s < i ? r(t[a], n[s]) <= 0 ? t[a++] : n[s++] : a < o ? t[a++] : n[s++]; return e }; e.exports = i }, 7475: (e, t, n) => { var r = n(3157), o = n(4411), i = n(111), a = n(5112)("species"), s = Array; e.exports = function (e) { var t; return r(e) && (t = e.constructor, (o(t) && (t === s || r(t.prototype)) || i(t) && null === (t = t[a])) && (t = void 0)), void 0 === t ? s : t } }, 5417: (e, t, n) => { var r = n(7475); e.exports = function (e, t) { return new (r(e))(0 === t ? 0 : t) } }, 3411: (e, t, n) => { var r = n(9670), o = n(9212); e.exports = function (e, t, n, i) { try { return i ? t(r(n)[0], n[1]) : t(n) } catch (t) { o(e, "throw", t) } } }, 7072: (e, t, n) => { var r = n(5112)("iterator"), o = !1; try { var i = 0, a = { next: function () { return { done: !!i++ } }, return: function () { o = !0 } }; a[r] = function () { return this }, Array.from(a, (function () { throw 2 })) } catch (e) { } e.exports = function (e, t) { if (!t && !o) return !1; var n = !1; try { var i = {}; i[r] = function () { return { next: function () { return { done: n = !0 } } } }, e(i) } catch (e) { } return n } }, 4326: (e, t, n) => { var r = n(84), o = r({}.toString), i = r("".slice); e.exports = function (e) { return i(o(e), 8, -1) } }, 648: (e, t, n) => { var r = n(1694), o = n(614), i = n(4326), a = n(5112)("toStringTag"), s = Object, c = "Arguments" == i(function () { return arguments }()); e.exports = r ? i : function (e) { var t, n, r; return void 0 === e ? "Undefined" : null === e ? "Null" : "string" == typeof (n = function (e, t) { try { return e[t] } catch (e) { } }(t = s(e), a)) ? n : c ? i(t) : "Object" == (r = i(t)) && o(t.callee) ? "Arguments" : r } }, 5631: (e, t, n) => { "use strict"; var r = n(3070).f, o = n(30), i = n(9190), a = n(9974), s = n(5787), c = n(8554), l = n(408), u = n(1656), d = n(6178), h = n(6340), f = n(9781), p = n(2423).fastKey, _ = n(9909), v = _.set, m = _.getterFor; e.exports = { getConstructor: function (e, t, n, u) { var d = e((function (e, r) { s(e, h), v(e, { type: t, index: o(null), first: void 0, last: void 0, size: 0 }), f || (e.size = 0), c(r) || l(r, e[u], { that: e, AS_ENTRIES: n }) })), h = d.prototype, _ = m(t), g = function (e, t, n) { var r, o, i = _(e), a = A(e, t); return a ? a.value = n : (i.last = a = { index: o = p(t, !0), key: t, value: n, previous: r = i.last, next: void 0, removed: !1 }, i.first || (i.first = a), r && (r.next = a), f ? i.size++ : e.size++, "F" !== o && (i.index[o] = a)), e }, A = function (e, t) { var n, r = _(e), o = p(t); if ("F" !== o) return r.index[o]; for (n = r.first; n; n = n.next)if (n.key == t) return n }; return i(h, { clear: function () { for (var e = _(this), t = e.index, n = e.first; n;)n.removed = !0, n.previous && (n.previous = n.previous.next = void 0), delete t[n.index], n = n.next; e.first = e.last = void 0, f ? e.size = 0 : this.size = 0 }, delete: function (e) { var t = this, n = _(t), r = A(t, e); if (r) { var o = r.next, i = r.previous; delete n.index[r.index], r.removed = !0, i && (i.next = o), o && (o.previous = i), n.first == r && (n.first = o), n.last == r && (n.last = i), f ? n.size-- : t.size-- } return !!r }, forEach: function (e) { for (var t, n = _(this), r = a(e, arguments.length > 1 ? arguments[1] : void 0); t = t ? t.next : n.first;)for (r(t.value, t.key, this); t && t.removed;)t = t.previous }, has: function (e) { return !!A(this, e) } }), i(h, n ? { get: function (e) { var t = A(this, e); return t && t.value }, set: function (e, t) { return g(this, 0 === e ? 0 : e, t) } } : { add: function (e) { return g(this, e = 0 === e ? 0 : e, e) } }), f && r(h, "size", { get: function () { return _(this).size } }), d }, setStrong: function (e, t, n) { var r = t + " Iterator", o = m(t), i = m(r); u(e, t, (function (e, t) { v(this, { type: r, target: e, state: o(e), kind: t, last: void 0 }) }), (function () { for (var e = i(this), t = e.kind, n = e.last; n && n.removed;)n = n.previous; return e.target && (e.last = n = n ? n.next : e.state.first) ? d("keys" == t ? n.key : "values" == t ? n.value : [n.key, n.value], !1) : (e.target = void 0, d(void 0, !0)) }), n ? "entries" : "values", !n, !0), h(t) } } }, 9320: (e, t, n) => { "use strict"; var r = n(1702), o = n(9190), i = n(2423).getWeakData, a = n(5787), s = n(9670), c = n(8554), l = n(111), u = n(408), d = n(2092), h = n(2597), f = n(9909), p = f.set, _ = f.getterFor, v = d.find, m = d.findIndex, g = r([].splice), A = 0, y = function (e) { return e.frozen || (e.frozen = new B) }, B = function () { this.entries = [] }, b = function (e, t) { return v(e.entries, (function (e) { return e[0] === t })) }; B.prototype = { get: function (e) { var t = b(this, e); if (t) return t[1] }, has: function (e) { return !!b(this, e) }, set: function (e, t) { var n = b(this, e); n ? n[1] = t : this.entries.push([e, t]) }, delete: function (e) { var t = m(this.entries, (function (t) { return t[0] === e })); return ~t && g(this.entries, t, 1), !!~t } }, e.exports = { getConstructor: function (e, t, n, r) { var d = e((function (e, o) { a(e, f), p(e, { type: t, id: A++, frozen: void 0 }), c(o) || u(o, e[r], { that: e, AS_ENTRIES: n }) })), f = d.prototype, v = _(t), m = function (e, t, n) { var r = v(e), o = i(s(t), !0); return !0 === o ? y(r).set(t, n) : o[r.id] = n, e }; return o(f, { delete: function (e) { var t = v(this); if (!l(e)) return !1; var n = i(e); return !0 === n ? y(t).delete(e) : n && h(n, t.id) && delete n[t.id] }, has: function (e) { var t = v(this); if (!l(e)) return !1; var n = i(e); return !0 === n ? y(t).has(e) : n && h(n, t.id) } }), o(f, n ? { get: function (e) { var t = v(this); if (l(e)) { var n = i(e); return !0 === n ? y(t).get(e) : n ? n[t.id] : void 0 } }, set: function (e, t) { return m(this, e, t) } } : { add: function (e) { return m(this, e, !0) } }), d } } }, 7710: (e, t, n) => { "use strict"; var r = n(2109), o = n(7854), i = n(1702), a = n(4705), s = n(8052), c = n(2423), l = n(408), u = n(5787), d = n(614), h = n(8554), f = n(111), p = n(7293), _ = n(7072), v = n(8003), m = n(9587); e.exports = function (e, t, n) { var g = -1 !== e.indexOf("Map"), A = -1 !== e.indexOf("Weak"), y = g ? "set" : "add", B = o[e], b = B && B.prototype, C = B, E = {}, w = function (e) { var t = i(b[e]); s(b, e, "add" == e ? function (e) { return t(this, 0 === e ? 0 : e), this } : "delete" == e ? function (e) { return !(A && !f(e)) && t(this, 0 === e ? 0 : e) } : "get" == e ? function (e) { return A && !f(e) ? void 0 : t(this, 0 === e ? 0 : e) } : "has" == e ? function (e) { return !(A && !f(e)) && t(this, 0 === e ? 0 : e) } : function (e, n) { return t(this, 0 === e ? 0 : e, n), this }) }; if (a(e, !d(B) || !(A || b.forEach && !p((function () { (new B).entries().next() }))))) C = n.getConstructor(t, e, g, y), c.enable(); else if (a(e, !0)) { var k = new C, D = k[y](A ? {} : -0, 1) != k, x = p((function () { k.has(1) })), S = _((function (e) { new B(e) })), M = !A && p((function () { for (var e = new B, t = 5; t--;)e[y](t, t); return !e.has(-0) })); S || ((C = t((function (e, t) { u(e, b); var n = m(new B, e, C); return h(t) || l(t, n[y], { that: n, AS_ENTRIES: g }), n }))).prototype = b, b.constructor = C), (x || M) && (w("delete"), w("has"), g && w("get")), (M || D) && w(y), A && b.clear && delete b.clear } return E[e] = C, r({ global: !0, constructor: !0, forced: C != B }, E), v(C, e), A || n.setStrong(C, e, g), C } }, 9920: (e, t, n) => { var r = n(2597), o = n(3887), i = n(1236), a = n(3070); e.exports = function (e, t, n) { for (var s = o(t), c = a.f, l = i.f, u = 0; u < s.length; u++) { var d = s[u]; r(e, d) || n && r(n, d) || c(e, d, l(t, d)) } } }, 4964: (e, t, n) => { var r = n(5112)("match"); e.exports = function (e) { var t = /./; try { "/./"[e](t) } catch (n) { try { return t[r] = !1, "/./"[e](t) } catch (e) { } } return !1 } }, 8544: (e, t, n) => { var r = n(7293); e.exports = !r((function () { function e() { } return e.prototype.constructor = null, Object.getPrototypeOf(new e) !== e.prototype })) }, 6178: e => { e.exports = function (e, t) { return { value: e, done: t } } }, 8880: (e, t, n) => { var r = n(9781), o = n(3070), i = n(9114); e.exports = r ? function (e, t, n) { return o.f(e, t, i(1, n)) } : function (e, t, n) { return e[t] = n, e } }, 9114: e => { e.exports = function (e, t) { return { enumerable: !(1 & e), configurable: !(2 & e), writable: !(4 & e), value: t } } }, 6135: (e, t, n) => { "use strict"; var r = n(4948), o = n(3070), i = n(9114); e.exports = function (e, t, n) { var a = r(t); a in e ? o.f(e, a, i(0, n)) : e[a] = n } }, 7045: (e, t, n) => { var r = n(6339), o = n(3070); e.exports = function (e, t, n) { return n.get && r(n.get, t, { getter: !0 }), n.set && r(n.set, t, { setter: !0 }), o.f(e, t, n) } }, 8052: (e, t, n) => { var r = n(614), o = n(3070), i = n(6339), a = n(3072); e.exports = function (e, t, n, s) { s || (s = {}); var c = s.enumerable, l = void 0 !== s.name ? s.name : t; if (r(n) && i(n, l, s), s.global) c ? e[t] = n : a(t, n); else { try { s.unsafe ? e[t] && (c = !0) : delete e[t] } catch (e) { } c ? e[t] = n : o.f(e, t, { value: n, enumerable: !1, configurable: !s.nonConfigurable, writable: !s.nonWritable }) } return e } }, 9190: (e, t, n) => { var r = n(8052); e.exports = function (e, t, n) { for (var o in t) r(e, o, t[o], n); return e } }, 3072: (e, t, n) => { var r = n(7854), o = Object.defineProperty; e.exports = function (e, t) { try { o(r, e, { value: t, configurable: !0, writable: !0 }) } catch (n) { r[e] = t } return t } }, 5117: (e, t, n) => { "use strict"; var r = n(6330), o = TypeError; e.exports = function (e, t) { if (!delete e[t]) throw o("Cannot delete property " + r(t) + " of " + r(e)) } }, 9781: (e, t, n) => { var r = n(7293); e.exports = !r((function () { return 7 != Object.defineProperty({}, 1, { get: function () { return 7 } })[1] })) }, 4154: e => { var t = "object" == typeof document && document.all, n = void 0 === t && void 0 !== t; e.exports = { all: t, IS_HTMLDDA: n } }, 317: (e, t, n) => { var r = n(7854), o = n(111), i = r.document, a = o(i) && o(i.createElement); e.exports = function (e) { return a ? i.createElement(e) : {} } }, 7207: e => { var t = TypeError; e.exports = function (e) { if (e > 9007199254740991) throw t("Maximum allowed index exceeded"); return e } }, 8324: e => { e.exports = { CSSRuleList: 0, CSSStyleDeclaration: 0, CSSValueList: 0, ClientRectList: 0, DOMRectList: 0, DOMStringList: 0, DOMTokenList: 1, DataTransferItemList: 0, FileList: 0, HTMLAllCollection: 0, HTMLCollection: 0, HTMLFormElement: 0, HTMLSelectElement: 0, MediaList: 0, MimeTypeArray: 0, NamedNodeMap: 0, NodeList: 1, PaintRequestList: 0, Plugin: 0, PluginArray: 0, SVGLengthList: 0, SVGNumberList: 0, SVGPathSegList: 0, SVGPointList: 0, SVGStringList: 0, SVGTransformList: 0, SourceBufferList: 0, StyleSheetList: 0, TextTrackCueList: 0, TextTrackList: 0, TouchList: 0 } }, 8509: (e, t, n) => { var r = n(317)("span").classList, o = r && r.constructor && r.constructor.prototype; e.exports = o === Object.prototype ? void 0 : o }, 5268: (e, t, n) => { var r = n(4326), o = n(7854); e.exports = "process" == r(o.process) }, 8113: (e, t, n) => { var r = n(5005); e.exports = r("navigator", "userAgent") || "" }, 7392: (e, t, n) => { var r, o, i = n(7854), a = n(8113), s = i.process, c = i.Deno, l = s && s.versions || c && c.version, u = l && l.v8; u && (o = (r = u.split("."))[0] > 0 && r[0] < 4 ? 1 : +(r[0] + r[1])), !o && a && (!(r = a.match(/Edge\/(\d+)/)) || r[1] >= 74) && (r = a.match(/Chrome\/(\d+)/)) && (o = +r[1]), e.exports = o }, 748: e => { e.exports = ["constructor", "hasOwnProperty", "isPrototypeOf", "propertyIsEnumerable", "toLocaleString", "toString", "valueOf"] }, 1060: (e, t, n) => { var r = n(1702), o = Error, i = r("".replace), a = String(o("zxcasd").stack), s = /\n\s*at [^:]*:[^\n]*/, c = s.test(a); e.exports = function (e, t) { if (c && "string" == typeof e && !o.prepareStackTrace) for (; t--;)e = i(e, s, ""); return e } }, 2914: (e, t, n) => { var r = n(7293), o = n(9114); e.exports = !r((function () { var e = Error("a"); return !("stack" in e) || (Object.defineProperty(e, "stack", o(1, 7)), 7 !== e.stack) })) }, 7762: (e, t, n) => { "use strict"; var r = n(9781), o = n(7293), i = n(9670), a = n(30), s = n(6277), c = Error.prototype.toString, l = o((function () { if (r) { var e = a(Object.defineProperty({}, "name", { get: function () { return this === e } })); if ("true" !== c.call(e)) return !0 } return "2: 1" !== c.call({ message: 1, name: 2 }) || "Error" !== c.call({}) })); e.exports = l ? function () { var e = i(this), t = s(e.name, "Error"), n = s(e.message); return t ? n ? t + ": " + n : t : n } : c }, 2109: (e, t, n) => { var r = n(7854), o = n(1236).f, i = n(8880), a = n(8052), s = n(3072), c = n(9920), l = n(4705); e.exports = function (e, t) { var n, u, d, h, f, p = e.target, _ = e.global, v = e.stat; if (n = _ ? r : v ? r[p] || s(p, {}) : (r[p] || {}).prototype) for (u in t) { if (h = t[u], d = e.dontCallGetSet ? (f = o(n, u)) && f.value : n[u], !l(_ ? u : p + (v ? "." : "#") + u, e.forced) && void 0 !== d) { if (typeof h == typeof d) continue; c(h, d) } (e.sham || d && d.sham) && i(h, "sham", !0), a(n, u, h, e) } } }, 7293: e => { e.exports = function (e) { try { return !!e() } catch (e) { return !0 } } }, 7007: (e, t, n) => { "use strict"; n(4916); var r = n(1702), o = n(8052), i = n(2261), a = n(7293), s = n(5112), c = n(8880), l = s("species"), u = RegExp.prototype; e.exports = function (e, t, n, d) { var h = s(e), f = !a((function () { var t = {}; return t[h] = function () { return 7 }, 7 != ""[e](t) })), p = f && !a((function () { var t = !1, n = /a/; return "split" === e && ((n = {}).constructor = {}, n.constructor[l] = function () { return n }, n.flags = "", n[h] = /./[h]), n.exec = function () { return t = !0, null }, n[h](""), !t })); if (!f || !p || n) { var _ = r(/./[h]), v = t(h, ""[e], (function (e, t, n, o, a) { var s = r(e), c = t.exec; return c === i || c === u.exec ? f && !a ? { done: !0, value: _(t, n, o) } : { done: !0, value: s(n, t, o) } : { done: !1 } })); o(String.prototype, e, v[0]), o(u, h, v[1]) } d && c(u[h], "sham", !0) } }, 6677: (e, t, n) => { var r = n(7293); e.exports = !r((function () { return Object.isExtensible(Object.preventExtensions({})) })) }, 2104: (e, t, n) => { var r = n(4374), o = Function.prototype, i = o.apply, a = o.call; e.exports = "object" == typeof Reflect && Reflect.apply || (r ? a.bind(i) : function () { return a.apply(i, arguments) }) }, 9974: (e, t, n) => { var r = n(1702), o = n(9662), i = n(4374), a = r(r.bind); e.exports = function (e, t) { return o(e), void 0 === t ? e : i ? a(e, t) : function () { return e.apply(t, arguments) } } }, 4374: (e, t, n) => { var r = n(7293); e.exports = !r((function () { var e = function () { }.bind(); return "function" != typeof e || e.hasOwnProperty("prototype") })) }, 7065: (e, t, n) => { "use strict"; var r = n(1702), o = n(9662), i = n(111), a = n(2597), s = n(206), c = n(4374), l = Function, u = r([].concat), d = r([].join), h = {}, f = function (e, t, n) { if (!a(h, t)) { for (var r = [], o = 0; o < t; o++)r[o] = "a[" + o + "]"; h[t] = l("C,a", "return new C(" + d(r, ",") + ")") } return h[t](e, n) }; e.exports = c ? l.bind : function (e) { var t = o(this), n = t.prototype, r = s(arguments, 1), a = function () { var n = u(r, s(arguments)); return this instanceof a ? f(t, n.length, n) : t.apply(e, n) }; return i(n) && (a.prototype = n), a } }, 6916: (e, t, n) => { var r = n(4374), o = Function.prototype.call; e.exports = r ? o.bind(o) : function () { return o.apply(o, arguments) } }, 6530: (e, t, n) => { var r = n(9781), o = n(2597), i = Function.prototype, a = r && Object.getOwnPropertyDescriptor, s = o(i, "name"), c = s && "something" === function () { }.name, l = s && (!r || r && a(i, "name").configurable); e.exports = { EXISTS: s, PROPER: c, CONFIGURABLE: l } }, 84: (e, t, n) => { var r = n(4374), o = Function.prototype, i = o.call, a = r && o.bind.bind(i, i); e.exports = r ? a : function (e) { return function () { return i.apply(e, arguments) } } }, 1702: (e, t, n) => { var r = n(4326), o = n(84); e.exports = function (e) { if ("Function" === r(e)) return o(e) } }, 5005: (e, t, n) => { var r = n(7854), o = n(614), i = function (e) { return o(e) ? e : void 0 }; e.exports = function (e, t) { return arguments.length < 2 ? i(r[e]) : r[e] && r[e][t] } }, 1246: (e, t, n) => { var r = n(648), o = n(8173), i = n(8554), a = n(7497), s = n(5112)("iterator"); e.exports = function (e) { if (!i(e)) return o(e, s) || o(e, "@@iterator") || a[r(e)] } }, 4121: (e, t, n) => { var r = n(6916), o = n(9662), i = n(9670), a = n(6330), s = n(1246), c = TypeError; e.exports = function (e, t) { var n = arguments.length < 2 ? s(e) : t; if (o(n)) return i(r(n, e)); throw c(a(e) + " is not iterable") } }, 8173: (e, t, n) => { var r = n(9662), o = n(8554); e.exports = function (e, t) { var n = e[t]; return o(n) ? void 0 : r(n) } }, 647: (e, t, n) => { var r = n(1702), o = n(7908), i = Math.floor, a = r("".charAt), s = r("".replace), c = r("".slice), l = /\$([$&'`]|\d{1,2}|<[^>]*>)/g, u = /\$([$&'`]|\d{1,2})/g; e.exports = function (e, t, n, r, d, h) { var f = n + e.length, p = r.length, _ = u; return void 0 !== d && (d = o(d), _ = l), s(h, _, (function (o, s) { var l; switch (a(s, 0)) { case "$": return "$"; case "&": return e; case "`": return c(t, 0, n); case "'": return c(t, f); case "<": l = d[c(s, 1, -1)]; break; default: var u = +s; if (0 === u) return o; if (u > p) { var h = i(u / 10); return 0 === h ? o : h <= p ? void 0 === r[h - 1] ? a(s, 1) : r[h - 1] + a(s, 1) : o } l = r[u - 1] }return void 0 === l ? "" : l })) } }, 7854: (e, t, n) => { var r = function (e) { return e && e.Math == Math && e }; e.exports = r("object" == typeof globalThis && globalThis) || r("object" == typeof window && window) || r("object" == typeof self && self) || r("object" == typeof n.g && n.g) || function () { return this }() || Function("return this")() }, 2597: (e, t, n) => { var r = n(1702), o = n(7908), i = r({}.hasOwnProperty); e.exports = Object.hasOwn || function (e, t) { return i(o(e), t) } }, 3501: e => { e.exports = {} }, 490: (e, t, n) => { var r = n(5005); e.exports = r("document", "documentElement") }, 4664: (e, t, n) => { var r = n(9781), o = n(7293), i = n(317); e.exports = !r && !o((function () { return 7 != Object.defineProperty(i("div"), "a", { get: function () { return 7 } }).a })) }, 8361: (e, t, n) => { var r = n(1702), o = n(7293), i = n(4326), a = Object, s = r("".split); e.exports = o((function () { return !a("z").propertyIsEnumerable(0) })) ? function (e) { return "String" == i(e) ? s(e, "") : a(e) } : a }, 9587: (e, t, n) => { var r = n(614), o = n(111), i = n(7674); e.exports = function (e, t, n) { var a, s; return i && r(a = t.constructor) && a !== n && o(s = a.prototype) && s !== n.prototype && i(e, s), e } }, 2788: (e, t, n) => { var r = n(1702), o = n(614), i = n(5465), a = r(Function.toString); o(i.inspectSource) || (i.inspectSource = function (e) { return a(e) }), e.exports = i.inspectSource }, 8340: (e, t, n) => { var r = n(111), o = n(8880); e.exports = function (e, t) { r(t) && "cause" in t && o(e, "cause", t.cause) } }, 2423: (e, t, n) => { var r = n(2109), o = n(1702), i = n(3501), a = n(111), s = n(2597), c = n(3070).f, l = n(8006), u = n(1156), d = n(2050), h = n(9711), f = n(6677), p = !1, _ = h("meta"), v = 0, m = function (e) { c(e, _, { value: { objectID: "O" + v++, weakData: {} } }) }, g = e.exports = { enable: function () { g.enable = function () { }, p = !0; var e = l.f, t = o([].splice), n = {}; n[_] = 1, e(n).length && (l.f = function (n) { for (var r = e(n), o = 0, i = r.length; o < i; o++)if (r[o] === _) { t(r, o, 1); break } return r }, r({ target: "Object", stat: !0, forced: !0 }, { getOwnPropertyNames: u.f })) }, fastKey: function (e, t) { if (!a(e)) return "symbol" == typeof e ? e : ("string" == typeof e ? "S" : "P") + e; if (!s(e, _)) { if (!d(e)) return "F"; if (!t) return "E"; m(e) } return e[_].objectID }, getWeakData: function (e, t) { if (!s(e, _)) { if (!d(e)) return !0; if (!t) return !1; m(e) } return e[_].weakData }, onFreeze: function (e) { return f && p && d(e) && !s(e, _) && m(e), e } }; i[_] = !0 }, 9909: (e, t, n) => { var r, o, i, a = n(4811), s = n(7854), c = n(111), l = n(8880), u = n(2597), d = n(5465), h = n(6200), f = n(3501), p = "Object already initialized", _ = s.TypeError, v = s.WeakMap; if (a || d.state) { var m = d.state || (d.state = new v); m.get = m.get, m.has = m.has, m.set = m.set, r = function (e, t) { if (m.has(e)) throw _(p); return t.facade = e, m.set(e, t), t }, o = function (e) { return m.get(e) || {} }, i = function (e) { return m.has(e) } } else { var g = h("state"); f[g] = !0, r = function (e, t) { if (u(e, g)) throw _(p); return t.facade = e, l(e, g, t), t }, o = function (e) { return u(e, g) ? e[g] : {} }, i = function (e) { return u(e, g) } } e.exports = { set: r, get: o, has: i, enforce: function (e) { return i(e) ? o(e) : r(e, {}) }, getterFor: function (e) { return function (t) { var n; if (!c(t) || (n = o(t)).type !== e) throw _("Incompatible receiver, " + e + " required"); return n } } } }, 7659: (e, t, n) => { var r = n(5112), o = n(7497), i = r("iterator"), a = Array.prototype; e.exports = function (e) { return void 0 !== e && (o.Array === e || a[i] === e) } }, 3157: (e, t, n) => { var r = n(4326); e.exports = Array.isArray || function (e) { return "Array" == r(e) } }, 614: (e, t, n) => { var r = n(4154), o = r.all; e.exports = r.IS_HTMLDDA ? function (e) { return "function" == typeof e || e === o } : function (e) { return "function" == typeof e } }, 4411: (e, t, n) => { var r = n(1702), o = n(7293), i = n(614), a = n(648), s = n(5005), c = n(2788), l = function () { }, u = [], d = s("Reflect", "construct"), h = /^\s*(?:class|function)\b/, f = r(h.exec), p = !h.exec(l), _ = function (e) { if (!i(e)) return !1; try { return d(l, u, e), !0 } catch (e) { return !1 } }, v = function (e) { if (!i(e)) return !1; switch (a(e)) { case "AsyncFunction": case "GeneratorFunction": case "AsyncGeneratorFunction": return !1 }try { return p || !!f(h, c(e)) } catch (e) { return !0 } }; v.sham = !0, e.exports = !d || o((function () { var e; return _(_.call) || !_(Object) || !_((function () { e = !0 })) || e })) ? v : _ }, 4705: (e, t, n) => { var r = n(7293), o = n(614), i = /#|\.prototype\./, a = function (e, t) { var n = c[s(e)]; return n == u || n != l && (o(t) ? r(t) : !!t) }, s = a.normalize = function (e) { return String(e).replace(i, ".").toLowerCase() }, c = a.data = {}, l = a.NATIVE = "N", u = a.POLYFILL = "P"; e.exports = a }, 8554: e => { e.exports = function (e) { return null == e } }, 111: (e, t, n) => { var r = n(614), o = n(4154), i = o.all; e.exports = o.IS_HTMLDDA ? function (e) { return "object" == typeof e ? null !== e : r(e) || e === i } : function (e) { return "object" == typeof e ? null !== e : r(e) } }, 1913: e => { e.exports = !1 }, 7850: (e, t, n) => { var r = n(111), o = n(4326), i = n(5112)("match"); e.exports = function (e) { var t; return r(e) && (void 0 !== (t = e[i]) ? !!t : "RegExp" == o(e)) } }, 2190: (e, t, n) => { var r = n(5005), o = n(614), i = n(7976), a = n(3307), s = Object; e.exports = a ? function (e) { return "symbol" == typeof e } : function (e) { var t = r("Symbol"); return o(t) && i(t.prototype, s(e)) } }, 408: (e, t, n) => { var r = n(9974), o = n(6916), i = n(9670), a = n(6330), s = n(7659), c = n(6244), l = n(7976), u = n(4121), d = n(1246), h = n(9212), f = TypeError, p = function (e, t) { this.stopped = e, this.result = t }, _ = p.prototype; e.exports = function (e, t, n) { var v, m, g, A, y, B, b, C = n && n.that, E = !(!n || !n.AS_ENTRIES), w = !(!n || !n.IS_RECORD), k = !(!n || !n.IS_ITERATOR), D = !(!n || !n.INTERRUPTED), x = r(t, C), S = function (e) { return v && h(v, "normal", e), new p(!0, e) }, M = function (e) { return E ? (i(e), D ? x(e[0], e[1], S) : x(e[0], e[1])) : D ? x(e, S) : x(e) }; if (w) v = e.iterator; else if (k) v = e; else { if (!(m = d(e))) throw f(a(e) + " is not iterable"); if (s(m)) { for (g = 0, A = c(e); A > g; g++)if ((y = M(e[g])) && l(_, y)) return y; return new p(!1) } v = u(e, m) } for (B = w ? e.next : v.next; !(b = o(B, v)).done;) { try { y = M(b.value) } catch (e) { h(v, "throw", e) } if ("object" == typeof y && y && l(_, y)) return y } return new p(!1) } }, 9212: (e, t, n) => { var r = n(6916), o = n(9670), i = n(8173); e.exports = function (e, t, n) { var a, s; o(e); try { if (!(a = i(e, "return"))) { if ("throw" === t) throw n; return n } a = r(a, e) } catch (e) { s = !0, a = e } if ("throw" === t) throw n; if (s) throw a; return o(a), n } }, 3061: (e, t, n) => { "use strict"; var r = n(3383).IteratorPrototype, o = n(30), i = n(9114), a = n(8003), s = n(7497), c = function () { return this }; e.exports = function (e, t, n, l) { var u = t + " Iterator"; return e.prototype = o(r, { next: i(+!l, n) }), a(e, u, !1, !0), s[u] = c, e } }, 1656: (e, t, n) => { "use strict"; var r = n(2109), o = n(6916), i = n(1913), a = n(6530), s = n(614), c = n(3061), l = n(9518), u = n(7674), d = n(8003), h = n(8880), f = n(8052), p = n(5112), _ = n(7497), v = n(3383), m = a.PROPER, g = a.CONFIGURABLE, A = v.IteratorPrototype, y = v.BUGGY_SAFARI_ITERATORS, B = p("iterator"), b = "keys", C = "values", E = "entries", w = function () { return this }; e.exports = function (e, t, n, a, p, v, k) { c(n, t, a); var D, x, S, M = function (e) { if (e === p && P) return P; if (!y && e in O) return O[e]; switch (e) { case b: case C: case E: return function () { return new n(this, e) } }return function () { return new n(this) } }, F = t + " Iterator", T = !1, O = e.prototype, I = O[B] || O["@@iterator"] || p && O[p], P = !y && I || M(p), R = "Array" == t && O.entries || I; if (R && (D = l(R.call(new e))) !== Object.prototype && D.next && (i || l(D) === A || (u ? u(D, A) : s(D[B]) || f(D, B, w)), d(D, F, !0, !0), i && (_[F] = w)), m && p == C && I && I.name !== C && (!i && g ? h(O, "name", C) : (T = !0, P = function () { return o(I, this) })), p) if (x = { values: M(C), keys: v ? P : M(b), entries: M(E) }, k) for (S in x) (y || T || !(S in O)) && f(O, S, x[S]); else r({ target: t, proto: !0, forced: y || T }, x); return i && !k || O[B] === P || f(O, B, P, { name: p }), _[t] = P, x } }, 3383: (e, t, n) => { "use strict"; var r, o, i, a = n(7293), s = n(614), c = n(111), l = n(30), u = n(9518), d = n(8052), h = n(5112), f = n(1913), p = h("iterator"), _ = !1;[].keys && ("next" in (i = [].keys()) ? (o = u(u(i))) !== Object.prototype && (r = o) : _ = !0), !c(r) || a((function () { var e = {}; return r[p].call(e) !== e })) ? r = {} : f && (r = l(r)), s(r[p]) || d(r, p, (function () { return this })), e.exports = { IteratorPrototype: r, BUGGY_SAFARI_ITERATORS: _ } }, 7497: e => { e.exports = {} }, 6244: (e, t, n) => { var r = n(7466); e.exports = function (e) { return r(e.length) } }, 6339: (e, t, n) => { var r = n(7293), o = n(614), i = n(2597), a = n(9781), s = n(6530).CONFIGURABLE, c = n(2788), l = n(9909), u = l.enforce, d = l.get, h = Object.defineProperty, f = a && !r((function () { return 8 !== h((function () { }), "length", { value: 8 }).length })), p = String(String).split("String"), _ = e.exports = function (e, t, n) { "Symbol(" === String(t).slice(0, 7) && (t = "[" + String(t).replace(/^Symbol\(([^)]*)\)/, "$1") + "]"), n && n.getter && (t = "get " + t), n && n.setter && (t = "set " + t), (!i(e, "name") || s && e.name !== t) && (a ? h(e, "name", { value: t, configurable: !0 }) : e.name = t), f && n && i(n, "arity") && e.length !== n.arity && h(e, "length", { value: n.arity }); try { n && i(n, "constructor") && n.constructor ? a && h(e, "prototype", { writable: !1 }) : e.prototype && (e.prototype = void 0) } catch (e) { } var r = u(e); return i(r, "source") || (r.source = p.join("string" == typeof t ? t : "")), e }; Function.prototype.toString = _((function () { return o(this) && d(this).source || c(this) }), "toString") }, 4758: e => { var t = Math.ceil, n = Math.floor; e.exports = Math.trunc || function (e) { var r = +e; return (r > 0 ? n : t)(r) } }, 6277: (e, t, n) => { var r = n(1340); e.exports = function (e, t) { return void 0 === e ? arguments.length < 2 ? "" : t : r(e) } }, 3929: (e, t, n) => { var r = n(7850), o = TypeError; e.exports = function (e) { if (r(e)) throw o("The method doesn't accept regular expressions"); return e } }, 2814: (e, t, n) => { var r = n(7854), o = n(7293), i = n(1702), a = n(1340), s = n(3111).trim, c = n(1361), l = i("".charAt), u = r.parseFloat, d = r.Symbol, h = d && d.iterator, f = 1 / u(c + "-0") != -1 / 0 || h && !o((function () { u(Object(h)) })); e.exports = f ? function (e) { var t = s(a(e)), n = u(t); return 0 === n && "-" == l(t, 0) ? -0 : n } : u }, 3009: (e, t, n) => { var r = n(7854), o = n(7293), i = n(1702), a = n(1340), s = n(3111).trim, c = n(1361), l = r.parseInt, u = r.Symbol, d = u && u.iterator, h = /^[+-]?0x/i, f = i(h.exec), p = 8 !== l(c + "08") || 22 !== l(c + "0x16") || d && !o((function () { l(Object(d)) })); e.exports = p ? function (e, t) { var n = s(a(e)); return l(n, t >>> 0 || (f(h, n) ? 16 : 10)) } : l }, 1574: (e, t, n) => { "use strict"; var r = n(9781), o = n(1702), i = n(6916), a = n(7293), s = n(1956), c = n(5181), l = n(5296), u = n(7908), d = n(8361), h = Object.assign, f = Object.defineProperty, p = o([].concat); e.exports = !h || a((function () { if (r && 1 !== h({ b: 1 }, h(f({}, "a", { enumerable: !0, get: function () { f(this, "b", { value: 3, enumerable: !1 }) } }), { b: 2 })).b) return !0; var e = {}, t = {}, n = Symbol(), o = "abcdefghijklmnopqrst"; return e[n] = 7, o.split("").forEach((function (e) { t[e] = e })), 7 != h({}, e)[n] || s(h({}, t)).join("") != o })) ? function (e, t) { for (var n = u(e), o = arguments.length, a = 1, h = c.f, f = l.f; o > a;)for (var _, v = d(arguments[a++]), m = h ? p(s(v), h(v)) : s(v), g = m.length, A = 0; g > A;)_ = m[A++], r && !i(f, v, _) || (n[_] = v[_]); return n } : h }, 30: (e, t, n) => { var r, o = n(9670), i = n(6048), a = n(748), s = n(3501), c = n(490), l = n(317), u = n(6200)("IE_PROTO"), d = function () { }, h = function (e) { return "<script>" + e + "<\/script>" }, f = function (e) { e.write(h("")), e.close(); var t = e.parentWindow.Object; return e = null, t }, p = function () { try { r = new ActiveXObject("htmlfile") } catch (e) { } var e, t; p = "undefined" != typeof document ? document.domain && r ? f(r) : ((t = l("iframe")).style.display = "none", c.appendChild(t), t.src = String("javascript:"), (e = t.contentWindow.document).open(), e.write(h("document.F=Object")), e.close(), e.F) : f(r); for (var n = a.length; n--;)delete p.prototype[a[n]]; return p() }; s[u] = !0, e.exports = Object.create || function (e, t) { var n; return null !== e ? (d.prototype = o(e), n = new d, d.prototype = null, n[u] = e) : n = p(), void 0 === t ? n : i.f(n, t) } }, 6048: (e, t, n) => { var r = n(9781), o = n(3353), i = n(3070), a = n(9670), s = n(5656), c = n(1956); t.f = r && !o ? Object.defineProperties : function (e, t) { a(e); for (var n, r = s(t), o = c(t), l = o.length, u = 0; l > u;)i.f(e, n = o[u++], r[n]); return e } }, 3070: (e, t, n) => { var r = n(9781), o = n(4664), i = n(3353), a = n(9670), s = n(4948), c = TypeError, l = Object.defineProperty, u = Object.getOwnPropertyDescriptor; t.f = r ? i ? function (e, t, n) { if (a(e), t = s(t), a(n), "function" == typeof e && "prototype" === t && "value" in n && "writable" in n && !n.writable) { var r = u(e, t); r && r.writable && (e[t] = n.value, n = { configurable: "configurable" in n ? n.configurable : r.configurable, enumerable: "enumerable" in n ? n.enumerable : r.enumerable, writable: !1 }) } return l(e, t, n) } : l : function (e, t, n) { if (a(e), t = s(t), a(n), o) try { return l(e, t, n) } catch (e) { } if ("get" in n || "set" in n) throw c("Accessors not supported"); return "value" in n && (e[t] = n.value), e } }, 1236: (e, t, n) => { var r = n(9781), o = n(6916), i = n(5296), a = n(9114), s = n(5656), c = n(4948), l = n(2597), u = n(4664), d = Object.getOwnPropertyDescriptor; t.f = r ? d : function (e, t) { if (e = s(e), t = c(t), u) try { return d(e, t) } catch (e) { } if (l(e, t)) return a(!o(i.f, e, t), e[t]) } }, 1156: (e, t, n) => { var r = n(4326), o = n(5656), i = n(8006).f, a = n(1589), s = "object" == typeof window && window && Object.getOwnPropertyNames ? Object.getOwnPropertyNames(window) : []; e.exports.f = function (e) { return s && "Window" == r(e) ? function (e) { try { return i(e) } catch (e) { return a(s) } }(e) : i(o(e)) } }, 8006: (e, t, n) => { var r = n(6324), o = n(748).concat("length", "prototype"); t.f = Object.getOwnPropertyNames || function (e) { return r(e, o) } }, 5181: (e, t) => { t.f = Object.getOwnPropertySymbols }, 9518: (e, t, n) => { var r = n(2597), o = n(614), i = n(7908), a = n(6200), s = n(8544), c = a("IE_PROTO"), l = Object, u = l.prototype; e.exports = s ? l.getPrototypeOf : function (e) { var t = i(e); if (r(t, c)) return t[c]; var n = t.constructor; return o(n) && t instanceof n ? n.prototype : t instanceof l ? u : null } }, 2050: (e, t, n) => { var r = n(7293), o = n(111), i = n(4326), a = n(7556), s = Object.isExtensible, c = r((function () { s(1) })); e.exports = c || a ? function (e) { return !!o(e) && (!a || "ArrayBuffer" != i(e)) && (!s || s(e)) } : s }, 7976: (e, t, n) => { var r = n(1702); e.exports = r({}.isPrototypeOf) }, 6324: (e, t, n) => { var r = n(1702), o = n(2597), i = n(5656), a = n(1318).indexOf, s = n(3501), c = r([].push); e.exports = function (e, t) { var n, r = i(e), l = 0, u = []; for (n in r) !o(s, n) && o(r, n) && c(u, n); for (; t.length > l;)o(r, n = t[l++]) && (~a(u, n) || c(u, n)); return u } }, 1956: (e, t, n) => { var r = n(6324), o = n(748); e.exports = Object.keys || function (e) { return r(e, o) } }, 5296: (e, t) => { "use strict"; var n = {}.propertyIsEnumerable, r = Object.getOwnPropertyDescriptor, o = r && !n.call({ 1: 2 }, 1); t.f = o ? function (e) { var t = r(this, e); return !!t && t.enumerable } : n }, 7674: (e, t, n) => { var r = n(1702), o = n(9670), i = n(6077); e.exports = Object.setPrototypeOf || ("__proto__" in {} ? function () { var e, t = !1, n = {}; try { (e = r(Object.getOwnPropertyDescriptor(Object.prototype, "__proto__").set))(n, []), t = n instanceof Array } catch (e) { } return function (n, r) { return o(n), i(r), t ? e(n, r) : n.__proto__ = r, n } }() : void 0) }, 4699: (e, t, n) => { var r = n(9781), o = n(1702), i = n(1956), a = n(5656), s = o(n(5296).f), c = o([].push), l = function (e) { return function (t) { for (var n, o = a(t), l = i(o), u = l.length, d = 0, h = []; u > d;)n = l[d++], r && !s(o, n) || c(h, e ? [n, o[n]] : o[n]); return h } }; e.exports = { entries: l(!0), values: l(!1) } }, 288: (e, t, n) => { "use strict"; var r = n(1694), o = n(648); e.exports = r ? {}.toString : function () { return "[object " + o(this) + "]" } }, 2140: (e, t, n) => { var r = n(6916), o = n(614), i = n(111), a = TypeError; e.exports = function (e, t) { var n, s; if ("string" === t && o(n = e.toString) && !i(s = r(n, e))) return s; if (o(n = e.valueOf) && !i(s = r(n, e))) return s; if ("string" !== t && o(n = e.toString) && !i(s = r(n, e))) return s; throw a("Can't convert object to primitive value") } }, 3887: (e, t, n) => { var r = n(5005), o = n(1702), i = n(8006), a = n(5181), s = n(9670), c = o([].concat); e.exports = r("Reflect", "ownKeys") || function (e) { var t = i.f(s(e)), n = a.f; return n ? c(t, n(e)) : t } }, 857: (e, t, n) => { var r = n(7854); e.exports = r }, 2626: (e, t, n) => { var r = n(3070).f; e.exports = function (e, t, n) { n in e || r(e, n, { configurable: !0, get: function () { return t[n] }, set: function (e) { t[n] = e } }) } }, 7651: (e, t, n) => { var r = n(6916), o = n(9670), i = n(614), a = n(4326), s = n(2261), c = TypeError; e.exports = function (e, t) { var n = e.exec; if (i(n)) { var l = r(n, e, t); return null !== l && o(l), l } if ("RegExp" === a(e)) return r(s, e, t); throw c("RegExp#exec called on incompatible receiver") } }, 2261: (e, t, n) => { "use strict"; var r, o, i = n(6916), a = n(1702), s = n(1340), c = n(7066), l = n(2999), u = n(2309), d = n(30), h = n(9909).get, f = n(9441), p = n(7168), _ = u("native-string-replace", String.prototype.replace), v = RegExp.prototype.exec, m = v, g = a("".charAt), A = a("".indexOf), y = a("".replace), B = a("".slice), b = (o = /b*/g, i(v, r = /a/, "a"), i(v, o, "a"), 0 !== r.lastIndex || 0 !== o.lastIndex), C = l.BROKEN_CARET, E = void 0 !== /()??/.exec("")[1]; (b || E || C || f || p) && (m = function (e) { var t, n, r, o, a, l, u, f = this, p = h(f), w = s(e), k = p.raw; if (k) return k.lastIndex = f.lastIndex, t = i(m, k, w), f.lastIndex = k.lastIndex, t; var D = p.groups, x = C && f.sticky, S = i(c, f), M = f.source, F = 0, T = w; if (x && (S = y(S, "y", ""), -1 === A(S, "g") && (S += "g"), T = B(w, f.lastIndex), f.lastIndex > 0 && (!f.multiline || f.multiline && "\n" !== g(w, f.lastIndex - 1)) && (M = "(?: " + M + ")", T = " " + T, F++), n = new RegExp("^(?:" + M + ")", S)), E && (n = new RegExp("^" + M + "$(?!\\s)", S)), b && (r = f.lastIndex), o = i(v, x ? n : f, T), x ? o ? (o.input = B(o.input, F), o[0] = B(o[0], F), o.index = f.lastIndex, f.lastIndex += o[0].length) : f.lastIndex = 0 : b && o && (f.lastIndex = f.global ? o.index + o[0].length : r), E && o && o.length > 1 && i(_, o[0], n, (function () { for (a = 1; a < arguments.length - 2; a++)void 0 === arguments[a] && (o[a] = void 0) })), o && D) for (o.groups = l = d(null), a = 0; a < D.length; a++)l[(u = D[a])[0]] = o[u[1]]; return o }), e.exports = m }, 7066: (e, t, n) => { "use strict"; var r = n(9670); e.exports = function () { var e = r(this), t = ""; return e.hasIndices && (t += "d"), e.global && (t += "g"), e.ignoreCase && (t += "i"), e.multiline && (t += "m"), e.dotAll && (t += "s"), e.unicode && (t += "u"), e.unicodeSets && (t += "v"), e.sticky && (t += "y"), t } }, 4706: (e, t, n) => { var r = n(6916), o = n(2597), i = n(7976), a = n(7066), s = RegExp.prototype; e.exports = function (e) { var t = e.flags; return void 0 !== t || "flags" in s || o(e, "flags") || !i(s, e) ? t : r(a, e) } }, 2999: (e, t, n) => { var r = n(7293), o = n(7854).RegExp, i = r((function () { var e = o("a", "y"); return e.lastIndex = 2, null != e.exec("abcd") })), a = i || r((function () { return !o("a", "y").sticky })), s = i || r((function () { var e = o("^r", "gy"); return e.lastIndex = 2, null != e.exec("str") })); e.exports = { BROKEN_CARET: s, MISSED_STICKY: a, UNSUPPORTED_Y: i } }, 9441: (e, t, n) => { var r = n(7293), o = n(7854).RegExp; e.exports = r((function () { var e = o(".", "s"); return !(e.dotAll && e.exec("\n") && "s" === e.flags) })) }, 7168: (e, t, n) => { var r = n(7293), o = n(7854).RegExp; e.exports = r((function () { var e = o("(?<a>b)", "g"); return "b" !== e.exec("b").groups.a || "bc" !== "b".replace(e, "$<a>c") })) }, 4488: (e, t, n) => { var r = n(8554), o = TypeError; e.exports = function (e) { if (r(e)) throw o("Can't call method on " + e); return e } }, 7152: (e, t, n) => { var r = n(7854), o = n(2104), i = n(614), a = n(8113), s = n(206), c = n(8053), l = /MSIE .\./.test(a), u = r.Function, d = function (e) { return l ? function (t, n) { var r = c(arguments.length, 1) > 2, a = i(t) ? t : u(t), l = r ? s(arguments, 2) : void 0; return e(r ? function () { o(a, this, l) } : a, n) } : e }; e.exports = { setTimeout: d(r.setTimeout), setInterval: d(r.setInterval) } }, 6340: (e, t, n) => { "use strict"; var r = n(5005), o = n(3070), i = n(5112), a = n(9781), s = i("species"); e.exports = function (e) { var t = r(e), n = o.f; a && t && !t[s] && n(t, s, { configurable: !0, get: function () { return this } }) } }, 8003: (e, t, n) => { var r = n(3070).f, o = n(2597), i = n(5112)("toStringTag"); e.exports = function (e, t, n) { e && !n && (e = e.prototype), e && !o(e, i) && r(e, i, { configurable: !0, value: t }) } }, 6200: (e, t, n) => { var r = n(2309), o = n(9711), i = r("keys"); e.exports = function (e) { return i[e] || (i[e] = o(e)) } }, 5465: (e, t, n) => { var r = n(7854), o = n(3072), i = "__core-js_shared__", a = r[i] || o(i, {}); e.exports = a }, 2309: (e, t, n) => { var r = n(1913), o = n(5465); (e.exports = function (e, t) { return o[e] || (o[e] = void 0 !== t ? t : {}) })("versions", []).push({ version: "3.26.0", mode: r ? "pure" : "global", copyright: "© 2014-2022 Denis Pushkarev (zloirock.ru)", license: "https://github.com/zloirock/core-js/blob/v3.26.0/LICENSE", source: "https://github.com/zloirock/core-js" }) }, 6707: (e, t, n) => { var r = n(9670), o = n(9483), i = n(8554), a = n(5112)("species"); e.exports = function (e, t) { var n, s = r(e).constructor; return void 0 === s || i(n = r(s)[a]) ? t : o(n) } }, 8710: (e, t, n) => { var r = n(1702), o = n(9303), i = n(1340), a = n(4488), s = r("".charAt), c = r("".charCodeAt), l = r("".slice), u = function (e) { return function (t, n) { var r, u, d = i(a(t)), h = o(n), f = d.length; return h < 0 || h >= f ? e ? "" : void 0 : (r = c(d, h)) < 55296 || r > 56319 || h + 1 === f || (u = c(d, h + 1)) < 56320 || u > 57343 ? e ? s(d, h) : r : e ? l(d, h, h + 2) : u - 56320 + (r - 55296 << 10) + 65536 } }; e.exports = { codeAt: u(!1), charAt: u(!0) } }, 3197: (e, t, n) => { "use strict"; var r = n(1702), o = 2147483647, i = /[^\0-\u007E]/, a = /[.\u3002\uFF0E\uFF61]/g, s = "Overflow: input needs wider integers to process", c = RangeError, l = r(a.exec), u = Math.floor, d = String.fromCharCode, h = r("".charCodeAt), f = r([].join), p = r([].push), _ = r("".replace), v = r("".split), m = r("".toLowerCase), g = function (e) { return e + 22 + 75 * (e < 26) }, A = function (e, t, n) { var r = 0; for (e = n ? u(e / 700) : e >> 1, e += u(e / t); e > 455;)e = u(e / 35), r += 36; return u(r + 36 * e / (e + 38)) }, y = function (e) { var t = []; e = function (e) { for (var t = [], n = 0, r = e.length; n < r;) { var o = h(e, n++); if (o >= 55296 && o <= 56319 && n < r) { var i = h(e, n++); 56320 == (64512 & i) ? p(t, ((1023 & o) << 10) + (1023 & i) + 65536) : (p(t, o), n--) } else p(t, o) } return t }(e); var n, r, i = e.length, a = 128, l = 0, _ = 72; for (n = 0; n < e.length; n++)(r = e[n]) < 128 && p(t, d(r)); var v = t.length, m = v; for (v && p(t, "-"); m < i;) { var y = o; for (n = 0; n < e.length; n++)(r = e[n]) >= a && r < y && (y = r); var B = m + 1; if (y - a > u((o - l) / B)) throw c(s); for (l += (y - a) * B, a = y, n = 0; n < e.length; n++) { if ((r = e[n]) < a && ++l > o) throw c(s); if (r == a) { for (var b = l, C = 36; ;) { var E = C <= _ ? 1 : C >= _ + 26 ? 26 : C - _; if (b < E) break; var w = b - E, k = 36 - E; p(t, d(g(E + w % k))), b = u(w / k), C += 36 } p(t, d(g(b))), _ = A(l, B, m == v), l = 0, m++ } } l++, a++ } return f(t, "") }; e.exports = function (e) { var t, n, r = [], o = v(_(m(e), a, "."), "."); for (t = 0; t < o.length; t++)n = o[t], p(r, l(i, n) ? "xn--" + y(n) : n); return f(r, ".") } }, 8415: (e, t, n) => { "use strict"; var r = n(9303), o = n(1340), i = n(4488), a = RangeError; e.exports = function (e) { var t = o(i(this)), n = "", s = r(e); if (s < 0 || s == 1 / 0) throw a("Wrong number of repetitions"); for (; s > 0; (s >>>= 1) && (t += t))1 & s && (n += t); return n } }, 6091: (e, t, n) => { var r = n(6530).PROPER, o = n(7293), i = n(1361); e.exports = function (e) { return o((function () { return !!i[e]() || "​᠎" !== "​᠎"[e]() || r && i[e].name !== e })) } }, 3111: (e, t, n) => { var r = n(1702), o = n(4488), i = n(1340), a = n(1361), s = r("".replace), c = "[" + a + "]", l = RegExp("^" + c + c + "*"), u = RegExp(c + c + "*$"), d = function (e) { return function (t) { var n = i(o(t)); return 1 & e && (n = s(n, l, "")), 2 & e && (n = s(n, u, "")), n } }; e.exports = { start: d(1), end: d(2), trim: d(3) } }, 6293: (e, t, n) => { var r = n(7392), o = n(7293); e.exports = !!Object.getOwnPropertySymbols && !o((function () { var e = Symbol(); return !String(e) || !(Object(e) instanceof Symbol) || !Symbol.sham && r && r < 41 })) }, 6532: (e, t, n) => { var r = n(6916), o = n(5005), i = n(5112), a = n(8052); e.exports = function () { var e = o("Symbol"), t = e && e.prototype, n = t && t.valueOf, s = i("toPrimitive"); t && !t[s] && a(t, s, (function (e) { return r(n, this) }), { arity: 1 }) } }, 2015: (e, t, n) => { var r = n(6293); e.exports = r && !!Symbol.for && !!Symbol.keyFor }, 863: (e, t, n) => { var r = n(1702); e.exports = r(1..valueOf) }, 1400: (e, t, n) => { var r = n(9303), o = Math.max, i = Math.min; e.exports = function (e, t) { var n = r(e); return n < 0 ? o(n + t, 0) : i(n, t) } }, 5656: (e, t, n) => { var r = n(8361), o = n(4488); e.exports = function (e) { return r(o(e)) } }, 9303: (e, t, n) => { var r = n(4758); e.exports = function (e) { var t = +e; return t != t || 0 === t ? 0 : r(t) } }, 7466: (e, t, n) => { var r = n(9303), o = Math.min; e.exports = function (e) { return e > 0 ? o(r(e), 9007199254740991) : 0 } }, 7908: (e, t, n) => { var r = n(4488), o = Object; e.exports = function (e) { return o(r(e)) } }, 7593: (e, t, n) => { var r = n(6916), o = n(111), i = n(2190), a = n(8173), s = n(2140), c = n(5112), l = TypeError, u = c("toPrimitive"); e.exports = function (e, t) { if (!o(e) || i(e)) return e; var n, c = a(e, u); if (c) { if (void 0 === t && (t = "default"), n = r(c, e, t), !o(n) || i(n)) return n; throw l("Can't convert object to primitive value") } return void 0 === t && (t = "number"), s(e, t) } }, 4948: (e, t, n) => { var r = n(7593), o = n(2190); e.exports = function (e) { var t = r(e, "string"); return o(t) ? t : t + "" } }, 1694: (e, t, n) => { var r = {}; r[n(5112)("toStringTag")] = "z", e.exports = "[object z]" === String(r) }, 1340: (e, t, n) => { var r = n(648), o = String; e.exports = function (e) { if ("Symbol" === r(e)) throw TypeError("Cannot convert a Symbol value to a string"); return o(e) } }, 6330: e => { var t = String; e.exports = function (e) { try { return t(e) } catch (e) { return "Object" } } }, 9711: (e, t, n) => { var r = n(1702), o = 0, i = Math.random(), a = r(1..toString); e.exports = function (e) { return "Symbol(" + (void 0 === e ? "" : e) + ")_" + a(++o + i, 36) } }, 5143: (e, t, n) => { var r = n(7293), o = n(5112), i = n(1913), a = o("iterator"); e.exports = !r((function () { var e = new URL("b?a=1&b=2&c=3", "http://a"), t = e.searchParams, n = ""; return e.pathname = "c%20d", t.forEach((function (e, r) { t.delete("b"), n += r + e })), i && !e.toJSON || !t.sort || "http://a/c%20d?a=1&c=3" !== e.href || "3" !== t.get("c") || "a=1" !== String(new URLSearchParams("?a=1")) || !t[a] || "a" !== new URL("https://a@b").username || "b" !== new URLSearchParams(new URLSearchParams("a=b")).get("a") || "xn--e1aybc" !== new URL("http://тест").host || "#%D0%B1" !== new URL("http://a#б").hash || "a1c3" !== n || "x" !== new URL("http://x", void 0).host })) }, 3307: (e, t, n) => { var r = n(6293); e.exports = r && !Symbol.sham && "symbol" == typeof Symbol.iterator }, 3353: (e, t, n) => { var r = n(9781), o = n(7293); e.exports = r && o((function () { return 42 != Object.defineProperty((function () { }), "prototype", { value: 42, writable: !1 }).prototype })) }, 8053: e => { var t = TypeError; e.exports = function (e, n) { if (e < n) throw t("Not enough arguments"); return e } }, 4811: (e, t, n) => { var r = n(7854), o = n(614), i = r.WeakMap; e.exports = o(i) && /native code/.test(String(i)) }, 6800: (e, t, n) => { var r = n(857), o = n(2597), i = n(6061), a = n(3070).f; e.exports = function (e) { var t = r.Symbol || (r.Symbol = {}); o(t, e) || a(t, e, { value: i.f(e) }) } }, 6061: (e, t, n) => { var r = n(5112); t.f = r }, 5112: (e, t, n) => { var r = n(7854), o = n(2309), i = n(2597), a = n(9711), s = n(6293), c = n(3307), l = o("wks"), u = r.Symbol, d = u && u.for, h = c ? u : u && u.withoutSetter || a; e.exports = function (e) { if (!i(l, e) || !s && "string" != typeof l[e]) { var t = "Symbol." + e; s && i(u, e) ? l[e] = u[e] : l[e] = c && d ? d(t) : h(t) } return l[e] } }, 1361: e => { e.exports = "\t\n\v\f\r                　\u2028\u2029\ufeff" }, 9191: (e, t, n) => { "use strict"; var r = n(5005), o = n(2597), i = n(8880), a = n(7976), s = n(7674), c = n(9920), l = n(2626), u = n(9587), d = n(6277), h = n(8340), f = n(1060), p = n(2914), _ = n(9781), v = n(1913); e.exports = function (e, t, n, m) { var g = "stackTraceLimit", A = m ? 2 : 1, y = e.split("."), B = y[y.length - 1], b = r.apply(null, y); if (b) { var C = b.prototype; if (!v && o(C, "cause") && delete C.cause, !n) return b; var E = r("Error"), w = t((function (e, t) { var n = d(m ? t : e, void 0), r = m ? new b(e) : new b; return void 0 !== n && i(r, "message", n), p && i(r, "stack", f(r.stack, 2)), this && a(C, this) && u(r, this, w), arguments.length > A && h(r, arguments[A]), r })); if (w.prototype = C, "Error" !== B ? s ? s(w, E) : c(w, E, { name: !0 }) : _ && g in b && (l(w, b, g), l(w, b, "prepareStackTrace")), c(w, b), !v) try { C.name !== B && i(C, "name", B), C.constructor = w } catch (e) { } return w } } }, 2222: (e, t, n) => { "use strict"; var r = n(2109), o = n(7293), i = n(3157), a = n(111), s = n(7908), c = n(6244), l = n(7207), u = n(6135), d = n(5417), h = n(1194), f = n(5112), p = n(7392), _ = f("isConcatSpreadable"), v = p >= 51 || !o((function () { var e = []; return e[_] = !1, e.concat()[0] !== e })), m = h("concat"), g = function (e) { if (!a(e)) return !1; var t = e[_]; return void 0 !== t ? !!t : i(e) }; r({ target: "Array", proto: !0, arity: 1, forced: !v || !m }, { concat: function (e) { var t, n, r, o, i, a = s(this), h = d(a, 0), f = 0; for (t = -1, r = arguments.length; t < r; t++)if (g(i = -1 === t ? a : arguments[t])) for (o = c(i), l(f + o), n = 0; n < o; n++, f++)n in i && u(h, f, i[n]); else l(f + 1), u(h, f++, i); return h.length = f, h } }) }, 7327: (e, t, n) => { "use strict"; var r = n(2109), o = n(2092).filter; r({ target: "Array", proto: !0, forced: !n(1194)("filter") }, { filter: function (e) { return o(this, e, arguments.length > 1 ? arguments[1] : void 0) } }) }, 4553: (e, t, n) => { "use strict"; var r = n(2109), o = n(2092).findIndex, i = n(1223), a = "findIndex", s = !0; a in [] && Array(1).findIndex((function () { s = !1 })), r({ target: "Array", proto: !0, forced: s }, { findIndex: function (e) { return o(this, e, arguments.length > 1 ? arguments[1] : void 0) } }), i(a) }, 9826: (e, t, n) => { "use strict"; var r = n(2109), o = n(2092).find, i = n(1223), a = "find", s = !0; a in [] && Array(1).find((function () { s = !1 })), r({ target: "Array", proto: !0, forced: s }, { find: function (e) { return o(this, e, arguments.length > 1 ? arguments[1] : void 0) } }), i(a) }, 9554: (e, t, n) => { "use strict"; var r = n(2109), o = n(8533); r({ target: "Array", proto: !0, forced: [].forEach != o }, { forEach: o }) }, 1038: (e, t, n) => { var r = n(2109), o = n(8457); r({ target: "Array", stat: !0, forced: !n(7072)((function (e) { Array.from(e) })) }, { from: o }) }, 6699: (e, t, n) => { "use strict"; var r = n(2109), o = n(1318).includes, i = n(7293), a = n(1223); r({ target: "Array", proto: !0, forced: i((function () { return !Array(1).includes() })) }, { includes: function (e) { return o(this, e, arguments.length > 1 ? arguments[1] : void 0) } }), a("includes") }, 2772: (e, t, n) => { "use strict"; var r = n(2109), o = n(1702), i = n(1318).indexOf, a = n(9341), s = o([].indexOf), c = !!s && 1 / s([1], 1, -0) < 0, l = a("indexOf"); r({ target: "Array", proto: !0, forced: c || !l }, { indexOf: function (e) { var t = arguments.length > 1 ? arguments[1] : void 0; return c ? s(this, e, t) || 0 : i(this, e, t) } }) }, 6992: (e, t, n) => { "use strict"; var r = n(5656), o = n(1223), i = n(7497), a = n(9909), s = n(3070).f, c = n(1656), l = n(6178), u = n(1913), d = n(9781), h = "Array Iterator", f = a.set, p = a.getterFor(h); e.exports = c(Array, "Array", (function (e, t) { f(this, { type: h, target: r(e), index: 0, kind: t }) }), (function () { var e = p(this), t = e.target, n = e.kind, r = e.index++; return !t || r >= t.length ? (e.target = void 0, l(void 0, !0)) : l("keys" == n ? r : "values" == n ? t[r] : [r, t[r]], !1) }), "values"); var _ = i.Arguments = i.Array; if (o("keys"), o("values"), o("entries"), !u && d && "values" !== _.name) try { s(_, "name", { value: "values" }) } catch (e) { } }, 9600: (e, t, n) => { "use strict"; var r = n(2109), o = n(1702), i = n(8361), a = n(5656), s = n(9341), c = o([].join), l = i != Object, u = s("join", ","); r({ target: "Array", proto: !0, forced: l || !u }, { join: function (e) { return c(a(this), void 0 === e ? "," : e) } }) }, 1249: (e, t, n) => { "use strict"; var r = n(2109), o = n(2092).map; r({ target: "Array", proto: !0, forced: !n(1194)("map") }, { map: function (e) { return o(this, e, arguments.length > 1 ? arguments[1] : void 0) } }) }, 7658: (e, t, n) => { "use strict"; var r = n(2109), o = n(7908), i = n(6244), a = n(3658), s = n(7207), c = n(7293)((function () { return 4294967297 !== [].push.call({ length: 4294967296 }, 1) })), l = !function () { try { Object.defineProperty([], "length", { writable: !1 }).push() } catch (e) { return e instanceof TypeError } }(); r({ target: "Array", proto: !0, arity: 1, forced: c || l }, { push: function (e) { var t = o(this), n = i(t), r = arguments.length; s(n + r); for (var c = 0; c < r; c++)t[n] = arguments[c], n++; return a(t, n), n } }) }, 5827: (e, t, n) => { "use strict"; var r = n(2109), o = n(3671).left, i = n(9341), a = n(7392), s = n(5268); r({ target: "Array", proto: !0, forced: !i("reduce") || !s && a > 79 && a < 83 }, { reduce: function (e) { var t = arguments.length; return o(this, e, t, t > 1 ? arguments[1] : void 0) } }) }, 561: (e, t, n) => { "use strict"; var r = n(2109), o = n(7908), i = n(1400), a = n(9303), s = n(6244), c = n(3658), l = n(7207), u = n(5417), d = n(6135), h = n(5117), f = n(1194)("splice"), p = Math.max, _ = Math.min; r({ target: "Array", proto: !0, forced: !f }, { splice: function (e, t) { var n, r, f, v, m, g, A = o(this), y = s(A), B = i(e, y), b = arguments.length; for (0 === b ? n = r = 0 : 1 === b ? (n = 0, r = y - B) : (n = b - 2, r = _(p(a(t), 0), y - B)), l(y + n - r), f = u(A, r), v = 0; v < r; v++)(m = B + v) in A && d(f, v, A[m]); if (f.length = r, n < r) { for (v = B; v < y - r; v++)g = v + n, (m = v + r) in A ? A[g] = A[m] : h(A, g); for (v = y; v > y - r + n; v--)h(A, v - 1) } else if (n > r) for (v = y - r; v > B; v--)g = v + n - 1, (m = v + r - 1) in A ? A[g] = A[m] : h(A, g); for (v = 0; v < n; v++)A[v + B] = arguments[v + 2]; return c(A, y - r + n), f } }) }, 541: (e, t, n) => { "use strict"; var r = n(2109), o = n(7908), i = n(6244), a = n(3658), s = n(5117), c = n(7207), l = 1 !== [].unshift(0), u = !function () { try { Object.defineProperty([], "length", { writable: !1 }).unshift() } catch (e) { return e instanceof TypeError } }(); r({ target: "Array", proto: !0, arity: 1, forced: l || u }, { unshift: function (e) { var t = o(this), n = i(t), r = arguments.length; if (r) { c(n + r); for (var l = n; l--;) { var u = l + r; l in t ? t[u] = t[l] : s(t, u) } for (var d = 0; d < r; d++)t[d] = arguments[d] } return a(t, n + r) } }) }, 3843: (e, t, n) => { var r = n(2109), o = n(1702), i = Date, a = o(i.prototype.getTime); r({ target: "Date", stat: !0 }, { now: function () { return a(new i) } }) }, 3710: (e, t, n) => { var r = n(1702), o = n(8052), i = Date.prototype, a = "Invalid Date", s = r(i.toString), c = r(i.getTime); String(new Date(NaN)) != a && o(i, "toString", (function () { var e = c(this); return e == e ? s(this) : a })) }, 1703: (e, t, n) => { var r = n(2109), o = n(7854), i = n(2104), a = n(9191), s = o.WebAssembly, c = 7 !== Error("e", { cause: 7 }).cause, l = function (e, t) { var n = {}; n[e] = a(e, t, c), r({ global: !0, constructor: !0, arity: 1, forced: c }, n) }, u = function (e, t) { if (s && s[e]) { var n = {}; n[e] = a("WebAssembly." + e, t, c), r({ target: "WebAssembly", stat: !0, constructor: !0, arity: 1, forced: c }, n) } }; l("Error", (function (e) { return function (t) { return i(e, this, arguments) } })), l("EvalError", (function (e) { return function (t) { return i(e, this, arguments) } })), l("RangeError", (function (e) { return function (t) { return i(e, this, arguments) } })), l("ReferenceError", (function (e) { return function (t) { return i(e, this, arguments) } })), l("SyntaxError", (function (e) { return function (t) { return i(e, this, arguments) } })), l("TypeError", (function (e) { return function (t) { return i(e, this, arguments) } })), l("URIError", (function (e) { return function (t) { return i(e, this, arguments) } })), u("CompileError", (function (e) { return function (t) { return i(e, this, arguments) } })), u("LinkError", (function (e) { return function (t) { return i(e, this, arguments) } })), u("RuntimeError", (function (e) { return function (t) { return i(e, this, arguments) } })) }, 6647: (e, t, n) => { var r = n(8052), o = n(7762), i = Error.prototype; i.toString !== o && r(i, "toString", o) }, 4812: (e, t, n) => { var r = n(2109), o = n(7065); r({ target: "Function", proto: !0, forced: Function.bind !== o }, { bind: o }) }, 8309: (e, t, n) => { var r = n(9781), o = n(6530).EXISTS, i = n(1702), a = n(3070).f, s = Function.prototype, c = i(s.toString), l = /function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/, u = i(l.exec); r && !o && a(s, "name", { configurable: !0, get: function () { try { return u(l, c(this))[1] } catch (e) { return "" } } }) }, 8862: (e, t, n) => { var r = n(2109), o = n(5005), i = n(2104), a = n(6916), s = n(1702), c = n(7293), l = n(3157), u = n(614), d = n(111), h = n(2190), f = n(206), p = n(6293), _ = o("JSON", "stringify"), v = s(/./.exec), m = s("".charAt), g = s("".charCodeAt), A = s("".replace), y = s(1..toString), B = /[\uD800-\uDFFF]/g, b = /^[\uD800-\uDBFF]$/, C = /^[\uDC00-\uDFFF]$/, E = !p || c((function () { var e = o("Symbol")(); return "[null]" != _([e]) || "{}" != _({ a: e }) || "{}" != _(Object(e)) })), w = c((function () { return '"\\udf06\\ud834"' !== _("\udf06\ud834") || '"\\udead"' !== _("\udead") })), k = function (e, t) { var n = f(arguments), r = t; if ((d(t) || void 0 !== e) && !h(e)) return l(t) || (t = function (e, t) { if (u(r) && (t = a(r, this, e, t)), !h(t)) return t }), n[1] = t, i(_, null, n) }, D = function (e, t, n) { var r = m(n, t - 1), o = m(n, t + 1); return v(b, e) && !v(C, o) || v(C, e) && !v(b, r) ? "\\u" + y(g(e, 0), 16) : e }; _ && r({ target: "JSON", stat: !0, arity: 3, forced: E || w }, { stringify: function (e, t, n) { var r = f(arguments), o = i(E ? k : _, null, r); return w && "string" == typeof o ? A(o, B, D) : o } }) }, 9098: (e, t, n) => { "use strict"; n(7710)("Map", (function (e) { return function () { return e(this, arguments.length ? arguments[0] : void 0) } }), n(5631)) }, 1532: (e, t, n) => { n(9098) }, 9653: (e, t, n) => { "use strict"; var r = n(9781), o = n(7854), i = n(1702), a = n(4705), s = n(8052), c = n(2597), l = n(9587), u = n(7976), d = n(2190), h = n(7593), f = n(7293), p = n(8006).f, _ = n(1236).f, v = n(3070).f, m = n(863), g = n(3111).trim, A = "Number", y = o.Number, B = y.prototype, b = o.TypeError, C = i("".slice), E = i("".charCodeAt), w = function (e) { var t = h(e, "number"); return "bigint" == typeof t ? t : k(t) }, k = function (e) { var t, n, r, o, i, a, s, c, l = h(e, "number"); if (d(l)) throw b("Cannot convert a Symbol value to a number"); if ("string" == typeof l && l.length > 2) if (l = g(l), 43 === (t = E(l, 0)) || 45 === t) { if (88 === (n = E(l, 2)) || 120 === n) return NaN } else if (48 === t) { switch (E(l, 1)) { case 66: case 98: r = 2, o = 49; break; case 79: case 111: r = 8, o = 55; break; default: return +l }for (a = (i = C(l, 2)).length, s = 0; s < a; s++)if ((c = E(i, s)) < 48 || c > o) return NaN; return parseInt(i, r) } return +l }; if (a(A, !y(" 0o1") || !y("0b1") || y("+0x1"))) { for (var D, x = function (e) { var t = arguments.length < 1 ? 0 : y(w(e)), n = this; return u(B, n) && f((function () { m(n) })) ? l(Object(t), n, x) : t }, S = r ? p(y) : "MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","), M = 0; S.length > M; M++)c(y, D = S[M]) && !c(x, D) && v(x, D, _(y, D)); x.prototype = B, B.constructor = x, s(o, A, x, { constructor: !0 }) } }, 9070: (e, t, n) => { var r = n(2109), o = n(9781), i = n(3070).f; r({ target: "Object", stat: !0, forced: Object.defineProperty !== i, sham: !o }, { defineProperty: i }) }, 9720: (e, t, n) => { var r = n(2109), o = n(4699).entries; r({ target: "Object", stat: !0 }, { entries: function (e) { return o(e) } }) }, 9660: (e, t, n) => { var r = n(2109), o = n(6293), i = n(7293), a = n(5181), s = n(7908); r({ target: "Object", stat: !0, forced: !o || i((function () { a.f(1) })) }, { getOwnPropertySymbols: function (e) { var t = a.f; return t ? t(s(e)) : [] } }) }, 7941: (e, t, n) => { var r = n(2109), o = n(7908), i = n(1956); r({ target: "Object", stat: !0, forced: n(7293)((function () { i(1) })) }, { keys: function (e) { return i(o(e)) } }) }, 1539: (e, t, n) => { var r = n(1694), o = n(8052), i = n(288); r || o(Object.prototype, "toString", i, { unsafe: !0 }) }, 6833: (e, t, n) => { var r = n(2109), o = n(4699).values; r({ target: "Object", stat: !0 }, { values: function (e) { return o(e) } }) }, 4678: (e, t, n) => { var r = n(2109), o = n(2814); r({ global: !0, forced: parseFloat != o }, { parseFloat: o }) }, 1058: (e, t, n) => { var r = n(2109), o = n(3009); r({ global: !0, forced: parseInt != o }, { parseInt: o }) }, 4603: (e, t, n) => { var r = n(9781), o = n(7854), i = n(1702), a = n(4705), s = n(9587), c = n(8880), l = n(8006).f, u = n(7976), d = n(7850), h = n(1340), f = n(4706), p = n(2999), _ = n(2626), v = n(8052), m = n(7293), g = n(2597), A = n(9909).enforce, y = n(6340), B = n(5112), b = n(9441), C = n(7168), E = B("match"), w = o.RegExp, k = w.prototype, D = o.SyntaxError, x = i(k.exec), S = i("".charAt), M = i("".replace), F = i("".indexOf), T = i("".slice), O = /^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/, I = /a/g, P = /a/g, R = new w(I) !== I, L = p.MISSED_STICKY, H = p.UNSUPPORTED_Y; if (a("RegExp", r && (!R || L || b || C || m((function () { return P[E] = !1, w(I) != I || w(P) == P || "/a/i" != w(I, "i") }))))) { for (var j = function (e, t) { var n, r, o, i, a, l, p = u(k, this), _ = d(e), v = void 0 === t, m = [], y = e; if (!p && _ && v && e.constructor === j) return e; if ((_ || u(k, e)) && (e = e.source, v && (t = f(y))), e = void 0 === e ? "" : h(e), t = void 0 === t ? "" : h(t), y = e, b && "dotAll" in I && (r = !!t && F(t, "s") > -1) && (t = M(t, /s/g, "")), n = t, L && "sticky" in I && (o = !!t && F(t, "y") > -1) && H && (t = M(t, /y/g, "")), C && (i = function (e) { for (var t, n = e.length, r = 0, o = "", i = [], a = {}, s = !1, c = !1, l = 0, u = ""; r <= n; r++) { if ("\\" === (t = S(e, r))) t += S(e, ++r); else if ("]" === t) s = !1; else if (!s) switch (!0) { case "[" === t: s = !0; break; case "(" === t: x(O, T(e, r + 1)) && (r += 2, c = !0), o += t, l++; continue; case ">" === t && c: if ("" === u || g(a, u)) throw new D("Invalid capture group name"); a[u] = !0, i[i.length] = [u, l], c = !1, u = ""; continue }c ? u += t : o += t } return [o, i] }(e), e = i[0], m = i[1]), a = s(w(e, t), p ? this : k, j), (r || o || m.length) && (l = A(a), r && (l.dotAll = !0, l.raw = j(function (e) { for (var t, n = e.length, r = 0, o = "", i = !1; r <= n; r++)"\\" !== (t = S(e, r)) ? i || "." !== t ? ("[" === t ? i = !0 : "]" === t && (i = !1), o += t) : o += "[\\s\\S]" : o += t + S(e, ++r); return o }(e), n)), o && (l.sticky = !0), m.length && (l.groups = m)), e !== y) try { c(a, "source", "" === y ? "(?:)" : y) } catch (e) { } return a }, G = l(w), N = 0; G.length > N;)_(j, w, G[N++]); k.constructor = j, j.prototype = k, v(o, "RegExp", j, { constructor: !0 }) } y("RegExp") }, 8450: (e, t, n) => { var r = n(9781), o = n(9441), i = n(4326), a = n(7045), s = n(9909).get, c = RegExp.prototype, l = TypeError; r && o && a(c, "dotAll", { configurable: !0, get: function () { if (this !== c) { if ("RegExp" === i(this)) return !!s(this).dotAll; throw l("Incompatible receiver, RegExp required") } } }) }, 4916: (e, t, n) => { "use strict"; var r = n(2109), o = n(2261); r({ target: "RegExp", proto: !0, forced: /./.exec !== o }, { exec: o }) }, 8386: (e, t, n) => { var r = n(9781), o = n(2999).MISSED_STICKY, i = n(4326), a = n(7045), s = n(9909).get, c = RegExp.prototype, l = TypeError; r && o && a(c, "sticky", { configurable: !0, get: function () { if (this !== c) { if ("RegExp" === i(this)) return !!s(this).sticky; throw l("Incompatible receiver, RegExp required") } } }) }, 7601: (e, t, n) => { "use strict"; n(4916); var r, o, i = n(2109), a = n(6916), s = n(614), c = n(9670), l = n(1340), u = (r = !1, (o = /[ac]/).exec = function () { return r = !0, /./.exec.apply(this, arguments) }, !0 === o.test("abc") && r), d = /./.test; i({ target: "RegExp", proto: !0, forced: !u }, { test: function (e) { var t = c(this), n = l(e), r = t.exec; if (!s(r)) return a(d, t, n); var o = a(r, t, n); return null !== o && (c(o), !0) } }) }, 9714: (e, t, n) => { "use strict"; var r = n(6530).PROPER, o = n(8052), i = n(9670), a = n(1340), s = n(7293), c = n(4706), l = "toString", u = RegExp.prototype.toString, d = s((function () { return "/a/b" != u.call({ source: "a", flags: "b" }) })), h = r && u.name != l; (d || h) && o(RegExp.prototype, l, (function () { var e = i(this); return "/" + a(e.source) + "/" + a(c(e)) }), { unsafe: !0 }) }, 2023: (e, t, n) => { "use strict"; var r = n(2109), o = n(1702), i = n(3929), a = n(4488), s = n(1340), c = n(4964), l = o("".indexOf); r({ target: "String", proto: !0, forced: !c("includes") }, { includes: function (e) { return !!~l(s(a(this)), s(i(e)), arguments.length > 1 ? arguments[1] : void 0) } }) }, 8783: (e, t, n) => { "use strict"; var r = n(8710).charAt, o = n(1340), i = n(9909), a = n(1656), s = n(6178), c = "String Iterator", l = i.set, u = i.getterFor(c); a(String, "String", (function (e) { l(this, { type: c, string: o(e), index: 0 }) }), (function () { var e, t = u(this), n = t.string, o = t.index; return o >= n.length ? s(void 0, !0) : (e = r(n, o), t.index += e.length, s(e, !1)) })) }, 4723: (e, t, n) => { "use strict"; var r = n(6916), o = n(7007), i = n(9670), a = n(8554), s = n(7466), c = n(1340), l = n(4488), u = n(8173), d = n(1530), h = n(7651); o("match", (function (e, t, n) { return [function (t) { var n = l(this), o = a(t) ? void 0 : u(t, e); return o ? r(o, t, n) : new RegExp(t)[e](c(n)) }, function (e) { var r = i(this), o = c(e), a = n(t, r, o); if (a.done) return a.value; if (!r.global) return h(r, o); var l = r.unicode; r.lastIndex = 0; for (var u, f = [], p = 0; null !== (u = h(r, o));) { var _ = c(u[0]); f[p] = _, "" === _ && (r.lastIndex = d(o, s(r.lastIndex), l)), p++ } return 0 === p ? null : f }] })) }, 2481: (e, t, n) => { n(2109)({ target: "String", proto: !0 }, { repeat: n(8415) }) }, 5306: (e, t, n) => { "use strict"; var r = n(2104), o = n(6916), i = n(1702), a = n(7007), s = n(7293), c = n(9670), l = n(614), u = n(8554), d = n(9303), h = n(7466), f = n(1340), p = n(4488), _ = n(1530), v = n(8173), m = n(647), g = n(7651), A = n(5112)("replace"), y = Math.max, B = Math.min, b = i([].concat), C = i([].push), E = i("".indexOf), w = i("".slice), k = "$0" === "a".replace(/./, "$0"), D = !!/./[A] && "" === /./[A]("a", "$0"); a("replace", (function (e, t, n) { var i = D ? "$" : "$0"; return [function (e, n) { var r = p(this), i = u(e) ? void 0 : v(e, A); return i ? o(i, e, r, n) : o(t, f(r), e, n) }, function (e, o) { var a = c(this), s = f(e); if ("string" == typeof o && -1 === E(o, i) && -1 === E(o, "$<")) { var u = n(t, a, s, o); if (u.done) return u.value } var p = l(o); p || (o = f(o)); var v = a.global; if (v) { var A = a.unicode; a.lastIndex = 0 } for (var k = []; ;) { var D = g(a, s); if (null === D) break; if (C(k, D), !v) break; "" === f(D[0]) && (a.lastIndex = _(s, h(a.lastIndex), A)) } for (var x, S = "", M = 0, F = 0; F < k.length; F++) { for (var T = f((D = k[F])[0]), O = y(B(d(D.index), s.length), 0), I = [], P = 1; P < D.length; P++)C(I, void 0 === (x = D[P]) ? x : String(x)); var R = D.groups; if (p) { var L = b([T], I, O, s); void 0 !== R && C(L, R); var H = f(r(o, void 0, L)) } else H = m(T, s, O, I, R, o); O >= M && (S += w(s, M, O) + H, M = O + T.length) } return S + w(s, M) }] }), !!s((function () { var e = /./; return e.exec = function () { var e = []; return e.groups = { a: "7" }, e }, "7" !== "".replace(e, "$<a>") })) || !k || D) }, 3123: (e, t, n) => { "use strict"; var r = n(2104), o = n(6916), i = n(1702), a = n(7007), s = n(9670), c = n(8554), l = n(7850), u = n(4488), d = n(6707), h = n(1530), f = n(7466), p = n(1340), _ = n(8173), v = n(1589), m = n(7651), g = n(2261), A = n(2999), y = n(7293), B = A.UNSUPPORTED_Y, b = 4294967295, C = Math.min, E = [].push, w = i(/./.exec), k = i(E), D = i("".slice); a("split", (function (e, t, n) { var i; return i = "c" == "abbc".split(/(b)*/)[1] || 4 != "test".split(/(?:)/, -1).length || 2 != "ab".split(/(?:ab)*/).length || 4 != ".".split(/(.?)(.?)/).length || ".".split(/()()/).length > 1 || "".split(/.?/).length ? function (e, n) { var i = p(u(this)), a = void 0 === n ? b : n >>> 0; if (0 === a) return []; if (void 0 === e) return [i]; if (!l(e)) return o(t, i, e, a); for (var s, c, d, h = [], f = (e.ignoreCase ? "i" : "") + (e.multiline ? "m" : "") + (e.unicode ? "u" : "") + (e.sticky ? "y" : ""), _ = 0, m = new RegExp(e.source, f + "g"); (s = o(g, m, i)) && !((c = m.lastIndex) > _ && (k(h, D(i, _, s.index)), s.length > 1 && s.index < i.length && r(E, h, v(s, 1)), d = s[0].length, _ = c, h.length >= a));)m.lastIndex === s.index && m.lastIndex++; return _ === i.length ? !d && w(m, "") || k(h, "") : k(h, D(i, _)), h.length > a ? v(h, 0, a) : h } : "0".split(void 0, 0).length ? function (e, n) { return void 0 === e && 0 === n ? [] : o(t, this, e, n) } : t, [function (t, n) { var r = u(this), a = c(t) ? void 0 : _(t, e); return a ? o(a, t, r, n) : o(i, p(r), t, n) }, function (e, r) { var o = s(this), a = p(e), c = n(i, o, a, r, i !== t); if (c.done) return c.value; var l = d(o, RegExp), u = o.unicode, _ = (o.ignoreCase ? "i" : "") + (o.multiline ? "m" : "") + (o.unicode ? "u" : "") + (B ? "g" : "y"), v = new l(B ? "^(?:" + o.source + ")" : o, _), g = void 0 === r ? b : r >>> 0; if (0 === g) return []; if (0 === a.length) return null === m(v, a) ? [a] : []; for (var A = 0, y = 0, E = []; y < a.length;) { v.lastIndex = B ? 0 : y; var w, x = m(v, B ? D(a, y) : a); if (null === x || (w = C(f(v.lastIndex + (B ? y : 0)), a.length)) === A) y = h(a, y, u); else { if (k(E, D(a, A, y)), E.length === g) return E; for (var S = 1; S <= x.length - 1; S++)if (k(E, x[S]), E.length === g) return E; y = A = w } } return k(E, D(a, A)), E }] }), !!y((function () { var e = /(?:)/, t = e.exec; e.exec = function () { return t.apply(this, arguments) }; var n = "ab".split(e); return 2 !== n.length || "a" !== n[0] || "b" !== n[1] })), B) }, 3210: (e, t, n) => { "use strict"; var r = n(2109), o = n(3111).trim; r({ target: "String", proto: !0, forced: n(6091)("trim") }, { trim: function () { return o(this) } }) }, 4032: (e, t, n) => { "use strict"; var r = n(2109), o = n(7854), i = n(6916), a = n(1702), s = n(1913), c = n(9781), l = n(6293), u = n(7293), d = n(2597), h = n(7976), f = n(9670), p = n(5656), _ = n(4948), v = n(1340), m = n(9114), g = n(30), A = n(1956), y = n(8006), B = n(1156), b = n(5181), C = n(1236), E = n(3070), w = n(6048), k = n(5296), D = n(8052), x = n(2309), S = n(6200), M = n(3501), F = n(9711), T = n(5112), O = n(6061), I = n(6800), P = n(6532), R = n(8003), L = n(9909), H = n(2092).forEach, j = S("hidden"), G = "Symbol", N = L.set, V = L.getterFor(G), K = Object.prototype, J = o.Symbol, U = J && J.prototype, Z = o.TypeError, W = o.QObject, q = C.f, z = E.f, X = B.f, Q = k.f, Y = a([].push), $ = x("symbols"), ee = x("op-symbols"), te = x("wks"), ne = !W || !W.prototype || !W.prototype.findChild, re = c && u((function () { return 7 != g(z({}, "a", { get: function () { return z(this, "a", { value: 7 }).a } })).a })) ? function (e, t, n) { var r = q(K, t); r && delete K[t], z(e, t, n), r && e !== K && z(K, t, r) } : z, oe = function (e, t) { var n = $[e] = g(U); return N(n, { type: G, tag: e, description: t }), c || (n.description = t), n }, ie = function (e, t, n) { e === K && ie(ee, t, n), f(e); var r = _(t); return f(n), d($, r) ? (n.enumerable ? (d(e, j) && e[j][r] && (e[j][r] = !1), n = g(n, { enumerable: m(0, !1) })) : (d(e, j) || z(e, j, m(1, {})), e[j][r] = !0), re(e, r, n)) : z(e, r, n) }, ae = function (e, t) { f(e); var n = p(t), r = A(n).concat(ue(n)); return H(r, (function (t) { c && !i(se, n, t) || ie(e, t, n[t]) })), e }, se = function (e) { var t = _(e), n = i(Q, this, t); return !(this === K && d($, t) && !d(ee, t)) && (!(n || !d(this, t) || !d($, t) || d(this, j) && this[j][t]) || n) }, ce = function (e, t) { var n = p(e), r = _(t); if (n !== K || !d($, r) || d(ee, r)) { var o = q(n, r); return !o || !d($, r) || d(n, j) && n[j][r] || (o.enumerable = !0), o } }, le = function (e) { var t = X(p(e)), n = []; return H(t, (function (e) { d($, e) || d(M, e) || Y(n, e) })), n }, ue = function (e) { var t = e === K, n = X(t ? ee : p(e)), r = []; return H(n, (function (e) { !d($, e) || t && !d(K, e) || Y(r, $[e]) })), r }; l || (D(U = (J = function () { if (h(U, this)) throw Z("Symbol is not a constructor"); var e = arguments.length && void 0 !== arguments[0] ? v(arguments[0]) : void 0, t = F(e), n = function (e) { this === K && i(n, ee, e), d(this, j) && d(this[j], t) && (this[j][t] = !1), re(this, t, m(1, e)) }; return c && ne && re(K, t, { configurable: !0, set: n }), oe(t, e) }).prototype, "toString", (function () { return V(this).tag })), D(J, "withoutSetter", (function (e) { return oe(F(e), e) })), k.f = se, E.f = ie, w.f = ae, C.f = ce, y.f = B.f = le, b.f = ue, O.f = function (e) { return oe(T(e), e) }, c && (z(U, "description", { configurable: !0, get: function () { return V(this).description } }), s || D(K, "propertyIsEnumerable", se, { unsafe: !0 }))), r({ global: !0, constructor: !0, wrap: !0, forced: !l, sham: !l }, { Symbol: J }), H(A(te), (function (e) { I(e) })), r({ target: G, stat: !0, forced: !l }, { useSetter: function () { ne = !0 }, useSimple: function () { ne = !1 } }), r({ target: "Object", stat: !0, forced: !l, sham: !c }, { create: function (e, t) { return void 0 === t ? g(e) : ae(g(e), t) }, defineProperty: ie, defineProperties: ae, getOwnPropertyDescriptor: ce }), r({ target: "Object", stat: !0, forced: !l }, { getOwnPropertyNames: le }), P(), R(J, G), M[j] = !0 }, 1817: (e, t, n) => { "use strict"; var r = n(2109), o = n(9781), i = n(7854), a = n(1702), s = n(2597), c = n(614), l = n(7976), u = n(1340), d = n(3070).f, h = n(9920), f = i.Symbol, p = f && f.prototype; if (o && c(f) && (!("description" in p) || void 0 !== f().description)) { var _ = {}, v = function () { var e = arguments.length < 1 || void 0 === arguments[0] ? void 0 : u(arguments[0]), t = l(p, this) ? new f(e) : void 0 === e ? f() : f(e); return "" === e && (_[t] = !0), t }; h(v, f), v.prototype = p, p.constructor = v; var m = "Symbol(test)" == String(f("test")), g = a(p.valueOf), A = a(p.toString), y = /^Symbol\((.*)\)[^)]+$/, B = a("".replace), b = a("".slice); d(p, "description", { configurable: !0, get: function () { var e = g(this); if (s(_, e)) return ""; var t = A(e), n = m ? b(t, 7, -1) : B(t, y, "$1"); return "" === n ? void 0 : n } }), r({ global: !0, constructor: !0, forced: !0 }, { Symbol: v }) } }, 763: (e, t, n) => { var r = n(2109), o = n(5005), i = n(2597), a = n(1340), s = n(2309), c = n(2015), l = s("string-to-symbol-registry"), u = s("symbol-to-string-registry"); r({ target: "Symbol", stat: !0, forced: !c }, { for: function (e) { var t = a(e); if (i(l, t)) return l[t]; var n = o("Symbol")(t); return l[t] = n, u[n] = t, n } }) }, 2526: (e, t, n) => { n(4032), n(763), n(6620), n(8862), n(9660) }, 6620: (e, t, n) => { var r = n(2109), o = n(2597), i = n(2190), a = n(6330), s = n(2309), c = n(2015), l = s("symbol-to-string-registry"); r({ target: "Symbol", stat: !0, forced: !c }, { keyFor: function (e) { if (!i(e)) throw TypeError(a(e) + " is not a symbol"); if (o(l, e)) return l[e] } }) }, 1202: (e, t, n) => { "use strict"; var r, o = n(7854), i = n(1702), a = n(9190), s = n(2423), c = n(7710), l = n(9320), u = n(111), d = n(2050), h = n(9909).enforce, f = n(4811), p = !o.ActiveXObject && "ActiveXObject" in o, _ = function (e) { return function () { return e(this, arguments.length ? arguments[0] : void 0) } }, v = c("WeakMap", _, l); if (f && p) { r = l.getConstructor(_, "WeakMap", !0), s.enable(); var m = v.prototype, g = i(m.delete), A = i(m.has), y = i(m.get), B = i(m.set); a(m, { delete: function (e) { if (u(e) && !d(e)) { var t = h(this); return t.frozen || (t.frozen = new r), g(this, e) || t.frozen.delete(e) } return g(this, e) }, has: function (e) { if (u(e) && !d(e)) { var t = h(this); return t.frozen || (t.frozen = new r), A(this, e) || t.frozen.has(e) } return A(this, e) }, get: function (e) { if (u(e) && !d(e)) { var t = h(this); return t.frozen || (t.frozen = new r), A(this, e) ? y(this, e) : t.frozen.get(e) } return y(this, e) }, set: function (e, t) { if (u(e) && !d(e)) { var n = h(this); n.frozen || (n.frozen = new r), A(this, e) ? B(this, e, t) : n.frozen.set(e, t) } else B(this, e, t); return this } }) } }, 4129: (e, t, n) => { n(1202) }, 4747: (e, t, n) => { var r = n(7854), o = n(8324), i = n(8509), a = n(8533), s = n(8880), c = function (e) { if (e && e.forEach !== a) try { s(e, "forEach", a) } catch (t) { e.forEach = a } }; for (var l in o) o[l] && c(r[l] && r[l].prototype); c(i) }, 3948: (e, t, n) => { var r = n(7854), o = n(8324), i = n(8509), a = n(6992), s = n(8880), c = n(5112), l = c("iterator"), u = c("toStringTag"), d = a.values, h = function (e, t) { if (e) { if (e[l] !== d) try { s(e, l, d) } catch (t) { e[l] = d } if (e[u] || s(e, u, t), o[t]) for (var n in a) if (e[n] !== a[n]) try { s(e, n, a[n]) } catch (t) { e[n] = a[n] } } }; for (var f in o) h(r[f] && r[f].prototype, f); h(i, "DOMTokenList") }, 6815: (e, t, n) => { var r = n(2109), o = n(7854), i = n(7152).setInterval; r({ global: !0, bind: !0, forced: o.setInterval !== i }, { setInterval: i }) }, 8417: (e, t, n) => { var r = n(2109), o = n(7854), i = n(7152).setTimeout; r({ global: !0, bind: !0, forced: o.setTimeout !== i }, { setTimeout: i }) }, 2564: (e, t, n) => { n(6815), n(8417) }, 5556: (e, t, n) => { "use strict"; n(6992); var r = n(2109), o = n(7854), i = n(6916), a = n(1702), s = n(9781), c = n(5143), l = n(8052), u = n(9190), d = n(8003), h = n(3061), f = n(9909), p = n(5787), _ = n(614), v = n(2597), m = n(9974), g = n(648), A = n(9670), y = n(111), B = n(1340), b = n(30), C = n(9114), E = n(4121), w = n(1246), k = n(8053), D = n(5112), x = n(4362), S = D("iterator"), M = "URLSearchParams", F = "URLSearchParamsIterator", T = f.set, O = f.getterFor(M), I = f.getterFor(F), P = Object.getOwnPropertyDescriptor, R = function (e) { if (!s) return o[e]; var t = P(o, e); return t && t.value }, L = R("fetch"), H = R("Request"), j = R("Headers"), G = H && H.prototype, N = j && j.prototype, V = o.RegExp, K = o.TypeError, J = o.decodeURIComponent, U = o.encodeURIComponent, Z = a("".charAt), W = a([].join), q = a([].push), z = a("".replace), X = a([].shift), Q = a([].splice), Y = a("".split), $ = a("".slice), ee = /\+/g, te = Array(4), ne = function (e) { return te[e - 1] || (te[e - 1] = V("((?:%[\\da-f]{2}){" + e + "})", "gi")) }, re = function (e) { try { return J(e) } catch (t) { return e } }, oe = function (e) { var t = z(e, ee, " "), n = 4; try { return J(t) } catch (e) { for (; n;)t = z(t, ne(n--), re); return t } }, ie = /[!'()~]|%20/g, ae = { "!": "%21", "'": "%27", "(": "%28", ")": "%29", "~": "%7E", "%20": "+" }, se = function (e) { return ae[e] }, ce = function (e) { return z(U(e), ie, se) }, le = h((function (e, t) { T(this, { type: F, iterator: E(O(e).entries), kind: t }) }), "Iterator", (function () { var e = I(this), t = e.kind, n = e.iterator.next(), r = n.value; return n.done || (n.value = "keys" === t ? r.key : "values" === t ? r.value : [r.key, r.value]), n }), !0), ue = function (e) { this.entries = [], this.url = null, void 0 !== e && (y(e) ? this.parseObject(e) : this.parseQuery("string" == typeof e ? "?" === Z(e, 0) ? $(e, 1) : e : B(e))) }; ue.prototype = { type: M, bindURL: function (e) { this.url = e, this.update() }, parseObject: function (e) { var t, n, r, o, a, s, c, l = w(e); if (l) for (n = (t = E(e, l)).next; !(r = i(n, t)).done;) { if (a = (o = E(A(r.value))).next, (s = i(a, o)).done || (c = i(a, o)).done || !i(a, o).done) throw K("Expected sequence with length 2"); q(this.entries, { key: B(s.value), value: B(c.value) }) } else for (var u in e) v(e, u) && q(this.entries, { key: u, value: B(e[u]) }) }, parseQuery: function (e) { if (e) for (var t, n, r = Y(e, "&"), o = 0; o < r.length;)(t = r[o++]).length && (n = Y(t, "="), q(this.entries, { key: oe(X(n)), value: oe(W(n, "=")) })) }, serialize: function () { for (var e, t = this.entries, n = [], r = 0; r < t.length;)e = t[r++], q(n, ce(e.key) + "=" + ce(e.value)); return W(n, "&") }, update: function () { this.entries.length = 0, this.parseQuery(this.url.query) }, updateURL: function () { this.url && this.url.update() } }; var de = function () { p(this, he); var e = arguments.length > 0 ? arguments[0] : void 0; T(this, new ue(e)) }, he = de.prototype; if (u(he, { append: function (e, t) { k(arguments.length, 2); var n = O(this); q(n.entries, { key: B(e), value: B(t) }), n.updateURL() }, delete: function (e) { k(arguments.length, 1); for (var t = O(this), n = t.entries, r = B(e), o = 0; o < n.length;)n[o].key === r ? Q(n, o, 1) : o++; t.updateURL() }, get: function (e) { k(arguments.length, 1); for (var t = O(this).entries, n = B(e), r = 0; r < t.length; r++)if (t[r].key === n) return t[r].value; return null }, getAll: function (e) { k(arguments.length, 1); for (var t = O(this).entries, n = B(e), r = [], o = 0; o < t.length; o++)t[o].key === n && q(r, t[o].value); return r }, has: function (e) { k(arguments.length, 1); for (var t = O(this).entries, n = B(e), r = 0; r < t.length;)if (t[r++].key === n) return !0; return !1 }, set: function (e, t) { k(arguments.length, 1); for (var n, r = O(this), o = r.entries, i = !1, a = B(e), s = B(t), c = 0; c < o.length; c++)(n = o[c]).key === a && (i ? Q(o, c--, 1) : (i = !0, n.value = s)); i || q(o, { key: a, value: s }), r.updateURL() }, sort: function () { var e = O(this); x(e.entries, (function (e, t) { return e.key > t.key ? 1 : -1 })), e.updateURL() }, forEach: function (e) { for (var t, n = O(this).entries, r = m(e, arguments.length > 1 ? arguments[1] : void 0), o = 0; o < n.length;)r((t = n[o++]).value, t.key, this) }, keys: function () { return new le(this, "keys") }, values: function () { return new le(this, "values") }, entries: function () { return new le(this, "entries") } }, { enumerable: !0 }), l(he, S, he.entries, { name: "entries" }), l(he, "toString", (function () { return O(this).serialize() }), { enumerable: !0 }), d(de, M), r({ global: !0, constructor: !0, forced: !c }, { URLSearchParams: de }), !c && _(j)) { var fe = a(N.has), pe = a(N.set), _e = function (e) { if (y(e)) { var t, n = e.body; if (g(n) === M) return t = e.headers ? new j(e.headers) : new j, fe(t, "content-type") || pe(t, "content-type", "application/x-www-form-urlencoded;charset=UTF-8"), b(e, { body: C(0, B(n)), headers: C(0, t) }) } return e }; if (_(L) && r({ global: !0, enumerable: !0, dontCallGetSet: !0, forced: !0 }, { fetch: function (e) { return L(e, arguments.length > 1 ? _e(arguments[1]) : {}) } }), _(H)) { var ve = function (e) { return p(this, G), new H(e, arguments.length > 1 ? _e(arguments[1]) : {}) }; G.constructor = ve, ve.prototype = G, r({ global: !0, constructor: !0, dontCallGetSet: !0, forced: !0 }, { Request: ve }) } } e.exports = { URLSearchParams: de, getState: O } }, 1637: (e, t, n) => { n(5556) }, 8789: (e, t, n) => { "use strict"; n(8783); var r, o = n(2109), i = n(9781), a = n(5143), s = n(7854), c = n(9974), l = n(1702), u = n(8052), d = n(7045), h = n(5787), f = n(2597), p = n(1574), _ = n(8457), v = n(1589), m = n(8710).codeAt, g = n(3197), A = n(1340), y = n(8003), B = n(8053), b = n(5556), C = n(9909), E = C.set, w = C.getterFor("URL"), k = b.URLSearchParams, D = b.getState, x = s.URL, S = s.TypeError, M = s.parseInt, F = Math.floor, T = Math.pow, O = l("".charAt), I = l(/./.exec), P = l([].join), R = l(1..toString), L = l([].pop), H = l([].push), j = l("".replace), G = l([].shift), N = l("".split), V = l("".slice), K = l("".toLowerCase), J = l([].unshift), U = "Invalid scheme", Z = "Invalid host", W = "Invalid port", q = /[a-z]/i, z = /[\d+-.a-z]/i, X = /\d/, Q = /^0x/i, Y = /^[0-7]+$/, $ = /^\d+$/, ee = /^[\da-f]+$/i, te = /[\0\t\n\r #%/:<>?@[\\\]^|]/, ne = /[\0\t\n\r #/:<>?@[\\\]^|]/, re = /^[\u0000-\u0020]+|[\u0000-\u0020]+$/g, oe = /[\t\n\r]/g, ie = function (e) { var t, n, r, o; if ("number" == typeof e) { for (t = [], n = 0; n < 4; n++)J(t, e % 256), e = F(e / 256); return P(t, ".") } if ("object" == typeof e) { for (t = "", r = function (e) { for (var t = null, n = 1, r = null, o = 0, i = 0; i < 8; i++)0 !== e[i] ? (o > n && (t = r, n = o), r = null, o = 0) : (null === r && (r = i), ++o); return o > n && (t = r, n = o), t }(e), n = 0; n < 8; n++)o && 0 === e[n] || (o && (o = !1), r === n ? (t += n ? ":" : "::", o = !0) : (t += R(e[n], 16), n < 7 && (t += ":"))); return "[" + t + "]" } return e }, ae = {}, se = p({}, ae, { " ": 1, '"': 1, "<": 1, ">": 1, "`": 1 }), ce = p({}, se, { "#": 1, "?": 1, "{": 1, "}": 1 }), le = p({}, ce, { "/": 1, ":": 1, ";": 1, "=": 1, "@": 1, "[": 1, "\\": 1, "]": 1, "^": 1, "|": 1 }), ue = function (e, t) { var n = m(e, 0); return n > 32 && n < 127 && !f(t, e) ? e : encodeURIComponent(e) }, de = { ftp: 21, file: null, http: 80, https: 443, ws: 80, wss: 443 }, he = function (e, t) { var n; return 2 == e.length && I(q, O(e, 0)) && (":" == (n = O(e, 1)) || !t && "|" == n) }, fe = function (e) { var t; return e.length > 1 && he(V(e, 0, 2)) && (2 == e.length || "/" === (t = O(e, 2)) || "\\" === t || "?" === t || "#" === t) }, pe = function (e) { return "." === e || "%2e" === K(e) }, _e = {}, ve = {}, me = {}, ge = {}, Ae = {}, ye = {}, Be = {}, be = {}, Ce = {}, Ee = {}, we = {}, ke = {}, De = {}, xe = {}, Se = {}, Me = {}, Fe = {}, Te = {}, Oe = {}, Ie = {}, Pe = {}, Re = function (e, t, n) { var r, o, i, a = A(e); if (t) { if (o = this.parse(a)) throw S(o); this.searchParams = null } else { if (void 0 !== n && (r = new Re(n, !0)), o = this.parse(a, null, r)) throw S(o); (i = D(new k)).bindURL(this), this.searchParams = i } }; Re.prototype = { type: "URL", parse: function (e, t, n) { var o, i, a, s, c, l = this, u = t || _e, d = 0, h = "", p = !1, m = !1, g = !1; for (e = A(e), t || (l.scheme = "", l.username = "", l.password = "", l.host = null, l.port = null, l.path = [], l.query = null, l.fragment = null, l.cannotBeABaseURL = !1, e = j(e, re, "")), e = j(e, oe, ""), o = _(e); d <= o.length;) { switch (i = o[d], u) { case _e: if (!i || !I(q, i)) { if (t) return U; u = me; continue } h += K(i), u = ve; break; case ve: if (i && (I(z, i) || "+" == i || "-" == i || "." == i)) h += K(i); else { if (":" != i) { if (t) return U; h = "", u = me, d = 0; continue } if (t && (l.isSpecial() != f(de, h) || "file" == h && (l.includesCredentials() || null !== l.port) || "file" == l.scheme && !l.host)) return; if (l.scheme = h, t) return void (l.isSpecial() && de[l.scheme] == l.port && (l.port = null)); h = "", "file" == l.scheme ? u = xe : l.isSpecial() && n && n.scheme == l.scheme ? u = ge : l.isSpecial() ? u = be : "/" == o[d + 1] ? (u = Ae, d++) : (l.cannotBeABaseURL = !0, H(l.path, ""), u = Oe) } break; case me: if (!n || n.cannotBeABaseURL && "#" != i) return U; if (n.cannotBeABaseURL && "#" == i) { l.scheme = n.scheme, l.path = v(n.path), l.query = n.query, l.fragment = "", l.cannotBeABaseURL = !0, u = Pe; break } u = "file" == n.scheme ? xe : ye; continue; case ge: if ("/" != i || "/" != o[d + 1]) { u = ye; continue } u = Ce, d++; break; case Ae: if ("/" == i) { u = Ee; break } u = Te; continue; case ye: if (l.scheme = n.scheme, i == r) l.username = n.username, l.password = n.password, l.host = n.host, l.port = n.port, l.path = v(n.path), l.query = n.query; else if ("/" == i || "\\" == i && l.isSpecial()) u = Be; else if ("?" == i) l.username = n.username, l.password = n.password, l.host = n.host, l.port = n.port, l.path = v(n.path), l.query = "", u = Ie; else { if ("#" != i) { l.username = n.username, l.password = n.password, l.host = n.host, l.port = n.port, l.path = v(n.path), l.path.length--, u = Te; continue } l.username = n.username, l.password = n.password, l.host = n.host, l.port = n.port, l.path = v(n.path), l.query = n.query, l.fragment = "", u = Pe } break; case Be: if (!l.isSpecial() || "/" != i && "\\" != i) { if ("/" != i) { l.username = n.username, l.password = n.password, l.host = n.host, l.port = n.port, u = Te; continue } u = Ee } else u = Ce; break; case be: if (u = Ce, "/" != i || "/" != O(h, d + 1)) continue; d++; break; case Ce: if ("/" != i && "\\" != i) { u = Ee; continue } break; case Ee: if ("@" == i) { p && (h = "%40" + h), p = !0, a = _(h); for (var y = 0; y < a.length; y++) { var B = a[y]; if (":" != B || g) { var b = ue(B, le); g ? l.password += b : l.username += b } else g = !0 } h = "" } else if (i == r || "/" == i || "?" == i || "#" == i || "\\" == i && l.isSpecial()) { if (p && "" == h) return "Invalid authority"; d -= _(h).length + 1, h = "", u = we } else h += i; break; case we: case ke: if (t && "file" == l.scheme) { u = Me; continue } if (":" != i || m) { if (i == r || "/" == i || "?" == i || "#" == i || "\\" == i && l.isSpecial()) { if (l.isSpecial() && "" == h) return Z; if (t && "" == h && (l.includesCredentials() || null !== l.port)) return; if (s = l.parseHost(h)) return s; if (h = "", u = Fe, t) return; continue } "[" == i ? m = !0 : "]" == i && (m = !1), h += i } else { if ("" == h) return Z; if (s = l.parseHost(h)) return s; if (h = "", u = De, t == ke) return } break; case De: if (!I(X, i)) { if (i == r || "/" == i || "?" == i || "#" == i || "\\" == i && l.isSpecial() || t) { if ("" != h) { var C = M(h, 10); if (C > 65535) return W; l.port = l.isSpecial() && C === de[l.scheme] ? null : C, h = "" } if (t) return; u = Fe; continue } return W } h += i; break; case xe: if (l.scheme = "file", "/" == i || "\\" == i) u = Se; else { if (!n || "file" != n.scheme) { u = Te; continue } if (i == r) l.host = n.host, l.path = v(n.path), l.query = n.query; else if ("?" == i) l.host = n.host, l.path = v(n.path), l.query = "", u = Ie; else { if ("#" != i) { fe(P(v(o, d), "")) || (l.host = n.host, l.path = v(n.path), l.shortenPath()), u = Te; continue } l.host = n.host, l.path = v(n.path), l.query = n.query, l.fragment = "", u = Pe } } break; case Se: if ("/" == i || "\\" == i) { u = Me; break } n && "file" == n.scheme && !fe(P(v(o, d), "")) && (he(n.path[0], !0) ? H(l.path, n.path[0]) : l.host = n.host), u = Te; continue; case Me: if (i == r || "/" == i || "\\" == i || "?" == i || "#" == i) { if (!t && he(h)) u = Te; else if ("" == h) { if (l.host = "", t) return; u = Fe } else { if (s = l.parseHost(h)) return s; if ("localhost" == l.host && (l.host = ""), t) return; h = "", u = Fe } continue } h += i; break; case Fe: if (l.isSpecial()) { if (u = Te, "/" != i && "\\" != i) continue } else if (t || "?" != i) if (t || "#" != i) { if (i != r && (u = Te, "/" != i)) continue } else l.fragment = "", u = Pe; else l.query = "", u = Ie; break; case Te: if (i == r || "/" == i || "\\" == i && l.isSpecial() || !t && ("?" == i || "#" == i)) { if (".." === (c = K(c = h)) || "%2e." === c || ".%2e" === c || "%2e%2e" === c ? (l.shortenPath(), "/" == i || "\\" == i && l.isSpecial() || H(l.path, "")) : pe(h) ? "/" == i || "\\" == i && l.isSpecial() || H(l.path, "") : ("file" == l.scheme && !l.path.length && he(h) && (l.host && (l.host = ""), h = O(h, 0) + ":"), H(l.path, h)), h = "", "file" == l.scheme && (i == r || "?" == i || "#" == i)) for (; l.path.length > 1 && "" === l.path[0];)G(l.path); "?" == i ? (l.query = "", u = Ie) : "#" == i && (l.fragment = "", u = Pe) } else h += ue(i, ce); break; case Oe: "?" == i ? (l.query = "", u = Ie) : "#" == i ? (l.fragment = "", u = Pe) : i != r && (l.path[0] += ue(i, ae)); break; case Ie: t || "#" != i ? i != r && ("'" == i && l.isSpecial() ? l.query += "%27" : l.query += "#" == i ? "%23" : ue(i, ae)) : (l.fragment = "", u = Pe); break; case Pe: i != r && (l.fragment += ue(i, se)) }d++ } }, parseHost: function (e) { var t, n, r; if ("[" == O(e, 0)) { if ("]" != O(e, e.length - 1)) return Z; if (t = function (e) { var t, n, r, o, i, a, s, c = [0, 0, 0, 0, 0, 0, 0, 0], l = 0, u = null, d = 0, h = function () { return O(e, d) }; if (":" == h()) { if (":" != O(e, 1)) return; d += 2, u = ++l } for (; h();) { if (8 == l) return; if (":" != h()) { for (t = n = 0; n < 4 && I(ee, h());)t = 16 * t + M(h(), 16), d++, n++; if ("." == h()) { if (0 == n) return; if (d -= n, l > 6) return; for (r = 0; h();) { if (o = null, r > 0) { if (!("." == h() && r < 4)) return; d++ } if (!I(X, h())) return; for (; I(X, h());) { if (i = M(h(), 10), null === o) o = i; else { if (0 == o) return; o = 10 * o + i } if (o > 255) return; d++ } c[l] = 256 * c[l] + o, 2 != ++r && 4 != r || l++ } if (4 != r) return; break } if (":" == h()) { if (d++, !h()) return } else if (h()) return; c[l++] = t } else { if (null !== u) return; d++, u = ++l } } if (null !== u) for (a = l - u, l = 7; 0 != l && a > 0;)s = c[l], c[l--] = c[u + a - 1], c[u + --a] = s; else if (8 != l) return; return c }(V(e, 1, -1)), !t) return Z; this.host = t } else if (this.isSpecial()) { if (e = g(e), I(te, e)) return Z; if (t = function (e) { var t, n, r, o, i, a, s, c = N(e, "."); if (c.length && "" == c[c.length - 1] && c.length--, (t = c.length) > 4) return e; for (n = [], r = 0; r < t; r++) { if ("" == (o = c[r])) return e; if (i = 10, o.length > 1 && "0" == O(o, 0) && (i = I(Q, o) ? 16 : 8, o = V(o, 8 == i ? 1 : 2)), "" === o) a = 0; else { if (!I(10 == i ? $ : 8 == i ? Y : ee, o)) return e; a = M(o, i) } H(n, a) } for (r = 0; r < t; r++)if (a = n[r], r == t - 1) { if (a >= T(256, 5 - t)) return null } else if (a > 255) return null; for (s = L(n), r = 0; r < n.length; r++)s += n[r] * T(256, 3 - r); return s }(e), null === t) return Z; this.host = t } else { if (I(ne, e)) return Z; for (t = "", n = _(e), r = 0; r < n.length; r++)t += ue(n[r], ae); this.host = t } }, cannotHaveUsernamePasswordPort: function () { return !this.host || this.cannotBeABaseURL || "file" == this.scheme }, includesCredentials: function () { return "" != this.username || "" != this.password }, isSpecial: function () { return f(de, this.scheme) }, shortenPath: function () { var e = this.path, t = e.length; !t || "file" == this.scheme && 1 == t && he(e[0], !0) || e.length-- }, serialize: function () { var e = this, t = e.scheme, n = e.username, r = e.password, o = e.host, i = e.port, a = e.path, s = e.query, c = e.fragment, l = t + ":"; return null !== o ? (l += "//", e.includesCredentials() && (l += n + (r ? ":" + r : "") + "@"), l += ie(o), null !== i && (l += ":" + i)) : "file" == t && (l += "//"), l += e.cannotBeABaseURL ? a[0] : a.length ? "/" + P(a, "/") : "", null !== s && (l += "?" + s), null !== c && (l += "#" + c), l }, setHref: function (e) { var t = this.parse(e); if (t) throw S(t); this.searchParams.update() }, getOrigin: function () { var e = this.scheme, t = this.port; if ("blob" == e) try { return new Le(e.path[0]).origin } catch (e) { return "null" } return "file" != e && this.isSpecial() ? e + "://" + ie(this.host) + (null !== t ? ":" + t : "") : "null" }, getProtocol: function () { return this.scheme + ":" }, setProtocol: function (e) { this.parse(A(e) + ":", _e) }, getUsername: function () { return this.username }, setUsername: function (e) { var t = _(A(e)); if (!this.cannotHaveUsernamePasswordPort()) { this.username = ""; for (var n = 0; n < t.length; n++)this.username += ue(t[n], le) } }, getPassword: function () { return this.password }, setPassword: function (e) { var t = _(A(e)); if (!this.cannotHaveUsernamePasswordPort()) { this.password = ""; for (var n = 0; n < t.length; n++)this.password += ue(t[n], le) } }, getHost: function () { var e = this.host, t = this.port; return null === e ? "" : null === t ? ie(e) : ie(e) + ":" + t }, setHost: function (e) { this.cannotBeABaseURL || this.parse(e, we) }, getHostname: function () { var e = this.host; return null === e ? "" : ie(e) }, setHostname: function (e) { this.cannotBeABaseURL || this.parse(e, ke) }, getPort: function () { var e = this.port; return null === e ? "" : A(e) }, setPort: function (e) { this.cannotHaveUsernamePasswordPort() || ("" == (e = A(e)) ? this.port = null : this.parse(e, De)) }, getPathname: function () { var e = this.path; return this.cannotBeABaseURL ? e[0] : e.length ? "/" + P(e, "/") : "" }, setPathname: function (e) { this.cannotBeABaseURL || (this.path = [], this.parse(e, Fe)) }, getSearch: function () { var e = this.query; return e ? "?" + e : "" }, setSearch: function (e) { "" == (e = A(e)) ? this.query = null : ("?" == O(e, 0) && (e = V(e, 1)), this.query = "", this.parse(e, Ie)), this.searchParams.update() }, getSearchParams: function () { return this.searchParams.facade }, getHash: function () { var e = this.fragment; return e ? "#" + e : "" }, setHash: function (e) { "" != (e = A(e)) ? ("#" == O(e, 0) && (e = V(e, 1)), this.fragment = "", this.parse(e, Pe)) : this.fragment = null }, update: function () { this.query = this.searchParams.serialize() || null } }; var Le = function (e) { var t = h(this, He), n = B(arguments.length, 1) > 1 ? arguments[1] : void 0, r = E(t, new Re(e, !1, n)); i || (t.href = r.serialize(), t.origin = r.getOrigin(), t.protocol = r.getProtocol(), t.username = r.getUsername(), t.password = r.getPassword(), t.host = r.getHost(), t.hostname = r.getHostname(), t.port = r.getPort(), t.pathname = r.getPathname(), t.search = r.getSearch(), t.searchParams = r.getSearchParams(), t.hash = r.getHash()) }, He = Le.prototype, je = function (e, t) { return { get: function () { return w(this)[e]() }, set: t && function (e) { return w(this)[t](e) }, configurable: !0, enumerable: !0 } }; if (i && (d(He, "href", je("serialize", "setHref")), d(He, "origin", je("getOrigin")), d(He, "protocol", je("getProtocol", "setProtocol")), d(He, "username", je("getUsername", "setUsername")), d(He, "password", je("getPassword", "setPassword")), d(He, "host", je("getHost", "setHost")), d(He, "hostname", je("getHostname", "setHostname")), d(He, "port", je("getPort", "setPort")), d(He, "pathname", je("getPathname", "setPathname")), d(He, "search", je("getSearch", "setSearch")), d(He, "searchParams", je("getSearchParams")), d(He, "hash", je("getHash", "setHash"))), u(He, "toJSON", (function () { return w(this).serialize() }), { enumerable: !0 }), u(He, "toString", (function () { return w(this).serialize() }), { enumerable: !0 }), x) { var Ge = x.createObjectURL, Ne = x.revokeObjectURL; Ge && u(Le, "createObjectURL", c(Ge, x)), Ne && u(Le, "revokeObjectURL", c(Ne, x)) } y(Le, "URL"), o({ global: !0, constructor: !0, forced: !a, sham: !i }, { URL: Le }) }, 285: (e, t, n) => { n(8789) }, 645: (e, t) => { t.read = function (e, t, n, r, o) { var i, a, s = 8 * o - r - 1, c = (1 << s) - 1, l = c >> 1, u = -7, d = n ? o - 1 : 0, h = n ? -1 : 1, f = e[t + d]; for (d += h, i = f & (1 << -u) - 1, f >>= -u, u += s; u > 0; i = 256 * i + e[t + d], d += h, u -= 8); for (a = i & (1 << -u) - 1, i >>= -u, u += r; u > 0; a = 256 * a + e[t + d], d += h, u -= 8); if (0 === i) i = 1 - l; else { if (i === c) return a ? NaN : 1 / 0 * (f ? -1 : 1); a += Math.pow(2, r), i -= l } return (f ? -1 : 1) * a * Math.pow(2, i - r) }, t.write = function (e, t, n, r, o, i) { var a, s, c, l = 8 * i - o - 1, u = (1 << l) - 1, d = u >> 1, h = 23 === o ? Math.pow(2, -24) - Math.pow(2, -77) : 0, f = r ? 0 : i - 1, p = r ? 1 : -1, _ = t < 0 || 0 === t && 1 / t < 0 ? 1 : 0; for (t = Math.abs(t), isNaN(t) || t === 1 / 0 ? (s = isNaN(t) ? 1 : 0, a = u) : (a = Math.floor(Math.log(t) / Math.LN2), t * (c = Math.pow(2, -a)) < 1 && (a--, c *= 2), (t += a + d >= 1 ? h / c : h * Math.pow(2, 1 - d)) * c >= 2 && (a++, c /= 2), a + d >= u ? (s = 0, a = u) : a + d >= 1 ? (s = (t * c - 1) * Math.pow(2, o), a += d) : (s = t * Math.pow(2, d - 1) * Math.pow(2, o), a = 0)); o >= 8; e[n + f] = 255 & s, f += p, s /= 256, o -= 8); for (a = a << o | s, l += o; l > 0; e[n + f] = 255 & a, f += p, a /= 256, l -= 8); e[n + f - p] |= 128 * _ } }, 5826: e => { var t = {}.toString; e.exports = Array.isArray || function (e) { return "[object Array]" == t.call(e) } }, 3058: (e, t, n) => { "use strict"; n.d(t, { Z: () => i }); var r = n(1519), o = n.n(r)()((function (e) { return e[1] })); o.push([e.id, ".splashscreen[data-v-024c08af]{align-items:center;display:flex;flex-direction:column;height:100vh;justify-content:space-evenly;position:absolute;top:0;width:100vw;z-index:10}.splashscreen__image-container[data-v-024c08af]{background-position:50%;background-repeat:no-repeat;background-size:contain;height:40%;margin:0 auto;max-height:380px;width:70%}.splashscreen__button[data-v-024c08af]{border:none;border-radius:5px;font-size:1rem;margin:0 auto 20%;max-width:200px;min-height:55px;width:70%}@media screen and (min-width:768px){.splashscreen__button[data-v-024c08af]{font-size:1.5rem;max-width:280px;min-height:70px}}@media screen and (min-width:1024px){.splashscreen__button[data-v-024c08af]{margin:0 auto}}", ""]); const i = o }, 4008: (e, t, n) => { "use strict"; n.d(t, { Z: () => i }); var r = n(1519), o = n.n(r)()((function (e) { return e[1] })); o.push([e.id, ".scene-overlays{position:relative;z-index:1}.scene-overlay{position:absolute}.scene-overlay>*{pointer-events:auto}.scene-overlay,.scene-overlays{height:100vh;left:0;pointer-events:none;top:0;width:100vw}", ""]); const i = o }, 9343: (e, t, n) => { "use strict"; n.d(t, { Z: () => i }); var r = n(1519), o = n.n(r)()((function (e) { return e[1] })); o.push([e.id, ".btn[data-v-2ea96e66],.share-btn[data-v-2ea96e66]{pointer-events:auto}.btn[data-v-2ea96e66]{cursor:pointer;display:inline;padding:.25rem}.camera-icon[data-v-2ea96e66]{margin-bottom:1rem}.overlay[data-v-2ea96e66]:before{background:rgba(0,0,0,.75);height:100vh;position:relative;width:100vw}.screenshot[data-v-2ea96e66]{width:100%}.screenshot>span[data-v-2ea96e66]{margin:auto}.preview-block[data-v-2ea96e66]{display:block;justify-items:center;position:relative}.preview-block p[data-v-2ea96e66]{margin-left:-10vw;margin-right:-10vw}.preview[data-v-2ea96e66]{border-radius:4px;box-shadow:none;display:block;filter:drop-shadow(0 0 1rem rgba(0,0,0,.2));height:auto;margin:inherit;max-height:50vh;max-width:80vw;-o-object-fit:contain;object-fit:contain;position:relative;width:100%}._blinking[data-v-2ea96e66]{animation:blink-2ea96e66 1s ease infinite}@keyframes blink-2ea96e66{0%,to{opacity:0}50%{opacity:1}}", ""]); const i = o }, 1321: (e, t, n) => { "use strict"; n.d(t, { Z: () => i }); var r = n(1519), o = n.n(r)()((function (e) { return e[1] })); o.push([e.id, ".share-btn[data-v-17a712c6]{color:#000;padding:.5rem;text-decoration:none}", ""]); const i = o }, 1519: e => { "use strict"; e.exports = function (e) { var t = []; return t.toString = function () { return this.map((function (t) { var n = e(t); return t[2] ? "@media ".concat(t[2], " {").concat(n, "}") : n })).join("") }, t.i = function (e, n, r) { "string" == typeof e && (e = [[null, e, ""]]); var o = {}; if (r) for (var i = 0; i < this.length; i++) { var a = this[i][0]; null != a && (o[a] = !0) } for (var s = 0; s < e.length; s++) { var c = [].concat(e[s]); r && o[c[0]] || (n && (c[2] ? c[2] = "".concat(n, " and ").concat(c[2]) : c[2] = n), t.push(c)) } }, t } }, 4155: e => { var t, n, r = e.exports = {}; function o() { throw new Error("setTimeout has not been defined") } function i() { throw new Error("clearTimeout has not been defined") } function a(e) { if (t === setTimeout) return setTimeout(e, 0); if ((t === o || !t) && setTimeout) return t = setTimeout, setTimeout(e, 0); try { return t(e, 0) } catch (n) { try { return t.call(null, e, 0) } catch (n) { return t.call(this, e, 0) } } } !function () { try { t = "function" == typeof setTimeout ? setTimeout : o } catch (e) { t = o } try { n = "function" == typeof clearTimeout ? clearTimeout : i } catch (e) { n = i } }(); var s, c = [], l = !1, u = -1; function d() { l && s && (l = !1, s.length ? c = s.concat(c) : u = -1, c.length && h()) } function h() { if (!l) { var e = a(d); l = !0; for (var t = c.length; t;) { for (s = c, c = []; ++u < t;)s && s[u].run(); u = -1, t = c.length } s = null, l = !1, function (e) { if (n === clearTimeout) return clearTimeout(e); if ((n === i || !n) && clearTimeout) return n = clearTimeout, clearTimeout(e); try { n(e) } catch (t) { try { return n.call(null, e) } catch (t) { return n.call(this, e) } } }(e) } } function f(e, t) { this.fun = e, this.array = t } function p() { } r.nextTick = function (e) { var t = new Array(arguments.length - 1); if (arguments.length > 1) for (var n = 1; n < arguments.length; n++)t[n - 1] = arguments[n]; c.push(new f(e, t)), 1 !== c.length || l || a(h) }, f.prototype.run = function () { this.fun.apply(null, this.array) }, r.title = "browser", r.browser = !0, r.env = {}, r.argv = [], r.version = "", r.versions = {}, r.on = p, r.addListener = p, r.once = p, r.off = p, r.removeListener = p, r.removeAllListeners = p, r.emit = p, r.prependListener = p, r.prependOnceListener = p, r.listeners = function (e) { return [] }, r.binding = function (e) { throw new Error("process.binding is not supported") }, r.cwd = function () { return "/" }, r.chdir = function (e) { throw new Error("process.chdir is not supported") }, r.umask = function () { return 0 } }, 3379: (e, t, n) => { "use strict"; var r, o = function () { var e = {}; return function (t) { if (void 0 === e[t]) { var n = document.querySelector(t); if (window.HTMLIFrameElement && n instanceof window.HTMLIFrameElement) try { n = n.contentDocument.head } catch (e) { n = null } e[t] = n } return e[t] } }(), i = []; function a(e) { for (var t = -1, n = 0; n < i.length; n++)if (i[n].identifier === e) { t = n; break } return t } function s(e, t) { for (var n = {}, r = [], o = 0; o < e.length; o++) { var s = e[o], c = t.base ? s[0] + t.base : s[0], l = n[c] || 0, u = "".concat(c, " ").concat(l); n[c] = l + 1; var d = a(u), h = { css: s[1], media: s[2], sourceMap: s[3] }; -1 !== d ? (i[d].references++, i[d].updater(h)) : i.push({ identifier: u, updater: _(h, t), references: 1 }), r.push(u) } return r } function c(e) { var t = document.createElement("style"), r = e.attributes || {}; if (void 0 === r.nonce) { var i = n.nc; i && (r.nonce = i) } if (Object.keys(r).forEach((function (e) { t.setAttribute(e, r[e]) })), "function" == typeof e.insert) e.insert(t); else { var a = o(e.insert || "head"); if (!a) throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid."); a.appendChild(t) } return t } var l, u = (l = [], function (e, t) { return l[e] = t, l.filter(Boolean).join("\n") }); function d(e, t, n, r) { var o = n ? "" : r.media ? "@media ".concat(r.media, " {").concat(r.css, "}") : r.css; if (e.styleSheet) e.styleSheet.cssText = u(t, o); else { var i = document.createTextNode(o), a = e.childNodes; a[t] && e.removeChild(a[t]), a.length ? e.insertBefore(i, a[t]) : e.appendChild(i) } } function h(e, t, n) { var r = n.css, o = n.media, i = n.sourceMap; if (o ? e.setAttribute("media", o) : e.removeAttribute("media"), i && "undefined" != typeof btoa && (r += "\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i)))), " */")), e.styleSheet) e.styleSheet.cssText = r; else { for (; e.firstChild;)e.removeChild(e.firstChild); e.appendChild(document.createTextNode(r)) } } var f = null, p = 0; function _(e, t) { var n, r, o; if (t.singleton) { var i = p++; n = f || (f = c(t)), r = d.bind(null, n, i, !1), o = d.bind(null, n, i, !0) } else n = c(t), r = h.bind(null, n, t), o = function () { !function (e) { if (null === e.parentNode) return !1; e.parentNode.removeChild(e) }(n) }; return r(e), function (t) { if (t) { if (t.css === e.css && t.media === e.media && t.sourceMap === e.sourceMap) return; r(e = t) } else o() } } e.exports = function (e, t) { (t = t || {}).singleton || "boolean" == typeof t.singleton || (t.singleton = (void 0 === r && (r = Boolean(window && document && document.all && !window.atob)), r)); var n = s(e = e || [], t); return function (e) { if (e = e || [], "[object Array]" === Object.prototype.toString.call(e)) { for (var r = 0; r < n.length; r++) { var o = a(n[r]); i[o].references-- } for (var c = s(e, t), l = 0; l < n.length; l++) { var u = a(n[l]); 0 === i[u].references && (i[u].updater(), i.splice(u, 1)) } n = c } } } }, 3744: (e, t) => { "use strict"; t.Z = (e, t) => { const n = e.__vccOpts || e; for (const [e, r] of t) n[e] = r; return n } }, 5767: (e, t, n) => { "use strict"; n.d(t, { Z: () => f }); var r = n(5647), o = n(1002), i = n(2875), a = (n(9653), n(1058), n(8862), n(2222), n(9826), n(1539), n(8309), n(9554), n(4747), n(7658), n(8783), n(3948), n(285), n(1637), n(1536)), s = n(402), c = n(7365), l = n(1631), u = n(1343), d = n(3812); const h = { mixins: [l.Z], props: { object_lists: Array, behaviour_lists: Array, marker_defs: Array, qr_trackng_mode: Number, language: { type: String, default: "en" }, default_language: { type: String, default: "en" } }, created: function () { this.controller = new WEBAR.Controller(this.videosource, this.tracking, this.display, this.touchscreen, this.scene_manager, this.browser) }, mounted: function () { var e, t, n = this, r = this.controller, o = this.display, a = this.tracking, s = this.scene_manager; u.Z.setup(r, (0, i.Z)((0, i.Z)({}, null !== (e = d[this.default_language]) && void 0 !== e ? e : {}), null !== (t = d[this.language]) && void 0 !== t ? t : {})); var l = !1; r.AddEvent("browser_up", (function () { n.controller.Log("checking browser negotiation reasons..."); var e = []; r.FireEvent("browser.get_negotiation_reasons", e), e.length && (l = !0, n.controller.Log("browser negotiated! negotiation_reasons: ", e), u.Z.handleNegotiationReasonsModals(e)) })), r.AddEvent("user_camera_requested", (function (e) { u.Z.handleCameraModals(e) })), r.Init().then((function () { if (s.object_env = { is_viewer: !0, Helper: c.Z, THREE: THREE, THREEx: THREEx, renderer: n.display.renderer, camera: n.display.camera, global_scene: n.display.scene }, window.resetPreloader && window.resetPreloader(), !l) { THREE.Cache.enabled = !0, o.renderer.outputEncoding = THREE.sRGBEncoding, o.renderer.gammaFactor = 2.2, o.scene.background.encoding = THREE.sRGBEncoding; var e = o.scene, t = n.scene; e.add(t), n.setupLights(e, r.display.renderer, { ambient: { color: 16777215, intensity: 3 }, directional: { color: 16777215, intensity: .5, position: [10, 10, 0] } }), !function e() { u.Z.handleScanQrModal().then((function (t) { r.control_loop_tracking.idle = !0, u.Z.handleResultQrModal(n.parseQrText(t)).then((function () { r.control_loop_tracking.idle = !1, e() })) })) }(), s.reload_scenes = !0, r.AddEvent("user_marker_scene_created", (function (e, t) { var r; if (t.color = "0x".concat((r = ["FF0000", "FF7F00", "FFFF00", "00FF00", "0000FF", "2E2B5F", "8B00FF"])[parseInt(r.length * Math.random())]), !s.getTrackingMarkerDef(t.index)) { var o = n.parseQrText(t.text); "link" == o.type ? o.content : "javascript:alert('text: '+".concat(JSON.stringify(o.content), ")"), a.marker_defs[t.index] = { page_objects: [{ id: 1481, object_list_id: 5, page_id: 416, transform_pos_x: .47, transform_pos_y: .09, transform_pos_z: .01, transform_rot_x: -1.5708, transform_rot_y: 0, transform_rot_z: 1.5708, transform_rot_w: 0, transform_scale: 1, scene_template_transform: "", vars: { video_url: "https://365508.selcdn.ru/examples/output.mp4", mask_url: "https://365508.selcdn.ru/examples/mask.png" }, created_at: "2020-10-21T08:08:51.000000Z", updated_at: "2020-10-21T08:16:19.000000Z", transform_scale_x: 1, transform_scale_y: 1, transform_scale_z: 1, behaviours: [] }, { id: 1482, object_list_id: 12, page_id: 416, transform_pos_x: 0, transform_pos_y: 0, transform_pos_z: 0, transform_rot_x: 0, transform_rot_y: 0, transform_rot_z: 0, transform_rot_w: 0, transform_scale: 1, scene_template_transform: "", vars: { Color: "0xffffff", Intensity: "1" }, created_at: "2020-10-21T08:08:51.000000Z", updated_at: "2020-10-21T08:08:51.000000Z", transform_scale_x: 1, transform_scale_y: 1, transform_scale_z: 1, behaviours: [] }, { id: 1483, object_list_id: 8, page_id: 416, transform_pos_x: 3, transform_pos_y: 3, transform_pos_z: 0, transform_rot_x: 0, transform_rot_y: 0, transform_rot_z: 0, transform_rot_w: 0, transform_scale: 1, scene_template_transform: "", vars: { Color: "0xffffff", Intensity: "1" }, created_at: "2020-10-21T08:08:51.000000Z", updated_at: "2020-10-21T08:08:51.000000Z", transform_scale_x: 1, transform_scale_y: 1, transform_scale_z: 1, behaviours: [] }] } } })), r.AddEvent("user_marker_hide", (function (e, t) { var r = s.hideScene(e); console.log("hide marker ".concat(t, " color ").concat(e.color), { marker: e, marker_scene: r }), s.pauseScene(e), n.scene.remove(r) })), r.AddEvent("user_marker_show", (function (e, t) { var r = s.showSingleScene(e); console.log("show marker ".concat(t, " color ").concat(e.color), { marker: e, marker_scene: r }), s.resumeScene(e), n.scene.add(r) })), r.Run(), window.controller = r, window.scanner = n, r.control_loop_display.limit_fps = r.control_loop_tracking.limit_fps = 10 } })) }, data: function () { var e, t, n = WEBAR.WorkerChat("/js/tracking_worker.js?/js/build/qr/new/"), r = new WEBAR.QRMarkerOpticalTracking(null !== (e = this.marker_defs) && void 0 !== e ? e : [], n); r.allow_new_markers = !0, r.qr_trackng_mode = null !== (t = this.qr_trackng_mode) && void 0 !== t ? t : 2, r.reset_qr_tracking_result_timeout = 0; var o = new WEBAR.SceneManager(this.getPageObjectLoader, this.makePageObjectBehaviour); return { page_objects: [], videosource: new WEBAR.RearCameraVideoSource(640, 480, 30), tracking: r, display: new WEBAR.Display(document.body, "100vw", "100vh", void 0, "current_target"), touchscreen: new WEBAR.Touchscreen, scene_manager: o, browser: new WEBAR.Browser(!1), controller: void 0, scene: new THREE.Object3D } }, methods: { getPageObjectLoader: function (e) { var t = this.object_lists.find((function (t) { return t.id == e.object_list_id })); return a.Z[t.name] = t.module_url, a.Z[t.name] }, makePageObjectBehaviour: function (e) { var t = this, n = []; return e.forEach((function (e) { if ("object" === (0, o.Z)(e) && e.behaviour_list_id) { var r = t.behaviour_lists.find((function (t) { return t.id == e.behaviour_list_id })); n.push(r.name) } else n.push(e) })), (0, r.Z)(s.T, n) }, parseQrText: function (e) { var t, n; try { t = new URL(e), n = "link" } catch (r) { n = "text", t = e } return { type: n, content: t } } } }, f = (0, n(3744).Z)(h, [["render", function (e, t, n, r, o, i) { return null }]]) }, 2965: (e, t, n) => { "use strict"; n.d(t, { Z: () => Ae }); var r = n(1002), o = n(4165), i = n(5861), a = n(6854), s = n(2875), c = n(5647), l = n(1451), u = (n(9653), n(2222), n(9554), n(1539), n(4747), n(7327), n(8309), n(7658), n(8783), n(3948), n(2564), n(9720), n(1249), n(1038), n(9826), n(821)), d = n(1536), h = n(402), f = n(7365); const p = { data: function () { return {} }, methods: { CylinderTracking_initTransformations: function () { var e = this.scene, t = new THREE.Quaternion; t.setFromAxisAngle(new THREE.Vector3(1, 0, 0), -Math.PI / 2).multiply((new THREE.Quaternion).setFromAxisAngle(new THREE.Vector3(0, 1, 0), Math.PI / 2)), e.quaternion.multiply(t), e.scale.multiplyScalar(2) } } }; var _ = n(1343); const v = { data: function () { return { instant_stream_coords: (0, u.markRaw)(new THREE.Vector2) } }, methods: { InstantTracking_initTransformations: function () { this.scene.scale.setScalar(this.scene_scale) }, InstantTracking_transformPinch: function (e) { var t = e.object, n = e.on_apply_transform, r = e.on_end_transform, o = new THREE.Vector3, i = new THREE.Euler, a = function (e) { t.scale.copy(o).multiplyScalar(e.zoom_value), t.rotation.copy(i), t.rotation.y += e.rotate_value, n() }; controller.AddEvent("user_pinch_start", (function (e) { o.copy(t.scale), i.copy(t.rotation) }), !0), controller.AddEvent("user_pinch_move", a), controller.AddEvent("user_pinch_end", (function () { controller.RemoveEvent("user_pinch_move", a), a.apply(void 0, arguments), r() }), !0) }, InstantTracking_placeOnMouseCoords: function (e) { var t = this; return (0, i.Z)((0, o.Z)().mark((function n() { var r; return (0, o.Z)().wrap((function (n) { for (; ;)switch (n.prev = n.next) { case 0: return (r = t.controller).FireEvent("display.convert_scene_to_stream_coords_normalized", e, t.instant_stream_coords), n.next = 4, r.FireEvent("tracking.instant_motion_reset", t.instant_stream_coords.x, t.instant_stream_coords.y); case 4: return n.next = 6, new Promise((function (e) { r.AddEvent("display.track_video", e, !0) })); case 6: return n.next = 8, new Promise((function (e) { r.AddEvent("display.set_background_image_data", e, !0) })); case 8: case "end": return n.stop() } }), n) })))() }, InstantTracking_setupScene: function () { var e = this, t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, n = t.place_on_start_with_helper, r = void 0 !== n && n, a = t.place_on_rotate_with_helper, s = void 0 !== a && a, c = t.place_on_every_click_space, l = void 0 !== c && c, u = t.transform_on_start_with_helper, d = void 0 !== u && u, h = t.transform_on_rotate_with_helper, f = void 0 !== h && h, p = t.transform_on_every_click_space_with_helper, v = void 0 !== p && p, m = t.transform_on_every_pinch, g = void 0 !== m && m, A = t.place_helper_text, y = void 0 === A ? void 0 : A, B = t.place_helper_image, b = void 0 === B ? void 0 : B, C = t.transform_helper_text, E = void 0 === C ? void 0 : C, w = t.transform_helper_image, k = void 0 === w ? void 0 : w, D = this.controller, x = this.pauser; this.is_markerless_scene_shown = !1, setTimeout(this.showMarkerlessScene, 1); var S = new THREE.Vector2; D.AddEvent("viewer_create_instant_place_promise", (function (t) { var n; e.hideMarkerlessScene(); var r = new Promise((function (e) { n = e })); x.addPromise(r); var a = function () { var t = (0, i.Z)((0, o.Z)().mark((function t(r) { return (0, o.Z)().wrap((function (t) { for (; ;)switch (t.prev = t.next) { case 0: return D.FireEvent("touchscreen_get_mouse_coords", S), t.next = 3, e.InstantTracking_placeOnMouseCoords(S); case 3: n(); case 4: case "end": return t.stop() } }), t) }))); return function (e) { return t.apply(this, arguments) } }(); return Object.assign(t, { do_place: a, promise: r }) })), D.AddEvent("viewer_create_instant_transform_promise", (function (e) { var t, n = new Promise((function (e) { t = e })); return x.addPromise(n), Object.assign(e, { promise: n, on_end_transform: t }) })); var M = function () { return new Promise((function (t) { _.Z.handleInstantPlaceSceneModal.call(e, { on_done_callback: t, text: y, image: b }) })) }, F = function () { return new Promise((function (t) { _.Z.handleInstantTransformSceneModal.call(e, { object: e.scene, on_done_callback: t, text: E, image: k }) })) }; setTimeout((function () { (0, i.Z)((0, o.Z)().mark((function t() { return (0, o.Z)().wrap((function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (!r) { t.next = 4; break } return t.next = 3, M(); case 3: e.showMarkerlessScene(); case 4: if (!d || g) { t.next = 7; break } return t.next = 7, F(); case 7: case "end": return t.stop() } }), t) })))(), D.AddEvent("display.set_stream_dimensions", (0, i.Z)((0, o.Z)().mark((function t() { return (0, o.Z)().wrap((function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (!s) { t.next = 4; break } return t.next = 3, M(); case 3: e.showMarkerlessScene(); case 4: if (!f || g) { t.next = 7; break } return t.next = 7, F(); case 7: case "end": return t.stop() } }), t) })))), D.AddEvent("touchscreen_space_click", function () { var t = (0, i.Z)((0, o.Z)().mark((function t(n) { return (0, o.Z)().wrap((function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (!l) { t.next = 3; break } return t.next = 3, e.InstantTracking_placeOnMouseCoords(n); case 3: if (!v || g) { t.next = 6; break } return t.next = 6, F(); case 6: case "end": return t.stop() } }), t) }))); return function (e) { return t.apply(this, arguments) } }()), g && function t() { e.InstantTracking_transformPinch({ object: e.scene, on_apply_transform: function () { }, on_end_transform: t }) }() }), 2) } } }, m = { data: function () { return {} }, methods: { MarkerlessTracking_initTransformations: function () { this.scene.scale.setScalar(this.scene_scale) }, MarkerlessTracking_setupScene: function () { this.is_markerless_scene_shown = !1, setTimeout(this.showMarkerlessScene, 1) } } }, g = { data: function () { return { svo_surface_mesh: void 0, svo_surface_time: 0, svo_surface_aminate_fuse: !0 } }, methods: { SVODistoplaneTracking_initTransformations: function () { this.scene; var e = this.controller, t = new THREE.Quaternion; t.setFromAxisAngle(new THREE.Vector3(1, 0, 0), -Math.PI / 2), e.AddEvent("user_marker_scene_created", (function (e, n) { e.quaternion.copy(t) })) }, SVODistoplaneTracking_setupScene: function () { var e = this, t = this.controller, n = this.display, r = this.scene_manager; t.AddEvent("scenemanager_create_svo_distoplane_place_promise", (function (t) { return setTimeout((function () { e.hideMarkerlessScene(), t.promise.then((function (t) { var n = t.point, o = t.scale; e.showMarkerlessScene(); var i = r.scenes.get(0); i.position.copy(n), i.scale.setScalar(o * e.scene_scale) })) }), 1) })), t.AddEvent("tracking_svo_surface_mesh_created", (function (t) { e.svo_surface_mesh = (0, u.markRaw)(t), n.scene.add(e.svo_surface_mesh) })); t.AddEvent("user_render_animation", (function (t) { e.svo_surface_mesh && e.svo_surface_aminate_fuse && (e.svo_surface_time += t, e.svo_surface_mesh.material.uniforms.time.value = e.svo_surface_time, e.svo_surface_time > 1 && (e.svo_surface_aminate_fuse = !1, e.svo_surface_mesh.visible = !1)) })), _.Z.handleSVOMarkerlessTrackingModals({ show_markerless_scene_callback: this.showMarkerlessScene, hide_markerless_scene_callback: this.hideMarkerlessScene, place_on_every_click_callback: function () { e.svo_surface_time = 0, e.svo_surface_aminate_fuse = !0, e.svo_surface_mesh.visible = !0 } }) } } }, A = { data: function () { return { watermark_element: void 0 } }, methods: { Watermark_init: function () { var e, t = this; this.watermark_element = ((e = document.createElement("img")).src = t.watermark_image_url, Object.assign(e.style, { position: "absolute", width: "50vw", maxWidth: "250px", opacity: "30%", bottom: "1rem", left: "1rem", display: "none" }), e), this.scene_overlays.scene_brandings.appendChild(this.watermark_element), this.controller.AddEvent("viewer_any_scene_shown", (function () { t.Watermark_show() })), this.controller.AddEvent("viewer_all_scenes_hidden", (function () { t.Watermark_hide() })) }, Watermark_show: function () { this.watermark_element.style.display = "block" }, Watermark_hide: function () { this.watermark_element.style.display = "none" } } }, y = { data: function () { return { custom_logo_element: void 0 } }, methods: { CustomLogo_init: function () { var e = this, t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, n = 1; t.hasOwnProperty("logo_enabled") && (n = 2), t.image_url && (n >= 2 && !t.logo_enabled || (this.custom_logo_element = function () { var r, o = document.createElement("img"); o.src = t.image_url || e.watermark_image_url; var i = (null === (r = t.position) || void 0 === r ? void 0 : r.split("_")) || ["top", "middle"], c = (0, a.Z)(i, 2), l = c[0], u = c[1], d = t.size, h = n >= 2 ? "60%" : "".concat(null != d ? d : 100, "%"), f = n >= 2 ? "".concat(t.logo_opacity / 100) : "1", p = n >= 2 ? "25%" : "".concat(null != d ? d : 100, "%"); return Object.assign(o.style, (0, s.Z)((0, s.Z)((0, s.Z)({ position: "absolute" }, { right: { right: "1rem" }, left: { left: "1rem" }, middle: { left: "0", right: "0", marginLeft: "auto", marginRight: "auto" } }[u]), { top: { top: "2rem" }, bottom: { bottom: "2rem" }, center: { bottom: "0", top: "0", marginTop: "auto", marginBottom: "auto" } }[l]), {}, { maxWidth: h, maxHeight: p, height: "auto", width: "auto", display: "none", opacity: f })), n >= 2 && t.logo_link && o.addEventListener("click", (function () { return window.location.href = t.logo_link }), !1), o }(), this.scene_overlays.scene_brandings.appendChild(this.custom_logo_element), this.controller.AddEvent("viewer_any_scene_shown", (function () { e.CustomLogo_show() })), this.controller.AddEvent("viewer_all_scenes_hidden", (function () { e.CustomLogo_hide() })))) }, CustomLogo_show: function () { this.custom_logo_element.style.display = "block" }, CustomLogo_hide: function () { this.custom_logo_element.style.display = "none" } } }; n(8862); var B = { key: 0, class: "splashscreen__text" }; const b = { name: "Splashscreen", props: { viewerModal: { type: Object, default: function () { } }, image: { type: String, default: "" }, text: { type: String, default: "" }, background: { type: String, default: "" }, behaviour: { type: Object, default: { type: "timeout", timeout: 3e3 } }, onmodalshow: { type: Function, default: function () { } }, buttonBackground: { type: String, default: "#FFFFFF" }, buttonText: { type: String, default: "" }, buttonTextColor: { type: String, default: "#000000" } }, data: function () { return { hide_promise: void 0, hide_callback: void 0, modal: void 0 } }, methods: { show: function () { var e = this; this.hide_promise = new Promise((function (t) { e.hide_callback = t })); var t = { onshow: this.onmodalshow, backgroundSize: "contain", backgroundColor: this.background || "#0000008c", backgroundImage: "url(".concat(JSON.stringify(this.image), ")"), paddings: [0, 0, 0, 0] }; switch (this.behaviour.type) { case "timeout": this.modal = this.viewerModal.addHtmlModal(this.$el, (0, s.Z)({ promise: this.hide_promise }, t)), setTimeout((function () { e.hide() }), this.behaviour.timeout); break; case "untilclick": this.modal = this.viewerModal.addHtmlModalUntilClick(this.$el, t) }return !!this.modal }, hide: function () { return this.hide_callback && this.hide_callback(), !!this.modal } } }; var C = n(3379), E = n.n(C), w = n(3058); E()(w.Z, { insert: "head", singleton: !1 }), w.Z.locals; var k = n(3744); const D = (0, k.Z)(b, [["render", function (e, t, n, r, o, i) { return (0, u.openBlock)(), (0, u.createElementBlock)("div", { style: (0, u.normalizeStyle)({ background: n.background }), class: "splashscreen" }, [(0, u.createElementVNode)("div", { style: (0, u.normalizeStyle)({ backgroundImage: "url(".concat(JSON.stringify(n.image), ")") }), class: "splashscreen__image-container" }, null, 4), n.text ? ((0, u.openBlock)(), (0, u.createElementBlock)("div", B, (0, u.toDisplayString)(n.text), 1)) : (0, u.createCommentVNode)("", !0), (0, u.createElementVNode)("button", { class: "splashscreen__button", style: (0, u.normalizeStyle)({ background: n.buttonBackground, color: n.buttonTextColor }) }, (0, u.toDisplayString)(n.buttonText), 5)], 4) }], ["__scopeId", "data-v-024c08af"]]), x = { data: function () { return { splashscreen_instance: void 0 } }, methods: { SplashScreen_init: function () { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, t = this.pauser, n = _.Z.getViewerModal(), r = e.image_url, o = e.enabled, i = void 0 === o || o, a = e.text, s = e.background; if (r) { if (!i) return; var c = e.button_text, l = void 0 === c ? null : c, d = e.background_additional, h = void 0 === d ? null : d, f = e.background_angle, p = void 0 === f ? null : f, v = e.button_background_additional, m = void 0 === v ? null : v, g = e.button_background, A = void 0 === g ? null : g, y = e.button_background_angle, B = void 0 === y ? null : y, b = e.button_text_color, C = void 0 === b ? null : b, E = (0, u.createApp)(D, { viewerModal: n, image: r, text: a, buttonText: l, background: h ? "linear-gradient(".concat(p, "deg, ").concat(s, ",  ").concat(h, ")") : s, buttonBackground: m ? "linear-gradient(".concat(B, "deg, ").concat(A, ", ").concat(m, ")") : A, buttonTextColor: C, behaviour: { type: "untilclick" }, onmodalshow: function (e) { e.name = "splashscreen promise", t.addPromise(e) } }); E.$root = this.$root; var w = document.createElement("div"); w.id = "viewer_splashscreen", this.splashscreen_instance = E.mount(w) } }, SplashScreen_show: function () { this.splashscreen_instance && this.splashscreen_instance.show() } } }; var S = { ref: "hiddenDownloadLink", href: "#", download: "", style: { display: "none" } }, M = { key: 0, class: "preview-block" }, F = ["src"], T = ["src"], O = [(0, u.createStaticVNode)('<svg xmlns="http://www.w3.org/2000/svg" width="47" height="47" viewBox="0 0 47 47" data-v-2ea96e66><defs data-v-2ea96e66><linearGradient id="linear-gradient" x1="0.5" x2="0.5" y2="1" gradientUnits="objectBoundingBox" data-v-2ea96e66><stop offset="0" stop-color="#3d72ff" data-v-2ea96e66></stop><stop offset="1" stop-color="#14beff" data-v-2ea96e66></stop></linearGradient></defs><g id="download-button" transform="translate(-16 -662)" data-v-2ea96e66><circle id="Ellipse_35" data-name="Ellipse 35" cx="23.5" cy="23.5" r="23.5" transform="translate(16 662)" fill="#fff" data-v-2ea96e66></circle><path id="Path_6" data-name="Path 6" d="M21.99,19.1V25H3.955V19.1H.489v7.629a1.733,1.733,0,0,0,1.736,1.732h21.5a1.733,1.733,0,0,0,1.736-1.732V19.1Z" transform="translate(26.511 670.413)" fill="url(#linear-gradient)" data-v-2ea96e66></path><path id="Path_7" data-name="Path 7" d="M14.736,18.774l-5.873-7.1s-.894-.844.075-.844h3.309V.5s-.131-.5.627-.5h4.658c.546,0,.534.424.534.424v10.2h3.055c1.176,0,.29.883.29.883s-5,6.633-5.694,7.329A.652.652,0,0,1,14.736,18.774Z" transform="translate(23.858 672)" fill="url(#linear-gradient)" data-v-2ea96e66></path></g></svg>', 1)], I = [(0, u.createStaticVNode)('<svg xmlns="http://www.w3.org/2000/svg" width="47" height="47" viewBox="0 0 47 47" data-v-2ea96e66><defs data-v-2ea96e66><linearGradient id="linear-gradient" x1="0.5" x2="0.5" y2="1" gradientUnits="objectBoundingBox" data-v-2ea96e66><stop offset="0" stop-color="#3d72ff" data-v-2ea96e66></stop><stop offset="1" stop-color="#14beff" data-v-2ea96e66></stop></linearGradient></defs><g id="close-button" transform="translate(-16 -662)" data-v-2ea96e66><circle id="Ellipse_35" data-name="Ellipse 35" cx="23.5" cy="23.5" r="23.5" transform="translate(16 662)" fill="#fff" data-v-2ea96e66></circle><path id="Path_6" data-name="Path 6" d="m11.17,37.16l83.48,0a8.4,8.4 0 0 1 2,0.16a5.93,5.93 0 0 1 2.88,1.56a5.43,5.43 0 0 1 1.64,3.34a7.65,7.65 0 0 1 -0.06,1.44l-7.11,73.65l0,0l0,0.13l0,0.28l0,0a7.06,7.06 0 0 1 -0.2,0.9l0,0l0,0.06l0,0a5.89,5.89 0 0 1 -5.47,4.07l-71.01,0a6.17,6.17 0 0 1 -1.25,-0.19a6.17,6.17 0 0 1 -1.16,-0.48l0,0a6.18,6.18 0 0 1 -3.08,-4.88l-7,-73.49a7.69,7.69 0 0 1 -0.06,-1.66a5.37,5.37 0 0 1 1.63,-3.29a6,6 0 0 1 3,-1.58a8.94,8.94 0 0 1 1.79,-0.13l-0.02,0.11zm-5.52,-28.36l31.47,0l0,-2.8l0,0a2.44,2.44 0 0 1 0,-0.27a6,6 0 0 1 1.76,-4l0,0a6,6 0 0 1 4.21,-1.73l19.37,0l0.3,0a6,6 0 0 1 5.7,6l0,0l0,0l0,2.8l32,0l0.39,0a4.7,4.7 0 0 1 4.31,4.43c0,0.18 0,0.32 0,0.5l0,9.86a2.59,2.59 0 0 1 -2.59,2.59l-99.98,0a2.59,2.59 0 0 1 -2.59,-2.56l0,-10.09l0,0a1.56,1.56 0 0 1 0,-0.31l0,0a4.72,4.72 0 0 1 3.88,-4.34a10.4,10.4 0 0 1 1.77,-0.08zm42.1,52.7a4.77,4.77 0 0 1 9.49,0l0,37a4.77,4.77 0 0 1 -9.49,0l0,-37zm23.73,-0.2a4.58,4.58 0 0 1 5,-4.06a4.47,4.47 0 0 1 4.51,4.46l-2,37a4.57,4.57 0 0 1 -5,4.06a4.47,4.47 0 0 1 -4.51,-4.46l2,-37zm-46.48,0.4a4.46,4.46 0 0 1 4.5,-4.46a4.58,4.58 0 0 1 5,4.06l2,37a4.47,4.47 0 0 1 -4.51,4.46a4.57,4.57 0 0 1 -5,-4.06l-2,-37l0.01,0z" transform="translate(26.511 670.413) scale(0.25 0.25)" fill="url(#linear-gradient)" data-v-2ea96e66></path></g></svg>', 1)], P = { key: 1, class: "screenshot" }, R = { key: 0, xmlns: "http://www.w3.org/2000/svg", width: "72", height: "72", name: "recording-icon", viewBox: "0 0 72 72" }, L = [(0, u.createStaticVNode)('<g id="video" transform="translate(-154 -647)" data-v-2ea96e66><circle id="Ellipse_34" data-name="Ellipse 34" cx="36" cy="36" r="36" transform="translate(154 647)" fill="#fff" data-v-2ea96e66></circle><g id="Ellipse_33" data-name="Ellipse 33" transform="translate(160 653)" fill="none" stroke="#1a86fb" stroke-width="2" data-v-2ea96e66><circle cx="30" cy="30" r="30" stroke="none" data-v-2ea96e66></circle><circle cx="30" cy="30" r="29" fill="none" data-v-2ea96e66></circle></g><path class="blinking" id="XMLID_21_" d="M130,173a18,18,0,1,0,18-18A18,18,0,0,0,130,173Z" transform="translate(42 510)" fill="#e3342f" data-v-2ea96e66></path></g>', 1)], H = { key: 1, xmlns: "http://www.w3.org/2000/svg", "xmlns:xlink": "http://www.w3.org/1999/xlink", width: "72", height: "72", name: "camera-icon", viewBox: "0 0 72 72" }, j = [(0, u.createStaticVNode)('<defs data-v-2ea96e66><linearGradient id="linear-gradient" x1="0.5" x2="0.5" y2="1" gradientUnits="objectBoundingBox" data-v-2ea96e66><stop offset="0" stop-color="#3d72ff" data-v-2ea96e66></stop><stop offset="1" stop-color="#14beff" data-v-2ea96e66></stop></linearGradient></defs><g id="camera" transform="translate(-154 -647)" data-v-2ea96e66><circle id="Ellipse_34" data-name="Ellipse 34" cx="36" cy="36" r="36" transform="translate(154 647)" fill="#fff" data-v-2ea96e66></circle><g id="Ellipse_33" data-name="Ellipse 33" transform="translate(161 654)" fill="none" stroke="#1a86fb" stroke-width="2" data-v-2ea96e66><circle cx="29.5" cy="29.5" r="29.5" stroke="none" data-v-2ea96e66></circle><circle cx="29.5" cy="29.5" r="28.5" fill="none" data-v-2ea96e66></circle></g><g id="XMLID_17_" transform="translate(175 626)" data-v-2ea96e66><path id="XMLID_18_" d="M28.811,48.947H23.218l-1.192-3.178A1.184,1.184,0,0,0,20.917,45H9.867a1.184,1.184,0,0,0-1.109.768L7.566,48.947H1.973A1.973,1.973,0,0,0,0,50.92V66.707A1.973,1.973,0,0,0,1.973,68.68H28.811a1.973,1.973,0,0,0,1.973-1.973V50.92A1.973,1.973,0,0,0,28.811,48.947ZM15.392,51.315a7.5,7.5,0,1,1-7.5,7.5A7.507,7.507,0,0,1,15.392,51.315Z" fill="url(#linear-gradient)" data-v-2ea96e66></path><path id="XMLID_21_" d="M130,160.131A5.131,5.131,0,1,0,135.131,155,5.137,5.137,0,0,0,130,160.131Z" transform="translate(-119.739 -101.317)" fill="url(#linear-gradient)" data-v-2ea96e66></path></g></g>', 2)], G = n(9144); n(285), n(1637), n(1703), n(6647), n(3843), n(3710), n(4916), n(5306); const N = { computed: { isSupportWebShareApi: function () { return "function" == typeof navigator.share && "function" == typeof navigator.canShare && navigator.canShare({ files: this.files }) }, files: function () { return [new File(Array(this.blob), this.filename, { type: this.blob.type })] } } }; var V = ["href"], K = { key: 0 }, J = [(0, u.createStaticVNode)('<svg xmlns="http://www.w3.org/2000/svg" width="47" height="47" viewBox="0 0 45 45" data-v-17a712c6><g id="_004-whatsapp" data-name="004-whatsapp" transform="translate(22 16)" data-v-17a712c6><circle id="Ellipse_39" data-name="Ellipse 39" cx="22.5" cy="22.5" r="22.5" transform="translate(-22 -16)" fill="#55cd6c" data-v-17a712c6></circle><path id="Path_12" data-name="Path 12" d="M0,25.763l1.777-6.441A12.813,12.813,0,0,1,12.837,0,12.94,12.94,0,0,1,25.763,12.793a13.093,13.093,0,0,1-12.926,12.97,12.931,12.931,0,0,1-6.263-1.777Z" transform="translate(-12.192 -6.571)" fill="#ededed" data-v-17a712c6></path><path id="Path_13" data-name="Path 13" d="M48.777,63.307l.394.219a10.391,10.391,0,0,0,5.471,1.619,10.61,10.61,0,0,0,10.5-10.591,10.5,10.5,0,0,0-21.007,0A10.6,10.6,0,0,0,45.757,60.2l.263.394L45.013,64.27Z" transform="translate(-54.073 -48.638)" fill="#55cd6c" data-v-17a712c6></path><path id="Path_14" data-name="Path 14" d="M132.557,135.106l-.832-.044a.994.994,0,0,0-.7.263,3.626,3.626,0,0,0-1.225,1.882,5.692,5.692,0,0,0,1.313,4.464,13.263,13.263,0,0,0,7.177,5.208,3.556,3.556,0,0,0,2.976-.35,2.582,2.582,0,0,0,1.138-1.663l.131-.613a.44.44,0,0,0-.219-.481L139.56,142.5a.418.418,0,0,0-.525.131l-1.094,1.4a.34.34,0,0,1-.35.088,8.505,8.505,0,0,1-4.6-3.939.33.33,0,0,1,.044-.35l1.05-1.182a.539.539,0,0,0,.088-.438l-1.269-2.845a.381.381,0,0,0-.35-.263" transform="translate(-135.697 -135.049)" fill="#fefefe" data-v-17a712c6></path></g></svg>', 1)], U = { key: 1 }, Z = [(0, u.createStaticVNode)('<svg xmlns="http://www.w3.org/2000/svg" width="47" height="47" viewBox="0 0 45 45" data-v-17a712c6><g id="_003-twitter" data-name="003-twitter" transform="translate(-0.001)" data-v-17a712c6><circle id="Ellipse_37" data-name="Ellipse 37" cx="22.5" cy="22.5" r="22.5" transform="translate(0.001 0)" fill="#0fa9f4" data-v-17a712c6></circle><g id="Group_18" data-name="Group 18" transform="translate(10.069 13.648)" data-v-17a712c6><path id="Path_11" data-name="Path 11" d="M51.317,36.55a10.73,10.73,0,0,1-3.089.846,5.393,5.393,0,0,0,2.365-2.975,10.766,10.766,0,0,1-3.415,1.3,5.383,5.383,0,0,0-9.165,4.906,15.267,15.267,0,0,1-11.086-5.62,5.384,5.384,0,0,0,1.664,7.181,5.34,5.34,0,0,1-2.436-.673c0,.023,0,.046,0,.068A5.381,5.381,0,0,0,30.47,46.86a5.4,5.4,0,0,1-2.429.093,5.384,5.384,0,0,0,5.024,3.735A10.857,10.857,0,0,1,25.1,52.915,15.295,15.295,0,0,0,48.649,40.029c0-.233-.005-.465-.016-.7a10.906,10.906,0,0,0,2.684-2.784Z" transform="translate(-25.103 -34.028)" fill="#f1f2f2" data-v-17a712c6></path></g></g></svg>', 1)], W = { key: 2 }, q = [function (e) { return (0, u.pushScopeId)("data-v-17a712c6"), e = e(), (0, u.popScopeId)(), e }((function () { return (0, u.createElementVNode)("svg", { id: "_001-facebook", "data-name": "001-facebook", xmlns: "http://www.w3.org/2000/svg", width: "47", height: "47", viewBox: "0 0 45 45" }, [(0, u.createElementVNode)("circle", { id: "Ellipse_36", "data-name": "Ellipse 36", cx: "22.5", cy: "22.5", r: "22.5", transform: "translate(0 0)", fill: "#3b5998" }), (0, u.createElementVNode)("path", { id: "Path_8", "data-name": "Path 8", d: "M50.8,36.415H46.788V51.124H40.705V36.415H37.812V31.246h2.893V27.9c0-2.392,1.136-6.138,6.137-6.138l4.506.019V26.8H48.079a1.238,1.238,0,0,0-1.29,1.409v3.042h4.546Z", transform: "translate(-22.646 -13.034)", fill: "#fff" })], -1) }))]; n(2526), n(1817); const z = { name: "ShareBtn", data: function () { return { networks: { facebook: "https://www.facebook.com/sharer/sharer.php?u=@u&title=@t&description=@d&quote=@q&hashtag=@h", whatsapp: "https://api.whatsapp.com/send?text=@t%0D%0A@u%0D%0A@d", twitter: "https://twitter.com/intent/tweet?text=@t&url=@u&hashtags=@h@tu" } } }, props: { network: { type: String, required: !0, default: "facebook" }, url: { default: "https://mywebar.com/", type: String }, title: { type: String, default: "Check out this augmented reality experience!" }, description: { type: String, default: " Augmented Reality for Web Browsers - MyWebAR.com" } }, methods: { encodedHashtags: function () { return "facebook" === this.network && this.hashtags.length ? "%23".concat(this.hashtags.split(",")[0]) : this.hashtags } }, computed: { shareUrl: function () { var e = this.networks[this.network]; return console.log({ temp: e, network: this.network }), e.replace(/@tu/g, "&via=".concat(encodeURIComponent("MyWebAR_com"))).replace(/@u/g, encodeURIComponent(this.url)).replace(/@t/g, encodeURIComponent(this.title)).replace(/@d/g, encodeURIComponent(this.description)).replace(/@q/g, encodeURIComponent(this.title)).replace(/@h/g, "") } } }; var X = n(1321); E()(X.Z, { insert: "head", singleton: !1 }), X.Z.locals; const Q = (0, k.Z)(z, [["render", function (e, t, n, r, o, i) { return n.url ? ((0, u.openBlock)(), (0, u.createElementBlock)("a", { key: 0, href: i.shareUrl, target: "_blank", rel: "noopener noreferrer", class: "share-btn" }, ["whatsapp" == n.network ? ((0, u.openBlock)(), (0, u.createElementBlock)("span", K, J)) : "twitter" == n.network ? ((0, u.openBlock)(), (0, u.createElementBlock)("span", U, Z)) : "facebook" == n.network ? ((0, u.openBlock)(), (0, u.createElementBlock)("span", W, q)) : (0, u.createCommentVNode)("", !0)], 8, V)) : (0, u.createCommentVNode)("", !0) }], ["__scopeId", "data-v-17a712c6"]]); var Y = [(0, u.createElementVNode)("svg", { xmlns: "http://www.w3.org/2000/svg", "xmlns:xlink": "http://www.w3.org/1999/xlink", width: "47", height: "47", viewBox: "0 0 134 134" }, [(0, u.createElementVNode)("defs", null, [(0, u.createElementVNode)("linearGradient", { id: "linear-gradient", x1: "0.5", x2: "0.5", y2: "1", gradientUnits: "objectBoundingBox" }, [(0, u.createElementVNode)("stop", { offset: "0", "stop-color": "#3d73f9" }), (0, u.createElementVNode)("stop", { offset: "1", "stop-color": "#14befc" })])]), (0, u.createElementVNode)("g", { id: "share", transform: "translate(33 30)" }, [(0, u.createElementVNode)("circle", { id: "circle", cx: "67", cy: "67", r: "67", transform: "translate(-33 -30)", fill: "#fff" }), (0, u.createElementVNode)("path", { id: "Union_1", "data-name": "Union 1", d: "M14385.666-10157.335a11.286,11.286,0,0,1,.321-2.687l-20.771-11.843a11.294,11.294,0,0,1-7.881,3.2A11.346,11.346,0,0,1,14346-10180a11.343,11.343,0,0,1,11.335-11.33,11.3,11.3,0,0,1,7.881,3.194l20.771-11.842a11.286,11.286,0,0,1-.321-2.687A11.345,11.345,0,0,1,14397-10214a11.346,11.346,0,0,1,11.334,11.334,11.346,11.346,0,0,1-11.334,11.334,11.306,11.306,0,0,1-8.329-3.655l-20.492,11.684a11.311,11.311,0,0,1,.49,3.3,11.285,11.285,0,0,1-.491,3.3l20.494,11.685a11.306,11.306,0,0,1,8.328-3.653,11.345,11.345,0,0,1,11.334,11.333A11.346,11.346,0,0,1,14397-10146,11.345,11.345,0,0,1,14385.666-10157.335Z", transform: "translate(-14346 10217)", fill: "url(#linear-gradient)" })])], -1)]; const $ = { name: "WebShareButton", mixins: [N], props: { filename: { type: String, required: !0 }, blob: { type: Blob, required: !0 } }, emits: ["successful", "failed"], methods: { shareFiles: function () { var e = this; if (!1 !== this.isSupportWebShareApi) { var t = { files: this.files }; navigator.share(t).then((function () { return e.$emit("successful") })).catch((function (t) { return e.$emit("failed", t) })) } } } }, ee = (0, k.Z)($, [["render", function (e, t, n, r, o, i) { return (0, u.openBlock)(), (0, u.createElementBlock)("span", { onClick: t[0] || (t[0] = (0, u.withModifiers)((function () { return i.shareFiles && i.shareFiles.apply(i, arguments) }), ["stop"])) }, Y) }]]); var te = window.axios; const ne = { mixins: [N], components: { SocialShare: Q, WebShareButton: ee }, props: { viewerModal: { type: Object, default: function () { } }, THREE: {}, display: { type: Object, default: function () { }, required: !0 }, recorder: { type: Object, required: !0 }, routes: { type: Object, default: function () { } }, noShare: { type: Boolean, default: !1 } }, data: function () { return { networks: ["facebook", "twitter", "whatsapp"], requestedTimeForVideo: 500, intervalID: !1, isProcessing: !1, time: 0, flag_show: !1, isRecording: !1, hide_promise: void 0, hide_callback: void 0, result: { type: void 0, blob: void 0, blobUrl: void 0, cdnUrl: void 0 } } }, methods: { start: function () { var e = this; this.isProcessing || (this.isProcessing = !0, this.intervalID || (this.intervalID = setInterval((function () { e.time += 20, e.time > e.requestedTimeForVideo && (e.isRecording || e.recorder.initMediaRecorder().then((function () { e.recorder.start(), e.isRecording = !0 })).catch((function (e) { return console.log(e) }))) }), 20))) }, stop: function () { var e = this; this.isProcessing && (this.isProcessing = !1, this.time < this.requestedTimeForVideo && (this.isScreenShotReady || this.screenshotCanvas()), this.time > this.requestedTimeForVideo && (this.isRecording && (this.recorder.stop(), this.isRecording = !1), setTimeout((0, i.Z)((0, o.Z)().mark((function t() { var n; return (0, o.Z)().wrap((function (t) { for (; ;)switch (t.prev = t.next) { case 0: return t.next = 2, e.recorder.makeBlob(); case 2: if (!(n = t.sent).size) { t.next = 11; break } return controller.control_loop_tracking.idle = !0, controller.control_loop_display.idle = !0, e.result.type = "video", e.result.blob = n, e.result.blobUrl = URL.createObjectURL(n), t.next = 11, e.useResult(); case 11: case "end": return t.stop() } }), t) }))), 5)), window.clearInterval(this.intervalID), this.intervalID = !1, this.time = 0) }, screenshotCanvas: function () { var e = this; return (0, i.Z)((0, o.Z)().mark((function t() { var n, r, a, s, c, l, u, d, h, f, p, _, v; return (0, o.Z)().wrap((function (t) { for (; ;)switch (t.prev = t.next) { case 0: return n = e.display, r = e.result, a = n.controller, s = n.scene_canvas, u = new Promise((function (e) { c = e })), d = {}, h = { width: a.display.videosource_stream_width, height: a.display.videosource_stream_height }, a.control_loop_tracking.idle = !0, a.control_loop_display.idle = !0, f = function () { l = h, c() }, t.next = 7, a.FireEvent("videosource.camera_take_photo", { request: { width: 1.6 * h.width, height: 1.6 * h.height, grab_frame: !1 }, receive: function () { var e = (0, i.Z)((0, o.Z)().mark((function e(t, n) { return (0, o.Z)().wrap((function (e) { for (; ;)switch (e.prev = e.next) { case 0: if (!n) { e.next = 5; break } return e.next = 3, a.FireEvent("tracking.process_image", n); case 3: return e.next = 5, a.FireEvent("tracking.track"); case 5: a.FireEvent("display.set_background_image_data", t), l = { width: t.width, height: t.height }, c(); case 8: case "end": return e.stop() } }), e) }))); return function (t, n) { return e.apply(this, arguments) } }(), fallback: f }); case 7: return l || f(), t.next = 10, u; case 10: return a.FireEvent("display.resize", l, d), p = d.old_css_size, a.display.render_callback(), t.next = 15, new Promise((function (e) { return s.toBlob(e, "image/jpeg", .82) })); case 15: return _ = t.sent, a.FireEvent("display.resize", p), v = URL.createObjectURL(_), Object.assign(r, { blobUrl: v, blob: _, type: "image" }), t.next = 21, e.useResult(); case 21: case "end": return t.stop() } }), t) })))() }, useResult: function () { var e = this; return (0, i.Z)((0, o.Z)().mark((function t() { return (0, o.Z)().wrap((function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (!e.noShare) { t.next = 6; break } return e.downloadResult(), t.next = 4, new Promise((function (t) { setTimeout((function () { e.reset(), t() }), 500) })); case 4: t.next = 8; break; case 6: return t.next = 8, e.uploadBlob(e.result.blob); case 8: case "end": return t.stop() } }), t) })))() }, downloadResult: function () { var e = this.result.blobUrl, t = this.filename, n = this.$refs.hiddenDownloadLink; Object.assign(n, { href: e, download: t }), n.click() }, mimeToExt: function (e) { var t; switch (e) { case "image/jpeg": t = "jpg"; break; case "video/mp4": t = "mp4"; break; case "video/webm": t = "webm"; break; case "video/mov": t = "mov" }return t }, uploadBlob: function (e) { var t = this; return (0, i.Z)((0, o.Z)().mark((function n() { var r, i, a, s, c, l, u; return (0, o.Z)().wrap((function (n) { for (; ;)switch (n.prev = n.next) { case 0: n.prev = 0, n.t0 = e.type, n.next = "image/jpeg" === n.t0 ? 4 : "video/mp4" === n.t0 || "video/webm" === n.t0 || "video/mov" === n.t0 ? 6 : 8; break; case 4: return r = t.routes.public_storage_put_screenshot_jpg, n.abrupt("break", 8); case 6: return r = t.routes.public_storage_put_recording_webm, n.abrupt("break", 8); case 8: if (i = t.mimeToExt(e.type), r) { n.next = 11; break } throw new Error("NO_UPLOAD_URL"); case 11: return n.next = 13, te.get(t.routes.public_storage); case 13: return a = n.sent.data, s = "".concat(Date.now(), ".").concat(i), c = r.replace("{file}", s), n.next = 18, te.put(c, e); case 18: if (201 === (l = n.sent).status) { n.next = 21; break } throw new Error("failed to upload, http code ".concat(l.status)); case 21: u = c.replace("".concat(t.routes.public_storage, "/"), a.user_url), t.result.cdnUrl = u, console.log({ uploadedFileUrl: u, putUrl: c }), n.next = 29; break; case 26: n.prev = 26, n.t1 = n.catch(0), console.log(n.t1); case 29: case "end": return n.stop() } }), n, null, [[0, 26]]) })))() }, reset: function () { var e = []; this.result.blobUrl && e.push(this.result.blobUrl), setTimeout((function () { var t, n = (0, G.Z)(e); try { for (n.s(); !(t = n.n()).done;) { var r = t.value; URL.revokeObjectURL(r) } } catch (e) { n.e(e) } finally { n.f() } }), 5e3), this.result = { type: void 0, blobUrl: void 0, blob: void 0, cdnUrl: void 0 }, controller.control_loop_tracking.idle = !1, controller.control_loop_display.idle = !1 }, show: function () { var e = this; this.hide_promise = new Promise((function (t) { e.hide_callback = t })), this.hide_promise.then((function () { e.reset() })), this.viewerModal.addHtmlModal(this.$el, { promise: this.hide_promise, backgroundColor: "transparent", pointerEvents: "none" }) }, hide: function () { this.hide_callback && this.hide_callback() } }, computed: { hasRecorder: function () { return this.recorder.mediaRecorder }, isScreenShotReady: function () { return "image" === this.result.type }, isVideoReady: function () { return "video" === this.result.type }, filename: function () { var e = this.result.type, t = this.mimeToExt(this.result.blob.type); return "".concat(e, "_").concat(Date.now(), ".").concat(t) }, shareLink: function () { return this.result.cdnUrl }, blob: function () { return this.result.blob } } }; var re = n(9343); E()(re.Z, { insert: "head", singleton: !1 }), re.Z.locals; const oe = (0, k.Z)(ne, [["render", function (e, t, n, r, o, i) { var a = (0, u.resolveComponent)("WebShareButton"), s = (0, u.resolveComponent)("SocialShare"); return (0, u.openBlock)(), (0, u.createElementBlock)("div", null, [(0, u.createElementVNode)("a", S, "download", 512), !i.isVideoReady && !i.isScreenShotReady || n.noShare ? ((0, u.openBlock)(), (0, u.createElementBlock)("div", P, [(0, u.createElementVNode)("span", { onTouchstart: t[2] || (t[2] = (0, u.withModifiers)((function () { return i.start && i.start.apply(i, arguments) }), ["stop"])), onTouchend: t[3] || (t[3] = (0, u.withModifiers)((function () { return i.stop && i.stop.apply(i, arguments) }), ["stop"])), onTouchcancel: t[4] || (t[4] = (0, u.withModifiers)((function () { return i.stop && i.stop.apply(i, arguments) }), ["stop"])), onPointerup: t[5] || (t[5] = (0, u.withModifiers)((function () { return i.stop && i.stop.apply(i, arguments) }), ["stop"])), onPointerdown: t[6] || (t[6] = (0, u.withModifiers)((function () { return i.start && i.start.apply(i, arguments) }), ["stop"])), onPointerleave: t[7] || (t[7] = (0, u.withModifiers)((function () { return i.stop && i.stop.apply(i, arguments) }), ["stop"])), class: "btn camera-icon" }, [o.isRecording ? ((0, u.openBlock)(), (0, u.createElementBlock)("svg", R, L)) : ((0, u.openBlock)(), (0, u.createElementBlock)("svg", H, j))], 32)])) : ((0, u.openBlock)(), (0, u.createElementBlock)("div", M, ["video" === o.result.type ? ((0, u.openBlock)(), (0, u.createElementBlock)("video", { key: 0, controls: "", muted: "", class: "preview", playsinline: "", src: o.result.blobUrl }, null, 8, F)) : ((0, u.openBlock)(), (0, u.createElementBlock)("img", { key: 1, class: "preview", src: o.result.blobUrl, alt: "" }, null, 8, T)), (0, u.createElementVNode)("p", null, [e.isSupportWebShareApi ? ((0, u.openBlock)(), (0, u.createBlock)(a, { key: 0, class: "btn", filename: i.filename, blob: o.result.blob }, null, 8, ["filename", "blob"])) : (0, u.createCommentVNode)("", !0), !1 === e.isSupportWebShareApi ? ((0, u.openBlock)(), (0, u.createElementBlock)("span", { key: 1, class: "btn", onClick: t[0] || (t[0] = (0, u.withModifiers)((function () { return i.downloadResult && i.downloadResult.apply(i, arguments) }), ["stop"])) }, O)) : (0, u.createCommentVNode)("", !0), i.shareLink && !1 === e.isSupportWebShareApi ? ((0, u.openBlock)(!0), (0, u.createElementBlock)(u.Fragment, { key: 2 }, (0, u.renderList)(o.networks, (function (e) { return (0, u.openBlock)(), (0, u.createBlock)(s, { network: e, url: i.shareLink, key: e }, null, 8, ["network", "url"]) })), 128)) : (0, u.createCommentVNode)("", !0), (0, u.createElementVNode)("span", { onClick: t[1] || (t[1] = (0, u.withModifiers)((function () { return i.reset && i.reset.apply(i, arguments) }), ["stop"])), class: "btn" }, I)])]))]) }], ["__scopeId", "data-v-2ea96e66"]]); var ie = n(5671), ae = n(3144), se = (n(7601), function () { function e(t) { var n = t.THREE, r = t.controller, o = t.debug, i = void 0 !== o && o; (0, ie.Z)(this, e), this.scene = void 0, this.camera = void 0, this.THREE = n, this.isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent), this.videoExt = this.isSafari ? "mov" : "webm", this.videoType = this.isSafari ? "mp4" : "webm", this.videoBitsPerSecond = 25e5, this.videoChuncks = [], this.isRecording = !1, this.useLocalRenderer = !1, this.renderer = void 0, this.mediaRecorder = void 0, this.blob = void 0, this.controller = r, this.frameRate = void 0, this.debug = i, this.hasSound = !1; var a = r.browser.audio_context; this.audioCtx = a, this.destination = a.createMediaStreamDestination(), this.catchNodeEvent(), this.controller.browser.audio_root_node.connect(this.destination) } return (0, ae.Z)(e, [{ key: "configure", value: function () { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, t = e.useLocalRenderer, n = void 0 !== t && t, r = e.frameRate, o = void 0 === r ? 25 : r; this.frameRate = o, this.useLocalRenderer = n, this.setRenderer() } }, { key: "setRenderer", value: function () { var e = this; if (this.useLocalRenderer) { var t = [window.innerWidth, window.innerHeight], n = t[0], r = t[1], o = this.controller.display, i = o.camera, a = o.scene; this.scene = a, this.camera = i; var s = new this.THREE.WebGLRenderer({ preserveDrawingBuffer: !0, antialias: !0 }); s.setSize(n, r, !1), s.setClearColor(14737632, 1), s.setPixelRatio(window.devicePixelRatio), s.outputEncoding = this.THREE.sRGBEncoding, s.shadowMap.enabled = !0, s.render(a, i), this.renderer = s, function t() { "recording" === e.mediaRecorder.state && s.render(e.scene, e.camera); var n = requestAnimationFrame(t); e.animateId = n }() } else this.renderer = this.controller.display.renderer } }, { key: "catchNodeEvent", value: function () { var e = this, t = this.controller; t.AddEvent("browser.connect_audio_source", (function (t) { e.debug && console.log("@@@ connecting node", node), e.hasSound = !0 })), t.AddEvent("browser.connect_audio_buffer_source_node", (function (t) { e.hasSound = !0 })) } }, { key: "initMediaRecorder", value: function () { var e = this; return new Promise((function (t, n) { try { var r; window.MediaRecorder || n(new Error("MediaRecorder not supported")), null !== (r = e.renderer) && void 0 !== r && r.domElement || e.setRenderer(); var o, i = e.destination, a = e.renderer, s = e.frameRate, c = a.domElement.captureStream(s), l = e.videoBitsPerSecond, u = { mimeType: "video/".concat(e.videoType), videoBitsPerSecond: l }; o = e.hasSound ? new MediaStream([c.getVideoTracks()[0], i.stream.getTracks()[0]]) : new MediaStream([c.getVideoTracks()[0]]), e.mediaRecorder = new MediaRecorder(o, u), e.mediaRecorder.ondataavailable = function (t) { t.data.size > 0 && e.videoChuncks.push(t.data) }, t(e.mediaRecorder) } catch (e) { n(e) } })) } }, { key: "start", value: function () { this.reset(), this.mediaRecorder.start() } }, { key: "stop", value: function () { this.mediaRecorder.stop() } }, { key: "toBlob", value: function () { var e = this.videoChuncks, t = "video/".concat(this.videoExt), n = new Blob(e, { type: t }); return this.blob = n, n } }, { key: "makeBlob", value: function () { var e = this; return new Promise((function (t) { setTimeout((function () { var n = e.videoChuncks, r = "video/".concat(e.videoExt), o = new Blob(n, { type: r }); e.blob = o, console.log(o), t(o) }), 500) })) } }, { key: "getBlob", value: function () { return this.blob } }, { key: "download", value: function () { var e = this.getBlob(); if (e) { var t = URL.createObjectURL(e), n = document.createElement("a"); n.href = t, n.document = t, n.download = "video_".concat(Math.random(), "_.").concat(this.videoExt), n.click() } } }, { key: "reset", value: function () { this.blob = void 0, this.videoChuncks = [] } }]), e }()); const ce = se, le = { data: function () { return { screenshot_instance: void 0 } }, methods: { ScreenShot_init: function () { var e = this, t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, n = this.controller, r = this.display, a = this.routes, s = _.Z.getViewerModal(), c = t.noShare, l = void 0 !== c && c, d = new ce({ THREE: THREE, controller: n }); d.configure(); var h = (0, u.createApp)(oe, { viewerModal: s, THREE: THREE, display: r, routes: a, recorder: d, noShare: l }); h.$root = this.$root; var f, p = document.createElement("div"); this.screenshot_instance = h.mount(p), n.AddEvent("viewer_any_scene_shown", (0, i.Z)((0, o.Z)().mark((function t() { return (0, o.Z)().wrap((function (t) { for (; ;)switch (t.prev = t.next) { case 0: return f = new Promise((function (e) { return setTimeout(e, 10) })), t.next = 3, f; case 3: e.ScreenShot_show(); case 4: case "end": return t.stop() } }), t) })))), n.AddEvent("viewer_all_scenes_hidden", (0, i.Z)((0, o.Z)().mark((function t() { return (0, o.Z)().wrap((function (t) { for (; ;)switch (t.prev = t.next) { case 0: if (!f) { t.next = 3; break } return t.next = 3, f; case 3: e.ScreenShot_hide(); case 4: case "end": return t.stop() } }), t) })))) }, ScreenShot_show: function () { this.screenshot_instance && this.screenshot_instance.show() }, ScreenShot_hide: function () { this.screenshot_instance && this.screenshot_instance.hide() } } }, ue = { data: function () { return {} }, methods: { ObjectLoadingIndicator_makeDefaultSphereIndicator: function () { var e = THREE.REVISION < 144 ? THREE.SphereBufferGeometry : THREE.SphereGeometry, t = new THREE.Mesh(new e(.5, 64, 64), new THREE.MeshBasicMaterial({ color: 65280, opacity: .4, transparent: !0, alphaTest: .05 })); return t.onerror = function (e) { t.material.color.setHex(16711680) }, t }, ObjectLoadingIndicator_makeImageIndicator: function (e) { var t = (new THREE.TextureLoader).load(e), n = new THREE.MeshBasicMaterial({ map: t, side: THREE.DoubleSide }); n.transparent = !0, n.alphaTest = .5; var r = new THREE.Mesh(new THREE.PlaneGeometry(1, 1, 1, 1), n); return r.onerror = function () { n.map = null, n.needsUpdate = !0, n.color.setHex(16711680) }, r }, ObjectLoadingIndicator_makeIndicatorCallback: function (e) { var t, n = this, r = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}; switch (e) { case "image": t = function () { var e = r.url; return n.ObjectLoadingIndicator_makeImageIndicator(e) }; break; case "default_sphere": t = function () { return n.ObjectLoadingIndicator_makeDefaultSphereIndicator() } }return t }, ObjectLoadingIndicator_init: function () { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, t = e.args, n = void 0 === t ? {} : t, r = e.enabled, o = void 0 !== r && r, i = e.type; if (o) { var a = this.scene_manager, s = this.ObjectLoadingIndicator_makeIndicatorCallback(i, n); s && (a.loader_indicator_callback = s) } } } }; var de = n(1631); const he = { data: function () { return { marker_helper_object: void 0, marker_helper_scene: void 0 } }, methods: { MarkerHelper_update: function (e) { var t, n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, r = n.scene, o = void 0 === r ? this.scene : r; switch (this.marker_helper_scene = (0, u.markRaw)(o), this.MarkerHelper_remove(), e) { case "qr": case "image": t = this.MarkerHelper_createPlaneFromImage(n); break; case "cylinder": t = this.MarkerHelper_createCylinderFromImage(n) }this.MarkerHelper_add(t) }, MarkerHelper_add: function (e) { e !== this.marker_helper_object && (e && (this.marker_helper_object = (0, u.markRaw)(e)), this.marker_helper_object && this.marker_helper_scene.add(this.marker_helper_object)) }, MarkerHelper_remove: function () { this.marker_helper_object && (this.marker_helper_scene.remove(this.marker_helper_object), this.marker_helper_object = void 0) }, MarkerHelper_createPlaneFromImage: function (e) { var t, n = e.textureUrl, r = (new THREE.TextureLoader).load(n, (function (e) { var n = e.image.width / e.image.height; n > 1 ? t.scale.set(1, 1 / n, 1) : t.scale.set(n, 1, 1), e.needsUpdate = !0 })); return (t = new THREE.Mesh(new THREE.PlaneGeometry(1, 1), new THREE.MeshBasicMaterial({ map: r, side: THREE.DoubleSide }))).rotation.x = -Math.PI / 2, t }, MarkerHelper_createCylinderFromImage: function (e) { var t, n = e.textureUrl, r = e.cylinderRadiusTop, o = void 0 === r ? 1 : r, i = e.cylinderRadiusBottom, a = void 0 === i ? 1 : i; o > a ? (a /= o, o = 1) : (o /= a, a = 1); var s = (new THREE.TextureLoader).load(n, (function (e) { var n = e.image.width / e.image.height / Math.PI; t.scale.set(.5, 1 / n, .5), e.needsUpdate = !0 })); return t = new THREE.Mesh(new THREE.CylinderGeometry(o, a, 1, 32, 1, !0), new THREE.MeshBasicMaterial({ map: s, side: THREE.DoubleSide })) } } }; var fe, pe, _e = n(3812), ve = (n(2772), n(561), function () { function e(t) { (0, ie.Z)(this, e), this.controller = t, this.promises = [] } return (0, ae.Z)(e, [{ key: "paused", get: function () { return this.controller.scene_manager.paused } }, { key: "need_pause", get: function () { return this.promises.length > 0 && !this.paused } }, { key: "need_resume", get: function () { return 0 == this.promises.length && this.paused } }, { key: "getPromiseIndex", value: function (e) { return this.promises.indexOf(e) } }, { key: "hasPromise", value: function (e) { return this.getPromiseIndex(e) > -1 } }, { key: "removePromise", value: function (e) { var t = this.getPromiseIndex(e); this.promises.splice(t, 1), this.pauseOrResume() } }, { key: "addPromise", value: function (e) { var t = this; this.hasPromise(e) || (e.then((function () { t.removePromise(e) })).catch((function () { t.removePromise(e) })), this.promises.push(e), this.pauseOrResume()) } }, { key: "pause", value: function () { this.controller.FireEvent("scene_manager_pause") } }, { key: "resume", value: function () { this.controller.FireEvent("scene_manager_resume") } }, { key: "pauseOrResume", value: function () { this.need_pause ? this.pause() : this.need_resume && this.resume() } }]), e }()); const me = { mixins: [p, { data: function () { return {} }, methods: { ImageTracking_initTransformations: function () { this.scene.scale.setScalar(this.scene_scale) } } }, v, m, { data: function () { return {} }, methods: { QRImageTracking_initTransformations: function () { this.scene.scale.setScalar(this.scene_scale) } } }, g, de.Z, ue, he, A, y, x, le], props: { is_preview: { type: Boolean, default: !1 }, preview_client_storage_key: { type: String, default: null }, object_lists: { type: Array, required: !0 }, behaviour_lists: { type: Array, required: !0 }, page_objects: { type: Array, default: [] }, tracking_type: { type: String, required: !0 }, tracking_args: { type: Array, default: [] }, routes: { type: Object, default: {} }, show_watermark: { type: Boolean, default: !1 }, watermark_image_url: { type: String, default: "/images/logo.png" }, show_screenshot: { type: Boolean, default: !1 }, show_screenshot_sharing_option: { type: Boolean, default: !1 }, scene_environment: { type: Object, default: void 0 }, request_fullscreen: { type: Boolean, default: !1 }, custom_logo: { type: Object, default: void 0 }, use_loading_indicators: { type: Boolean, default: !0 }, use_scene_loading_progress: { type: Boolean, default: !1 }, use_show_marker_modals: { type: Boolean, default: !0 }, static_tracking_source_image_url: { type: String, default: "/images/preview.jpg?928b5551f16b387dabedf4a9533e32b0" }, splashscreen: { type: Object, default: void 0 }, overload_messages: { type: Object, default: {} }, language: { type: String, default: "en" }, default_language: { type: String, default: "en" }, scene_scale: { type: Number, default: 1 }, camera_type: { type: String, default: "back" }, scene_placement_pin: { type: Object, default: function () { return { type: null, enabled: !1, args: {} } } }, object_loading_indicator: { type: Object, default: function () { return { type: null, enabled: !1, args: {} } } }, instant_tracking_ui: { type: Object, default: void 0 }, preview_marker_helper: { type: Object, default: void 0 } }, data: function () { var e, t, n, r = this, o = function () { return WEBAR.WorkerChat(t + (r.browser.has_wasm_support_simd ? "simd/" : "new/")) }; switch (this.tracking_type) { case "cylinder": t = "/js/tracking_worker.js?/js/build/cylinder/", e = (0, c.Z)(WEBAR.CylinderMarkerOpticalTracking, (0, l.Z)(this.tracking_args).concat([o])); break; case "qr": t = "/js/tracking_worker.js?/js/build/qrimg/", e = (0, c.Z)(WEBAR.QRImageMarkerOpticalTracking, (0, l.Z)(this.tracking_args).concat([o])); break; case "markerless": t = "/js/tracking_worker.js?/js/build/markerless/", e = (0, c.Z)(WEBAR.MarkerlessOpticalTracking, (0, l.Z)(this.tracking_args).concat([o])); break; case "instant": t = "/js/tracking_worker.js?/js/build/instant/", e = (0, c.Z)(WEBAR.InstantMotionOpticalTracking, (0, l.Z)(this.tracking_args).concat([o])), n = new WEBAR.OrientationProvider; break; case "svo": t = "/js/tracking_worker.js?/js/build/svo/", e = (0, c.Z)(WEBAR.DistoplaneSVOOpticalTracking, (0, l.Z)(this.tracking_args).concat([o])), n = new WEBAR.OrientationProvider; break; case "image": t = "/js/tracking_worker.js?/js/build/img/", e = (0, c.Z)(WEBAR.ImageMarkerOpticalTracking, (0, l.Z)(this.tracking_args).concat([o])); break; case "multi_image": t = "/js/tracking_worker.js?/js/build/img/", e = (0, c.Z)(WEBAR.MultiImageMarkerOpticalTracking, (0, l.Z)(this.tracking_args).concat([o])); break; case "markerless_static": e = (0, c.Z)(WEBAR.StaticPositionDummyMarkerlessTracking, (0, l.Z)(this.tracking_args)) }var i, a = new WEBAR.Display(document.body, "100vw", "100vh", { antialias: !0 }, "current_target"), s = new WEBAR.SceneManager(this.getPageObjectLoader, this.makePageObjectBehaviour); s.use_loading_indicators = !!this.use_loading_indicators, i = "markerless_static" == this.tracking_type ? new WEBAR.FileImageVideoSource(this.static_tracking_source_image_url) : "front" == this.camera_type ? new WEBAR.FrontCameraVideoSource(640, 480, 30) : "front_mirror" == this.camera_type ? new WEBAR.FrontMirrorCameraVideoSource(640, 480, 30) : new WEBAR.RearCameraVideoSource(640, 480, 30); var d = new WEBAR.Touchscreen, h = new WEBAR.Browser(e instanceof WEBAR.MarkerlessOpticalTracking), f = new THREE.Object3D, p = [i, e, a, d, s, h, n], _ = (0, c.Z)(WEBAR.Controller, p), v = new ve(_); return [].concat(p, [_, v, f]).filter((function (e) { return !!e })).forEach(u.markRaw), { controller: _, videosource: i, tracking: e, display: a, touchscreen: d, scene_manager: s, orientation_provider: n, browser: h, scene: f, pauser: v, effect_composer: void 0, scene_overlays: {}, is_markerless_scene_shown: !1, current_marker: void 0 } }, created: function () { this.createSceneOverlays() }, mounted: function () { var e, t, n = this, r = this.controller, o = this.display, i = (this.tracking, this.browser), c = this.scene_manager, l = (this.touchscreen, this.pauser); _.Z.setup(r, this.scene_overlays.modals, (0, s.Z)((0, s.Z)((0, s.Z)({}, null !== (e = _e[this.default_language]) && void 0 !== e ? e : {}), null !== (t = _e[this.language]) && void 0 !== t ? t : {}), this.overload_messages)); var d = !1; this.is_preview || r.AddEvent("browser_up", (function () { n.controller.Log("checking browser negotiation reasons..."); var e = []; r.FireEvent("browser.get_negotiation_reasons", e), e.length && (d = !0, n.controller.Log("browser negotiated! negotiation_reasons: ", e), _.Z.handleNegotiationReasonsModals(e)) })); var h = function (e) { var t; e.hide_promise = new Promise((function (e) { t = e })), e.hide_promise.resolve = t, e.hide_promise.name = "marker hide promise ".concat(e.index), l.addPromise(e.hide_promise) }; r.AddEvent("user_camera_requested", (function (e) { _.Z.handleCameraModals(e) })), r.AddEvent("display_up", (function () { n.request_fullscreen && i.has_fullscreen_api && (_.Z.handleFullScreenModals(), r.FireEvent("display.request_fullscreen_mode")) })), _.Z.handleMediaAutoplayModal(), _.Z.handleDeviceMotionModals(), this.show_watermark ? this.Watermark_init() : this.CustomLogo_init(this.custom_logo), this.show_screenshot && this.ScreenShot_init({ noShare: !this.show_screenshot_sharing_option }), document.addEventListener("visibilitychange", this.onDocumentVisibilityChange); var p = [], v = this.loadEffectComposerClass(); p.push(v); var m = r.Init(); p.push(m), Promise.all(p).then((function () { var e, t; n.effect_composer = (0, u.markRaw)(new fe(o.renderer)); var i = new pe(o.scene, o.camera); if (n.effect_composer.addPass(i), o.render_callback = function () { return n.effect_composer.render() }, c.object_env = { is_viewer: !0, Helper: f.Z, THREE: THREE, THREEx: THREEx, get_media_allow_promise: function () { return r.FireEvent("browser.get_media_allow_promise") }, refresh_media_allow_promise: function () { return r.FireEvent("browser.refresh_media_allow_promise") }, renderer: o.renderer, camera: o.camera, effect_composer: n.effect_composer, global_scene: o.scene }, !d) { window.resetPreloader && r.AddEvent("user_marker_scene_loaded", (function (e, t) { window.resetPreloader() })), n.ObjectLoadingIndicator_init(n.object_loading_indicator), null !== (e = n.routes) && void 0 !== e && e.record_view && axios.post(n.routes.record_view).catch((function (e) { console.error("Record View Error", e) })), THREE.Cache.enabled = !0, o.camera.position.x = 9999, o.renderer.outputEncoding = THREE.sRGBEncoding, o.renderer.gammaFactor = 2.2, o.renderer.shadowMap.enabled = !0, r.AddEvent("display_background_texture_created", (function (e) { e.encoding = THREE.sRGBEncoding })); var s = o.scene; s.name = "display_scene"; var p, v, m, g, A = n.scene; if (A.name = "viewer_scene", s.add(A), r.AddEvent("touchscreen_fill_intersective_objects", (function (e) { A.children.forEach((function (t) { return e(t) })) })), n.is_preview && n.preview_marker_helper && n.MarkerHelper_update(n.preview_marker_helper.ar_mode_name, n.preview_marker_helper.options), "current_target" !== o.center_mode) throw "unknown center_mode in Display object"; "qr" == n.tracking_type ? n.QRImageTracking_initTransformations() : "image" == n.tracking_type ? n.ImageTracking_initTransformations() : "cylinder" == n.tracking_type ? n.CylinderTracking_initTransformations() : "markerless" == n.tracking_type ? n.MarkerlessTracking_initTransformations() : "instant" == n.tracking_type ? n.InstantTracking_initTransformations() : "svo" == n.tracking_type && n.SVODistoplaneTracking_initTransformations(), c.reload_scenes = !1, c.paused = !0, "multi_image" != n.tracking_type && "image" != n.tracking_type && "qr" != n.tracking_type && "cylinder" != n.tracking_type || n.use_show_marker_modals && setTimeout((function () { _.Z.handleMarkerTrackingModals(n.tracking_type) }), 1), "multi_image" == n.tracking_type ? (c.reload_scenes = !0, r.AddEvent("user_marker_show", (function (e, t) { n.tracking.markers.forEach((function (t) { t != e && t.hide_promise && l.removePromise(t.hide_promise) })) }))) : "image" == n.tracking_type || "qr" == n.tracking_type || "cylinder" == n.tracking_type ? (n.tracking.marker_defs[0].page_objects = n.getPageObjectsToDisplay(), n.current_marker = (0, u.markRaw)(n.tracking.markers[0]), h(n.current_marker), setTimeout((function () { c.createScene(n.current_marker) }), 2)) : "svo" != n.tracking_type && "markerless" != n.tracking_type && "instant" != n.tracking_type && "markerless_static" != n.tracking_type || (n.tracking.marker_defs = [{ index: 0, page_objects: n.getPageObjectsToDisplay() }], n.tracking.markers = [{ index: 0 }], n.current_marker = (0, u.markRaw)(n.tracking.markers[0]), n.is_markerless_scene_shown = !0, "svo" == n.tracking_type ? n.SVODistoplaneTracking_setupScene({}) : "instant" == n.tracking_type ? n.InstantTracking_setupScene(n.instant_tracking_ui) : n.MarkerlessTracking_setupScene({})), r.AddEvent("user_marker_hide", (function (e, t) { var o = c.hideScene(e), i = n.scene; console.log("hide marker ".concat(t), { marker: e, marker_scene: o, viewer_scene: i }), c.queuePauseOrResumeScene(e, !0), i.remove(o), c.shown_scenes_indexes.length || r.FireEvent("viewer_all_scenes_hidden"), h(e) })), r.AddEvent("user_marker_show", (function (e, t) { var o = c.shown_scenes_indexes.length, i = c.showSingleScene(e), a = n.scene; console.log("show marker ".concat(t), { marker: e, marker_scene: i, viewer_scene: a }), a.add(i), c.queuePauseOrResumeScene(e, !1), o || r.FireEvent("viewer_any_scene_shown"), function (e) { e.hide_promise && e.hide_promise.resolve() }(e) })), r.AddEvent("user_marker_scene_loading", (function (e, t) { t.load_promise.name = "maker load promise", l.addPromise(t.load_promise), n.SplashScreen_init(n.splashscreen), n.SplashScreen_show() })), n.use_scene_loading_progress && r.AddEvent("user_marker_scene_created", (function (e, t) { var n = function (e) { return Object.entries(e).forEach((function (e) { var t = (0, a.Z)(e, 2), n = t[0], o = t[1]; return r.AddEvent(n, o) })) }, o = { user_marker_scene_loading: function (t, n) { t == e && _.Z.handleMarkerSceneLoadingModal(n, t) }, user_marker_scene_loaded: function (t, r) { t == e && n(o) }, user_marker_scene_deleted: function (t, r) { t == e && n(o) } }; !function (e) { Object.entries(e).forEach((function (e) { var t = (0, a.Z)(e, 2), n = t[0], o = t[1]; return r.AddEvent(n, o) })) }(o) })), null !== (t = n.scene_environment) && void 0 !== t && t.map && "equirectangular" == (null === (p = n.scene_environment) || void 0 === p || null === (v = p.map) || void 0 === v ? void 0 : v.type) && "hdr" == (null === (m = n.scene_environment) || void 0 === m || null === (g = m.map) || void 0 === g ? void 0 : g.image_type) && n.setupEnvmapLights(n.display.scene, n.display.renderer, { hdr_envmap_url: n.scene_environment.map.url }), r.Run(), window.controller = r, window.viewer = n, r.control_loop_display.limit_fps = r.control_loop_tracking.limit_fps = 60 } })) }, beforeDestroy: function () { document.removeEventListener("visibilitychange", this.onDocumentVisibilityChange) }, methods: { onDocumentVisibilityChange: function () { "visible" === document.visibilityState ? this.restoreControllerLoops() : this.pauseControllerLoops() }, pauseControllerLoops: function () { this.controller.control_loop_display.idle = !0, this.controller.control_loop_tracking.idle = !0 }, restoreControllerLoops: function () { this.controller.control_loop_display.idle = !1, this.controller.control_loop_tracking.idle = !1 }, createSceneOverlays: function () { for (var e = this, t = "", n = 0, r = ["scene_brandings", "scene_controls_user", "scene_controls_native", "modals", "super_controls_native"]; n < r.length; n++)t += '<div class="scene-overlay" data-overlay-name="'.concat(r[n], '">'), t += "</div>"; t = '<div class="scene-overlays">'.concat(t, "</div>"); var o = document.createRange().createContextualFragment(t); this.display.scene_canvas.after(o), Array.from(this.display.scene_wrap.querySelectorAll(".scene-overlay")).forEach((function (t) { e.scene_overlays[t.dataset.overlayName] = t })) }, loadEffectComposerClass: function () { return (0, i.Z)((0, o.Z)().mark((function e() { var t, n; return (0, o.Z)().wrap((function (e) { for (; ;)switch (e.prev = e.next) { case 0: return e.next = 2, Promise.all([THREEx.JSM("EffectComposer"), THREEx.JSM("RenderPass")]); case 2: t = e.sent, n = (0, a.Z)(t, 2), fe = n[0].EffectComposer, pe = n[1].RenderPass; case 6: case "end": return e.stop() } }), e) })))() }, getPageObjectsToDisplay: function () { var e, t = this.page_objects; try { if (this.is_preview && this.preview_client_storage_key) { var n = window.sessionStorage.getItem(this.preview_client_storage_key); n && (e = JSON.parse(n)) } } catch (e) { console.warn(e) } return e || (e = t), e }, getPageObjectLoader: function (e) { var t = this.object_lists.find((function (t) { return t.id == e.object_list_id })); return d.Z[t.name] = t.module_url, d.Z[t.name] }, makePageObjectBehaviour: function (e) { var t = this, n = []; return e.forEach((function (e) { if ("object" === (0, r.Z)(e)) if (e.behaviour_list_id) { var o = t.behaviour_lists.find((function (t) { return t.id == e.behaviour_list_id })); n.push(o.name) } else "string" == typeof e.name ? n.push(e.name) : n.push(e); else n.push(e) })), (0, c.Z)(h.T, n) }, showMarkerlessScene: function () { console.log("Viewer: showMarkerlessScene (is_markerless_scene_shown=".concat(this.is_markerless_scene_shown, ", marker="), this.current_marker, ")"), this.is_markerless_scene_shown || (this.controller.FireEvent("user_marker_show", this.current_marker, 0), this.is_markerless_scene_shown = !0) }, hideMarkerlessScene: function () { console.log("Viewer: hideMarkerlessScene (is_markerless_scene_shown=".concat(this.is_markerless_scene_shown, ", marker="), this.current_marker, ")"), this.is_markerless_scene_shown && (this.controller.FireEvent("user_marker_hide", this.current_marker, 0), this.is_markerless_scene_shown = !1) } } }; var ge = n(4008); E()(ge.Z, { insert: "head", singleton: !1 }), ge.Z.locals; const Ae = (0, k.Z)(me, [["render", function (e, t, n, r, o, i) { return null }]]) }, 821: (e, t, n) => { "use strict"; n.d(t, { Fragment: () => Ko, createApp: () => xs, createBlock: () => ni, createCommentVNode: () => _i, createElementBlock: () => ti, createElementVNode: () => li, createStaticVNode: () => pi, markRaw: () => Dt, normalizeStyle: () => c, openBlock: () => zo, popScopeId: () => Fn, pushScopeId: () => Mn, renderList: () => Zr, resolveComponent: () => Gr, toDisplayString: () => A, withModifiers: () => vs }); var r = {}; function o(e, t) { const n = Object.create(null), r = e.split(","); for (let e = 0; e < r.length; e++)n[r[e]] = !0; return t ? e => !!n[e.toLowerCase()] : e => !!n[e] } n.r(r), n.d(r, { BaseTransition: () => ir, Comment: () => Uo, EffectScope: () => ae, Fragment: () => Ko, KeepAlive: () => mr, ReactiveEffect: () => ye, Static: () => Zo, Suspense: () => Gn, Teleport: () => Vo, Text: () => Jo, Transition: () => Ta, TransitionGroup: () => Xa, VueElement: () => wa, callWithAsyncErrorHandling: () => $t, callWithErrorHandling: () => Yt, camelize: () => z, capitalize: () => Y, cloneVNode: () => hi, compatUtils: () => ca, computed: () => Vi, createApp: () => xs, createBlock: () => ni, createCommentVNode: () => _i, createElementBlock: () => ti, createElementVNode: () => li, createHydrationRenderer: () => Io, createPropsRestProxy: () => Qi, createRenderer: () => Oo, createSSRApp: () => Ss, createSlots: () => Wr, createStaticVNode: () => pi, createTextVNode: () => fi, createVNode: () => ui, customRef: () => Vt, defineAsyncComponent: () => pr, defineComponent: () => hr, defineCustomElement: () => ba, defineEmits: () => Ji, defineExpose: () => Ui, defineProps: () => Ki, defineSSRCustomElement: () => Ca, devtools: () => yn, effect: () => be, effectScope: () => se, getCurrentInstance: () => wi, getCurrentScope: () => le, getTransitionRawChildren: () => dr, guardReactiveProps: () => di, h: () => $i, handleError: () => en, hydrate: () => Ds, initCustomFormatter: () => na, initDirectivesForSSR: () => Ts, inject: () => Wn, isMemoSame: () => oa, isProxy: () => wt, isReactive: () => bt, isReadonly: () => Ct, isRef: () => Tt, isRuntimeOnly: () => Pi, isShallow: () => Et, isVNode: () => ri, markRaw: () => Dt, mergeDefaults: () => Xi, mergeProps: () => Ai, nextTick: () => dn, normalizeClass: () => h, normalizeProps: () => f, normalizeStyle: () => c, onActivated: () => Ar, onBeforeMount: () => Dr, onBeforeUnmount: () => Fr, onBeforeUpdate: () => Sr, onDeactivated: () => yr, onErrorCaptured: () => Rr, onMounted: () => xr, onRenderTracked: () => Pr, onRenderTriggered: () => Ir, onScopeDispose: () => ue, onServerPrefetch: () => Or, onUnmounted: () => Tr, onUpdated: () => Mr, openBlock: () => zo, popScopeId: () => Fn, provide: () => Zn, proxyRefs: () => Gt, pushScopeId: () => Mn, queuePostFlushCb: () => pn, reactive: () => mt, readonly: () => At, ref: () => Ot, registerRuntimeCompiler: () => Ii, render: () => ks, renderList: () => Zr, renderSlot: () => qr, resolveComponent: () => Gr, resolveDirective: () => Kr, resolveDynamicComponent: () => Vr, resolveFilter: () => sa, resolveTransitionHooks: () => sr, setBlockTracking: () => $o, setDevtoolsHook: () => Cn, setTransitionHooks: () => ur, shallowReactive: () => gt, shallowReadonly: () => yt, shallowRef: () => It, ssrContextKey: () => ea, ssrUtils: () => aa, stop: () => Ce, toDisplayString: () => A, toHandlerKey: () => $, toHandlers: () => Xr, toRaw: () => kt, toRef: () => Ut, toRefs: () => Kt, transformVNodeArgs: () => ii, triggerRef: () => Lt, unref: () => Ht, useAttrs: () => qi, useCssModule: () => ka, useCssVars: () => Da, useSSRContext: () => ta, useSlots: () => Wi, useTransitionState: () => rr, vModelCheckbox: () => os, vModelDynamic: () => ds, vModelRadio: () => as, vModelSelect: () => ss, vModelText: () => rs, vShow: () => As, version: () => ia, warn: () => zt, watch: () => Yn, watchEffect: () => qn, watchPostEffect: () => zn, watchSyncEffect: () => Xn, withAsyncContext: () => Yi, withCtx: () => On, withDefaults: () => Zi, withDirectives: () => Lr, withKeys: () => gs, withMemo: () => ra, withModifiers: () => vs, withScopeId: () => Tn }); const i = o("Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt"), a = o("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly"); function s(e) { return !!e || "" === e } function c(e) { if (T(e)) { const t = {}; for (let n = 0; n < e.length; n++) { const r = e[n], o = L(r) ? d(r) : c(r); if (o) for (const e in o) t[e] = o[e] } return t } return L(e) || j(e) ? e : void 0 } const l = /;(?![^(]*\))/g, u = /:(.+)/; function d(e) { const t = {}; return e.split(l).forEach((e => { if (e) { const n = e.split(u); n.length > 1 && (t[n[0].trim()] = n[1].trim()) } })), t } function h(e) { let t = ""; if (L(e)) t = e; else if (T(e)) for (let n = 0; n < e.length; n++) { const r = h(e[n]); r && (t += r + " ") } else if (j(e)) for (const n in e) e[n] && (t += n + " "); return t.trim() } function f(e) { if (!e) return null; let { class: t, style: n } = e; return t && !L(t) && (e.class = h(t)), n && (e.style = c(n)), e } const p = o("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot"), _ = o("svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistanceLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view"), v = o("area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr"); function m(e, t) { if (e === t) return !0; let n = P(e), r = P(t); if (n || r) return !(!n || !r) && e.getTime() === t.getTime(); if (n = H(e), r = H(t), n || r) return e === t; if (n = T(e), r = T(t), n || r) return !(!n || !r) && function (e, t) { if (e.length !== t.length) return !1; let n = !0; for (let r = 0; n && r < e.length; r++)n = m(e[r], t[r]); return n }(e, t); if (n = j(e), r = j(t), n || r) { if (!n || !r) return !1; if (Object.keys(e).length !== Object.keys(t).length) return !1; for (const n in e) { const r = e.hasOwnProperty(n), o = t.hasOwnProperty(n); if (r && !o || !r && o || !m(e[n], t[n])) return !1 } } return String(e) === String(t) } function g(e, t) { return e.findIndex((e => m(e, t))) } const A = e => L(e) ? e : null == e ? "" : T(e) || j(e) && (e.toString === N || !R(e.toString)) ? JSON.stringify(e, y, 2) : String(e), y = (e, t) => t && t.__v_isRef ? y(e, t.value) : O(t) ? { [`Map(${t.size})`]: [...t.entries()].reduce(((e, [t, n]) => (e[`${t} =>`] = n, e)), {}) } : I(t) ? { [`Set(${t.size})`]: [...t.values()] } : !j(t) || T(t) || K(t) ? t : String(t), B = {}, b = [], C = () => { }, E = () => !1, w = /^on[^a-z]/, k = e => w.test(e), D = e => e.startsWith("onUpdate:"), x = Object.assign, S = (e, t) => { const n = e.indexOf(t); n > -1 && e.splice(n, 1) }, M = Object.prototype.hasOwnProperty, F = (e, t) => M.call(e, t), T = Array.isArray, O = e => "[object Map]" === V(e), I = e => "[object Set]" === V(e), P = e => "[object Date]" === V(e), R = e => "function" == typeof e, L = e => "string" == typeof e, H = e => "symbol" == typeof e, j = e => null !== e && "object" == typeof e, G = e => j(e) && R(e.then) && R(e.catch), N = Object.prototype.toString, V = e => N.call(e), K = e => "[object Object]" === V(e), J = e => L(e) && "NaN" !== e && "-" !== e[0] && "" + parseInt(e, 10) === e, U = o(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"), Z = o("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"), W = e => { const t = Object.create(null); return n => t[n] || (t[n] = e(n)) }, q = /-(\w)/g, z = W((e => e.replace(q, ((e, t) => t ? t.toUpperCase() : "")))), X = /\B([A-Z])/g, Q = W((e => e.replace(X, "-$1").toLowerCase())), Y = W((e => e.charAt(0).toUpperCase() + e.slice(1))), $ = W((e => e ? `on${Y(e)}` : "")), ee = (e, t) => !Object.is(e, t), te = (e, t) => { for (let n = 0; n < e.length; n++)e[n](t) }, ne = (e, t, n) => { Object.defineProperty(e, t, { configurable: !0, enumerable: !1, value: n }) }, re = e => { const t = parseFloat(e); return isNaN(t) ? e : t }; let oe, ie; class ae { constructor(e = !1) { this.detached = e, this.active = !0, this.effects = [], this.cleanups = [], this.parent = ie, !e && ie && (this.index = (ie.scopes || (ie.scopes = [])).push(this) - 1) } run(e) { if (this.active) { const t = ie; try { return ie = this, e() } finally { ie = t } } } on() { ie = this } off() { ie = this.parent } stop(e) { if (this.active) { let t, n; for (t = 0, n = this.effects.length; t < n; t++)this.effects[t].stop(); for (t = 0, n = this.cleanups.length; t < n; t++)this.cleanups[t](); if (this.scopes) for (t = 0, n = this.scopes.length; t < n; t++)this.scopes[t].stop(!0); if (!this.detached && this.parent && !e) { const e = this.parent.scopes.pop(); e && e !== this && (this.parent.scopes[this.index] = e, e.index = this.index) } this.parent = void 0, this.active = !1 } } } function se(e) { return new ae(e) } function ce(e, t = ie) { t && t.active && t.effects.push(e) } function le() { return ie } function ue(e) { ie && ie.cleanups.push(e) } const de = e => { const t = new Set(e); return t.w = 0, t.n = 0, t }, he = e => (e.w & me) > 0, fe = e => (e.n & me) > 0, pe = new WeakMap; let _e, ve = 0, me = 1; const ge = Symbol(""), Ae = Symbol(""); class ye { constructor(e, t = null, n) { this.fn = e, this.scheduler = t, this.active = !0, this.deps = [], this.parent = void 0, ce(this, n) } run() { if (!this.active) return this.fn(); let e = _e, t = Ee; for (; e;) { if (e === this) return; e = e.parent } try { return this.parent = _e, _e = this, Ee = !0, me = 1 << ++ve, ve <= 30 ? (({ deps: e }) => { if (e.length) for (let t = 0; t < e.length; t++)e[t].w |= me })(this) : Be(this), this.fn() } finally { ve <= 30 && (e => { const { deps: t } = e; if (t.length) { let n = 0; for (let r = 0; r < t.length; r++) { const o = t[r]; he(o) && !fe(o) ? o.delete(e) : t[n++] = o, o.w &= ~me, o.n &= ~me } t.length = n } })(this), me = 1 << --ve, _e = this.parent, Ee = t, this.parent = void 0, this.deferStop && this.stop() } } stop() { _e === this ? this.deferStop = !0 : this.active && (Be(this), this.onStop && this.onStop(), this.active = !1) } } function Be(e) { const { deps: t } = e; if (t.length) { for (let n = 0; n < t.length; n++)t[n].delete(e); t.length = 0 } } function be(e, t) { e.effect && (e = e.effect.fn); const n = new ye(e); t && (x(n, t), t.scope && ce(n, t.scope)), t && t.lazy || n.run(); const r = n.run.bind(n); return r.effect = n, r } function Ce(e) { e.effect.stop() } let Ee = !0; const we = []; function ke() { we.push(Ee), Ee = !1 } function De() { const e = we.pop(); Ee = void 0 === e || e } function xe(e, t, n) { if (Ee && _e) { let t = pe.get(e); t || pe.set(e, t = new Map); let r = t.get(n); r || t.set(n, r = de()), Se(r, void 0) } } function Se(e, t) { let n = !1; ve <= 30 ? fe(e) || (e.n |= me, n = !he(e)) : n = !e.has(_e), n && (e.add(_e), _e.deps.push(e)) } function Me(e, t, n, r, o, i) { const a = pe.get(e); if (!a) return; let s = []; if ("clear" === t) s = [...a.values()]; else if ("length" === n && T(e)) a.forEach(((e, t) => { ("length" === t || t >= r) && s.push(e) })); else switch (void 0 !== n && s.push(a.get(n)), t) { case "add": T(e) ? J(n) && s.push(a.get("length")) : (s.push(a.get(ge)), O(e) && s.push(a.get(Ae))); break; case "delete": T(e) || (s.push(a.get(ge)), O(e) && s.push(a.get(Ae))); break; case "set": O(e) && s.push(a.get(ge)) }if (1 === s.length) s[0] && Fe(s[0]); else { const e = []; for (const t of s) t && e.push(...t); Fe(de(e)) } } function Fe(e, t) { const n = T(e) ? e : [...e]; for (const e of n) e.computed && Te(e, t); for (const e of n) e.computed || Te(e, t) } function Te(e, t) { (e !== _e || e.allowRecurse) && (e.scheduler ? e.scheduler() : e.run()) } const Oe = o("__proto__,__v_isRef,__isVue"), Ie = new Set(Object.getOwnPropertyNames(Symbol).filter((e => "arguments" !== e && "caller" !== e)).map((e => Symbol[e])).filter(H)), Pe = Ge(), Re = Ge(!1, !0), Le = Ge(!0), He = Ge(!0, !0), je = function () { const e = {}; return ["includes", "indexOf", "lastIndexOf"].forEach((t => { e[t] = function (...e) { const n = kt(this); for (let e = 0, t = this.length; e < t; e++)xe(n, 0, e + ""); const r = n[t](...e); return -1 === r || !1 === r ? n[t](...e.map(kt)) : r } })), ["push", "pop", "shift", "unshift", "splice"].forEach((t => { e[t] = function (...e) { ke(); const n = kt(this)[t].apply(this, e); return De(), n } })), e }(); function Ge(e = !1, t = !1) { return function (n, r, o) { if ("__v_isReactive" === r) return !e; if ("__v_isReadonly" === r) return e; if ("__v_isShallow" === r) return t; if ("__v_raw" === r && o === (e ? t ? vt : _t : t ? pt : ft).get(n)) return n; const i = T(n); if (!e && i && F(je, r)) return Reflect.get(je, r, o); const a = Reflect.get(n, r, o); return (H(r) ? Ie.has(r) : Oe(r)) ? a : (e || xe(n, 0, r), t ? a : Tt(a) ? i && J(r) ? a : a.value : j(a) ? e ? At(a) : mt(a) : a) } } function Ne(e = !1) { return function (t, n, r, o) { let i = t[n]; if (Ct(i) && Tt(i) && !Tt(r)) return !1; if (!e && (Et(r) || Ct(r) || (i = kt(i), r = kt(r)), !T(t) && Tt(i) && !Tt(r))) return i.value = r, !0; const a = T(t) && J(n) ? Number(n) < t.length : F(t, n), s = Reflect.set(t, n, r, o); return t === kt(o) && (a ? ee(r, i) && Me(t, "set", n, r) : Me(t, "add", n, r)), s } } const Ve = { get: Pe, set: Ne(), deleteProperty: function (e, t) { const n = F(e, t), r = (e[t], Reflect.deleteProperty(e, t)); return r && n && Me(e, "delete", t, void 0), r }, has: function (e, t) { const n = Reflect.has(e, t); return H(t) && Ie.has(t) || xe(e, 0, t), n }, ownKeys: function (e) { return xe(e, 0, T(e) ? "length" : ge), Reflect.ownKeys(e) } }, Ke = { get: Le, set: (e, t) => !0, deleteProperty: (e, t) => !0 }, Je = x({}, Ve, { get: Re, set: Ne(!0) }), Ue = x({}, Ke, { get: He }), Ze = e => e, We = e => Reflect.getPrototypeOf(e); function qe(e, t, n = !1, r = !1) { const o = kt(e = e.__v_raw), i = kt(t); n || (t !== i && xe(o, 0, t), xe(o, 0, i)); const { has: a } = We(o), s = r ? Ze : n ? St : xt; return a.call(o, t) ? s(e.get(t)) : a.call(o, i) ? s(e.get(i)) : void (e !== o && e.get(t)) } function ze(e, t = !1) { const n = this.__v_raw, r = kt(n), o = kt(e); return t || (e !== o && xe(r, 0, e), xe(r, 0, o)), e === o ? n.has(e) : n.has(e) || n.has(o) } function Xe(e, t = !1) { return e = e.__v_raw, !t && xe(kt(e), 0, ge), Reflect.get(e, "size", e) } function Qe(e) { e = kt(e); const t = kt(this); return We(t).has.call(t, e) || (t.add(e), Me(t, "add", e, e)), this } function Ye(e, t) { t = kt(t); const n = kt(this), { has: r, get: o } = We(n); let i = r.call(n, e); i || (e = kt(e), i = r.call(n, e)); const a = o.call(n, e); return n.set(e, t), i ? ee(t, a) && Me(n, "set", e, t) : Me(n, "add", e, t), this } function $e(e) { const t = kt(this), { has: n, get: r } = We(t); let o = n.call(t, e); o || (e = kt(e), o = n.call(t, e)), r && r.call(t, e); const i = t.delete(e); return o && Me(t, "delete", e, void 0), i } function et() { const e = kt(this), t = 0 !== e.size, n = e.clear(); return t && Me(e, "clear", void 0, void 0), n } function tt(e, t) { return function (n, r) { const o = this, i = o.__v_raw, a = kt(i), s = t ? Ze : e ? St : xt; return !e && xe(a, 0, ge), i.forEach(((e, t) => n.call(r, s(e), s(t), o))) } } function nt(e, t, n) { return function (...r) { const o = this.__v_raw, i = kt(o), a = O(i), s = "entries" === e || e === Symbol.iterator && a, c = "keys" === e && a, l = o[e](...r), u = n ? Ze : t ? St : xt; return !t && xe(i, 0, c ? Ae : ge), { next() { const { value: e, done: t } = l.next(); return t ? { value: e, done: t } : { value: s ? [u(e[0]), u(e[1])] : u(e), done: t } }, [Symbol.iterator]() { return this } } } } function rt(e) { return function (...t) { return "delete" !== e && this } } const [ot, it, at, st] = function () { const e = { get(e) { return qe(this, e) }, get size() { return Xe(this) }, has: ze, add: Qe, set: Ye, delete: $e, clear: et, forEach: tt(!1, !1) }, t = { get(e) { return qe(this, e, !1, !0) }, get size() { return Xe(this) }, has: ze, add: Qe, set: Ye, delete: $e, clear: et, forEach: tt(!1, !0) }, n = { get(e) { return qe(this, e, !0) }, get size() { return Xe(this, !0) }, has(e) { return ze.call(this, e, !0) }, add: rt("add"), set: rt("set"), delete: rt("delete"), clear: rt("clear"), forEach: tt(!0, !1) }, r = { get(e) { return qe(this, e, !0, !0) }, get size() { return Xe(this, !0) }, has(e) { return ze.call(this, e, !0) }, add: rt("add"), set: rt("set"), delete: rt("delete"), clear: rt("clear"), forEach: tt(!0, !0) }; return ["keys", "values", "entries", Symbol.iterator].forEach((o => { e[o] = nt(o, !1, !1), n[o] = nt(o, !0, !1), t[o] = nt(o, !1, !0), r[o] = nt(o, !0, !0) })), [e, n, t, r] }(); function ct(e, t) { const n = t ? e ? st : at : e ? it : ot; return (t, r, o) => "__v_isReactive" === r ? !e : "__v_isReadonly" === r ? e : "__v_raw" === r ? t : Reflect.get(F(n, r) && r in t ? n : t, r, o) } const lt = { get: ct(!1, !1) }, ut = { get: ct(!1, !0) }, dt = { get: ct(!0, !1) }, ht = { get: ct(!0, !0) }, ft = new WeakMap, pt = new WeakMap, _t = new WeakMap, vt = new WeakMap; function mt(e) { return Ct(e) ? e : Bt(e, !1, Ve, lt, ft) } function gt(e) { return Bt(e, !1, Je, ut, pt) } function At(e) { return Bt(e, !0, Ke, dt, _t) } function yt(e) { return Bt(e, !0, Ue, ht, vt) } function Bt(e, t, n, r, o) { if (!j(e)) return e; if (e.__v_raw && (!t || !e.__v_isReactive)) return e; const i = o.get(e); if (i) return i; const a = function (e) { return e.__v_skip || !Object.isExtensible(e) ? 0 : function (e) { switch (e) { case "Object": case "Array": return 1; case "Map": case "Set": case "WeakMap": case "WeakSet": return 2; default: return 0 } }((e => V(e).slice(8, -1))(e)) }(e); if (0 === a) return e; const s = new Proxy(e, 2 === a ? r : n); return o.set(e, s), s } function bt(e) { return Ct(e) ? bt(e.__v_raw) : !(!e || !e.__v_isReactive) } function Ct(e) { return !(!e || !e.__v_isReadonly) } function Et(e) { return !(!e || !e.__v_isShallow) } function wt(e) { return bt(e) || Ct(e) } function kt(e) { const t = e && e.__v_raw; return t ? kt(t) : e } function Dt(e) { return ne(e, "__v_skip", !0), e } const xt = e => j(e) ? mt(e) : e, St = e => j(e) ? At(e) : e; function Mt(e) { Ee && _e && Se((e = kt(e)).dep || (e.dep = de())) } function Ft(e, t) { (e = kt(e)).dep && Fe(e.dep) } function Tt(e) { return !(!e || !0 !== e.__v_isRef) } function Ot(e) { return Pt(e, !1) } function It(e) { return Pt(e, !0) } function Pt(e, t) { return Tt(e) ? e : new Rt(e, t) } class Rt { constructor(e, t) { this.__v_isShallow = t, this.dep = void 0, this.__v_isRef = !0, this._rawValue = t ? e : kt(e), this._value = t ? e : xt(e) } get value() { return Mt(this), this._value } set value(e) { const t = this.__v_isShallow || Et(e) || Ct(e); e = t ? e : kt(e), ee(e, this._rawValue) && (this._rawValue = e, this._value = t ? e : xt(e), Ft(this)) } } function Lt(e) { Ft(e) } function Ht(e) { return Tt(e) ? e.value : e } const jt = { get: (e, t, n) => Ht(Reflect.get(e, t, n)), set: (e, t, n, r) => { const o = e[t]; return Tt(o) && !Tt(n) ? (o.value = n, !0) : Reflect.set(e, t, n, r) } }; function Gt(e) { return bt(e) ? e : new Proxy(e, jt) } class Nt { constructor(e) { this.dep = void 0, this.__v_isRef = !0; const { get: t, set: n } = e((() => Mt(this)), (() => Ft(this))); this._get = t, this._set = n } get value() { return this._get() } set value(e) { this._set(e) } } function Vt(e) { return new Nt(e) } function Kt(e) { const t = T(e) ? new Array(e.length) : {}; for (const n in e) t[n] = Ut(e, n); return t } class Jt { constructor(e, t, n) { this._object = e, this._key = t, this._defaultValue = n, this.__v_isRef = !0 } get value() { const e = this._object[this._key]; return void 0 === e ? this._defaultValue : e } set value(e) { this._object[this._key] = e } } function Ut(e, t, n) { const r = e[t]; return Tt(r) ? r : new Jt(e, t, n) } var Zt; class Wt { constructor(e, t, n, r) { this._setter = t, this.dep = void 0, this.__v_isRef = !0, this[Zt] = !1, this._dirty = !0, this.effect = new ye(e, (() => { this._dirty || (this._dirty = !0, Ft(this)) })), this.effect.computed = this, this.effect.active = this._cacheable = !r, this.__v_isReadonly = n } get value() { const e = kt(this); return Mt(e), !e._dirty && e._cacheable || (e._dirty = !1, e._value = e.effect.run()), e._value } set value(e) { this._setter(e) } } Zt = "__v_isReadonly"; const qt = []; function zt(e, ...t) { ke(); const n = qt.length ? qt[qt.length - 1].component : null, r = n && n.appContext.config.warnHandler, o = function () { let e = qt[qt.length - 1]; if (!e) return []; const t = []; for (; e;) { const n = t[0]; n && n.vnode === e ? n.recurseCount++ : t.push({ vnode: e, recurseCount: 0 }); const r = e.component && e.component.parent; e = r && r.vnode } return t }(); if (r) Yt(r, n, 11, [e + t.join(""), n && n.proxy, o.map((({ vnode: e }) => `at <${Ni(n, e.type)}>`)).join("\n"), o]); else { const n = [`[Vue warn]: ${e}`, ...t]; o.length && n.push("\n", ...function (e) { const t = []; return e.forEach(((e, n) => { t.push(...0 === n ? [] : ["\n"], ...function ({ vnode: e, recurseCount: t }) { const n = t > 0 ? `... (${t} recursive calls)` : "", r = !!e.component && null == e.component.parent, o = ` at <${Ni(e.component, e.type, r)}`, i = ">" + n; return e.props ? [o, ...Xt(e.props), i] : [o + i] }(e)) })), t }(o)), console.warn(...n) } De() } function Xt(e) { const t = [], n = Object.keys(e); return n.slice(0, 3).forEach((n => { t.push(...Qt(n, e[n])) })), n.length > 3 && t.push(" ..."), t } function Qt(e, t, n) { return L(t) ? (t = JSON.stringify(t), n ? t : [`${e}=${t}`]) : "number" == typeof t || "boolean" == typeof t || null == t ? n ? t : [`${e}=${t}`] : Tt(t) ? (t = Qt(e, kt(t.value), !0), n ? t : [`${e}=Ref<`, t, ">"]) : R(t) ? [`${e}=fn${t.name ? `<${t.name}>` : ""}`] : (t = kt(t), n ? t : [`${e}=`, t]) } function Yt(e, t, n, r) { let o; try { o = r ? e(...r) : e() } catch (e) { en(e, t, n) } return o } function $t(e, t, n, r) { if (R(e)) { const o = Yt(e, t, n, r); return o && G(o) && o.catch((e => { en(e, t, n) })), o } const o = []; for (let i = 0; i < e.length; i++)o.push($t(e[i], t, n, r)); return o } function en(e, t, n, r = !0) { if (t && t.vnode, t) { let r = t.parent; const o = t.proxy, i = n; for (; r;) { const t = r.ec; if (t) for (let n = 0; n < t.length; n++)if (!1 === t[n](e, o, i)) return; r = r.parent } const a = t.appContext.config.errorHandler; if (a) return void Yt(a, null, 10, [e, o, i]) } !function (e, t, n, r = !0) { console.error(e) }(e, 0, 0, r) } let tn = !1, nn = !1; const rn = []; let on = 0; const an = []; let sn = null, cn = 0; const ln = Promise.resolve(); let un = null; function dn(e) { const t = un || ln; return e ? t.then(this ? e.bind(this) : e) : t } function hn(e) { rn.length && rn.includes(e, tn && e.allowRecurse ? on + 1 : on) || (null == e.id ? rn.push(e) : rn.splice(function (e) { let t = on + 1, n = rn.length; for (; t < n;) { const r = t + n >>> 1; mn(rn[r]) < e ? t = r + 1 : n = r } return t }(e.id), 0, e), fn()) } function fn() { tn || nn || (nn = !0, un = ln.then(An)) } function pn(e) { T(e) ? an.push(...e) : sn && sn.includes(e, e.allowRecurse ? cn + 1 : cn) || an.push(e), fn() } function _n(e, t = (tn ? on + 1 : 0)) { for (; t < rn.length; t++) { const e = rn[t]; e && e.pre && (rn.splice(t, 1), t--, e()) } } function vn(e) { if (an.length) { const e = [...new Set(an)]; if (an.length = 0, sn) return void sn.push(...e); for (sn = e, sn.sort(((e, t) => mn(e) - mn(t))), cn = 0; cn < sn.length; cn++)sn[cn](); sn = null, cn = 0 } } const mn = e => null == e.id ? 1 / 0 : e.id, gn = (e, t) => { const n = mn(e) - mn(t); if (0 === n) { if (e.pre && !t.pre) return -1; if (t.pre && !e.pre) return 1 } return n }; function An(e) { nn = !1, tn = !0, rn.sort(gn); try { for (on = 0; on < rn.length; on++) { const e = rn[on]; e && !1 !== e.active && Yt(e, null, 14) } } finally { on = 0, rn.length = 0, vn(), tn = !1, un = null, (rn.length || an.length) && An(e) } } new Set, new Map; let yn, Bn = [], bn = !1; function Cn(e, t) { var n, r; yn = e, yn ? (yn.enabled = !0, Bn.forEach((({ event: e, args: t }) => yn.emit(e, ...t))), Bn = []) : "undefined" != typeof window && window.HTMLElement && !(null === (r = null === (n = window.navigator) || void 0 === n ? void 0 : n.userAgent) || void 0 === r ? void 0 : r.includes("jsdom")) ? ((t.__VUE_DEVTOOLS_HOOK_REPLAY__ = t.__VUE_DEVTOOLS_HOOK_REPLAY__ || []).push((e => { Cn(e, t) })), setTimeout((() => { yn || (t.__VUE_DEVTOOLS_HOOK_REPLAY__ = null, bn = !0, Bn = []) }), 3e3)) : (bn = !0, Bn = []) } function En(e, t, ...n) { if (e.isUnmounted) return; const r = e.vnode.props || B; let o = n; const i = t.startsWith("update:"), a = i && t.slice(7); if (a && a in r) { const e = `${"modelValue" === a ? "model" : a}Modifiers`, { number: t, trim: i } = r[e] || B; i && (o = n.map((e => e.trim()))), t && (o = n.map(re)) } let s, c = r[s = $(t)] || r[s = $(z(t))]; !c && i && (c = r[s = $(Q(t))]), c && $t(c, e, 6, o); const l = r[s + "Once"]; if (l) { if (e.emitted) { if (e.emitted[s]) return } else e.emitted = {}; e.emitted[s] = !0, $t(l, e, 6, o) } } function wn(e, t, n = !1) { const r = t.emitsCache, o = r.get(e); if (void 0 !== o) return o; const i = e.emits; let a = {}, s = !1; if (!R(e)) { const r = e => { const n = wn(e, t, !0); n && (s = !0, x(a, n)) }; !n && t.mixins.length && t.mixins.forEach(r), e.extends && r(e.extends), e.mixins && e.mixins.forEach(r) } return i || s ? (T(i) ? i.forEach((e => a[e] = null)) : x(a, i), j(e) && r.set(e, a), a) : (j(e) && r.set(e, null), null) } function kn(e, t) { return !(!e || !k(t)) && (t = t.slice(2).replace(/Once$/, ""), F(e, t[0].toLowerCase() + t.slice(1)) || F(e, Q(t)) || F(e, t)) } let Dn = null, xn = null; function Sn(e) { const t = Dn; return Dn = e, xn = e && e.type.__scopeId || null, t } function Mn(e) { xn = e } function Fn() { xn = null } const Tn = e => On; function On(e, t = Dn, n) { if (!t) return e; if (e._n) return e; const r = (...n) => { r._d && $o(-1); const o = Sn(t); let i; try { i = e(...n) } finally { Sn(o), r._d && $o(1) } return i }; return r._n = !0, r._c = !0, r._d = !0, r } function In(e) { const { type: t, vnode: n, proxy: r, withProxy: o, props: i, propsOptions: [a], slots: s, attrs: c, emit: l, render: u, renderCache: d, data: h, setupState: f, ctx: p, inheritAttrs: _ } = e; let v, m; const g = Sn(e); try { if (4 & n.shapeFlag) { const e = o || r; v = vi(u.call(e, e, d, i, f, h, p)), m = c } else { const e = t; v = vi(e.length > 1 ? e(i, { attrs: c, slots: s, emit: l }) : e(i, null)), m = t.props ? c : Pn(c) } } catch (t) { Wo.length = 0, en(t, e, 1), v = ui(Uo) } let A = v; if (m && !1 !== _) { const e = Object.keys(m), { shapeFlag: t } = A; e.length && 7 & t && (a && e.some(D) && (m = Rn(m, a)), A = hi(A, m)) } return n.dirs && (A = hi(A), A.dirs = A.dirs ? A.dirs.concat(n.dirs) : n.dirs), n.transition && (A.transition = n.transition), v = A, Sn(g), v } const Pn = e => { let t; for (const n in e) ("class" === n || "style" === n || k(n)) && ((t || (t = {}))[n] = e[n]); return t }, Rn = (e, t) => { const n = {}; for (const r in e) D(r) && r.slice(9) in t || (n[r] = e[r]); return n }; function Ln(e, t, n) { const r = Object.keys(t); if (r.length !== Object.keys(e).length) return !0; for (let o = 0; o < r.length; o++) { const i = r[o]; if (t[i] !== e[i] && !kn(n, i)) return !0 } return !1 } function Hn({ vnode: e, parent: t }, n) { for (; t && t.subTree === e;)(e = t.vnode).el = n, t = t.parent } const jn = e => e.__isSuspense, Gn = { name: "Suspense", __isSuspense: !0, process(e, t, n, r, o, i, a, s, c, l) { null == e ? function (e, t, n, r, o, i, a, s, c) { const { p: l, o: { createElement: u } } = c, d = u("div"), h = e.suspense = Vn(e, o, r, t, d, n, i, a, s, c); l(null, h.pendingBranch = e.ssContent, d, null, r, h, i, a), h.deps > 0 ? (Nn(e, "onPending"), Nn(e, "onFallback"), l(null, e.ssFallback, t, n, r, null, i, a), Un(h, e.ssFallback)) : h.resolve() }(t, n, r, o, i, a, s, c, l) : function (e, t, n, r, o, i, a, s, { p: c, um: l, o: { createElement: u } }) { const d = t.suspense = e.suspense; d.vnode = t, t.el = e.el; const h = t.ssContent, f = t.ssFallback, { activeBranch: p, pendingBranch: _, isInFallback: v, isHydrating: m } = d; if (_) d.pendingBranch = h, oi(h, _) ? (c(_, h, d.hiddenContainer, null, o, d, i, a, s), d.deps <= 0 ? d.resolve() : v && (c(p, f, n, r, o, null, i, a, s), Un(d, f))) : (d.pendingId++, m ? (d.isHydrating = !1, d.activeBranch = _) : l(_, o, d), d.deps = 0, d.effects.length = 0, d.hiddenContainer = u("div"), v ? (c(null, h, d.hiddenContainer, null, o, d, i, a, s), d.deps <= 0 ? d.resolve() : (c(p, f, n, r, o, null, i, a, s), Un(d, f))) : p && oi(h, p) ? (c(p, h, n, r, o, d, i, a, s), d.resolve(!0)) : (c(null, h, d.hiddenContainer, null, o, d, i, a, s), d.deps <= 0 && d.resolve())); else if (p && oi(h, p)) c(p, h, n, r, o, d, i, a, s), Un(d, h); else if (Nn(t, "onPending"), d.pendingBranch = h, d.pendingId++, c(null, h, d.hiddenContainer, null, o, d, i, a, s), d.deps <= 0) d.resolve(); else { const { timeout: e, pendingId: t } = d; e > 0 ? setTimeout((() => { d.pendingId === t && d.fallback(f) }), e) : 0 === e && d.fallback(f) } }(e, t, n, r, o, a, s, c, l) }, hydrate: function (e, t, n, r, o, i, a, s, c) { const l = t.suspense = Vn(t, r, n, e.parentNode, document.createElement("div"), null, o, i, a, s, !0), u = c(e, l.pendingBranch = t.ssContent, n, l, i, a); return 0 === l.deps && l.resolve(), u }, create: Vn, normalize: function (e) { const { shapeFlag: t, children: n } = e, r = 32 & t; e.ssContent = Kn(r ? n.default : n), e.ssFallback = r ? Kn(n.fallback) : ui(Uo) } }; function Nn(e, t) { const n = e.props && e.props[t]; R(n) && n() } function Vn(e, t, n, r, o, i, a, s, c, l, u = !1) { const { p: d, m: h, um: f, n: p, o: { parentNode: _, remove: v } } = l, m = re(e.props && e.props.timeout), g = { vnode: e, parent: t, parentComponent: n, isSVG: a, container: r, hiddenContainer: o, anchor: i, deps: 0, pendingId: 0, timeout: "number" == typeof m ? m : -1, activeBranch: null, pendingBranch: null, isInFallback: !0, isHydrating: u, isUnmounted: !1, effects: [], resolve(e = !1) { const { vnode: t, activeBranch: n, pendingBranch: r, pendingId: o, effects: i, parentComponent: a, container: s } = g; if (g.isHydrating) g.isHydrating = !1; else if (!e) { const e = n && r.transition && "out-in" === r.transition.mode; e && (n.transition.afterLeave = () => { o === g.pendingId && h(r, s, t, 0) }); let { anchor: t } = g; n && (t = p(n), f(n, a, g, !0)), e || h(r, s, t, 0) } Un(g, r), g.pendingBranch = null, g.isInFallback = !1; let c = g.parent, l = !1; for (; c;) { if (c.pendingBranch) { c.effects.push(...i), l = !0; break } c = c.parent } l || pn(i), g.effects = [], Nn(t, "onResolve") }, fallback(e) { if (!g.pendingBranch) return; const { vnode: t, activeBranch: n, parentComponent: r, container: o, isSVG: i } = g; Nn(t, "onFallback"); const a = p(n), l = () => { g.isInFallback && (d(null, e, o, a, r, null, i, s, c), Un(g, e)) }, u = e.transition && "out-in" === e.transition.mode; u && (n.transition.afterLeave = l), g.isInFallback = !0, f(n, r, null, !0), u || l() }, move(e, t, n) { g.activeBranch && h(g.activeBranch, e, t, n), g.container = e }, next: () => g.activeBranch && p(g.activeBranch), registerDep(e, t) { const n = !!g.pendingBranch; n && g.deps++; const r = e.vnode.el; e.asyncDep.catch((t => { en(t, e, 0) })).then((o => { if (e.isUnmounted || g.isUnmounted || g.pendingId !== e.suspenseId) return; e.asyncResolved = !0; const { vnode: i } = e; Oi(e, o, !1), r && (i.el = r); const s = !r && e.subTree.el; t(e, i, _(r || e.subTree.el), r ? null : p(e.subTree), g, a, c), s && v(s), Hn(e, i.el), n && 0 == --g.deps && g.resolve() })) }, unmount(e, t) { g.isUnmounted = !0, g.activeBranch && f(g.activeBranch, n, e, t), g.pendingBranch && f(g.pendingBranch, n, e, t) } }; return g } function Kn(e) { let t; if (R(e)) { const n = Yo && e._c; n && (e._d = !1, zo()), e = e(), n && (e._d = !0, t = qo, Xo()) } if (T(e)) { const t = function (e) { let t; for (let n = 0; n < e.length; n++) { const r = e[n]; if (!ri(r)) return; if (r.type !== Uo || "v-if" === r.children) { if (t) return; t = r } } return t }(e); e = t } return e = vi(e), t && !e.dynamicChildren && (e.dynamicChildren = t.filter((t => t !== e))), e } function Jn(e, t) { t && t.pendingBranch ? T(e) ? t.effects.push(...e) : t.effects.push(e) : pn(e) } function Un(e, t) { e.activeBranch = t; const { vnode: n, parentComponent: r } = e, o = n.el = t.el; r && r.subTree === n && (r.vnode.el = o, Hn(r, o)) } function Zn(e, t) { if (Ei) { let n = Ei.provides; const r = Ei.parent && Ei.parent.provides; r === n && (n = Ei.provides = Object.create(r)), n[e] = t } } function Wn(e, t, n = !1) { const r = Ei || Dn; if (r) { const o = null == r.parent ? r.vnode.appContext && r.vnode.appContext.provides : r.parent.provides; if (o && e in o) return o[e]; if (arguments.length > 1) return n && R(t) ? t.call(r.proxy) : t } } function qn(e, t) { return $n(e, null, t) } function zn(e, t) { return $n(e, null, { flush: "post" }) } function Xn(e, t) { return $n(e, null, { flush: "sync" }) } const Qn = {}; function Yn(e, t, n) { return $n(e, t, n) } function $n(e, t, { immediate: n, deep: r, flush: o, onTrack: i, onTrigger: a } = B) { const s = Ei; let c, l, u = !1, d = !1; if (Tt(e) ? (c = () => e.value, u = Et(e)) : bt(e) ? (c = () => e, r = !0) : T(e) ? (d = !0, u = e.some((e => bt(e) || Et(e))), c = () => e.map((e => Tt(e) ? e.value : bt(e) ? nr(e) : R(e) ? Yt(e, s, 2) : void 0))) : c = R(e) ? t ? () => Yt(e, s, 2) : () => { if (!s || !s.isUnmounted) return l && l(), $t(e, s, 3, [h]) } : C, t && r) { const e = c; c = () => nr(e()) } let h = e => { l = v.onStop = () => { Yt(e, s, 4) } }; if (Fi) return h = C, t ? n && $t(t, s, 3, [c(), d ? [] : void 0, h]) : c(), C; let f = d ? [] : Qn; const p = () => { if (v.active) if (t) { const e = v.run(); (r || u || (d ? e.some(((e, t) => ee(e, f[t]))) : ee(e, f))) && (l && l(), $t(t, s, 3, [e, f === Qn ? void 0 : f, h]), f = e) } else v.run() }; let _; p.allowRecurse = !!t, "sync" === o ? _ = p : "post" === o ? _ = () => To(p, s && s.suspense) : (p.pre = !0, s && (p.id = s.uid), _ = () => hn(p)); const v = new ye(c, _); return t ? n ? p() : f = v.run() : "post" === o ? To(v.run.bind(v), s && s.suspense) : v.run(), () => { v.stop(), s && s.scope && S(s.scope.effects, v) } } function er(e, t, n) { const r = this.proxy, o = L(e) ? e.includes(".") ? tr(r, e) : () => r[e] : e.bind(r, r); let i; R(t) ? i = t : (i = t.handler, n = t); const a = Ei; ki(this); const s = $n(o, i.bind(r), n); return a ? ki(a) : Di(), s } function tr(e, t) { const n = t.split("."); return () => { let t = e; for (let e = 0; e < n.length && t; e++)t = t[n[e]]; return t } } function nr(e, t) { if (!j(e) || e.__v_skip) return e; if ((t = t || new Set).has(e)) return e; if (t.add(e), Tt(e)) nr(e.value, t); else if (T(e)) for (let n = 0; n < e.length; n++)nr(e[n], t); else if (I(e) || O(e)) e.forEach((e => { nr(e, t) })); else if (K(e)) for (const n in e) nr(e[n], t); return e } function rr() { const e = { isMounted: !1, isLeaving: !1, isUnmounting: !1, leavingVNodes: new Map }; return xr((() => { e.isMounted = !0 })), Fr((() => { e.isUnmounting = !0 })), e } const or = [Function, Array], ir = { name: "BaseTransition", props: { mode: String, appear: Boolean, persisted: Boolean, onBeforeEnter: or, onEnter: or, onAfterEnter: or, onEnterCancelled: or, onBeforeLeave: or, onLeave: or, onAfterLeave: or, onLeaveCancelled: or, onBeforeAppear: or, onAppear: or, onAfterAppear: or, onAppearCancelled: or }, setup(e, { slots: t }) { const n = wi(), r = rr(); let o; return () => { const i = t.default && dr(t.default(), !0); if (!i || !i.length) return; let a = i[0]; if (i.length > 1) { let e = !1; for (const t of i) if (t.type !== Uo) { a = t, e = !0; break } } const s = kt(e), { mode: c } = s; if (r.isLeaving) return cr(a); const l = lr(a); if (!l) return cr(a); const u = sr(l, s, r, n); ur(l, u); const d = n.subTree, h = d && lr(d); let f = !1; const { getTransitionKey: p } = l.type; if (p) { const e = p(); void 0 === o ? o = e : e !== o && (o = e, f = !0) } if (h && h.type !== Uo && (!oi(l, h) || f)) { const e = sr(h, s, r, n); if (ur(h, e), "out-in" === c) return r.isLeaving = !0, e.afterLeave = () => { r.isLeaving = !1, n.update() }, cr(a); "in-out" === c && l.type !== Uo && (e.delayLeave = (e, t, n) => { ar(r, h)[String(h.key)] = h, e._leaveCb = () => { t(), e._leaveCb = void 0, delete u.delayedLeave }, u.delayedLeave = n }) } return a } } }; function ar(e, t) { const { leavingVNodes: n } = e; let r = n.get(t.type); return r || (r = Object.create(null), n.set(t.type, r)), r } function sr(e, t, n, r) { const { appear: o, mode: i, persisted: a = !1, onBeforeEnter: s, onEnter: c, onAfterEnter: l, onEnterCancelled: u, onBeforeLeave: d, onLeave: h, onAfterLeave: f, onLeaveCancelled: p, onBeforeAppear: _, onAppear: v, onAfterAppear: m, onAppearCancelled: g } = t, A = String(e.key), y = ar(n, e), B = (e, t) => { e && $t(e, r, 9, t) }, b = (e, t) => { const n = t[1]; B(e, t), T(e) ? e.every((e => e.length <= 1)) && n() : e.length <= 1 && n() }, C = { mode: i, persisted: a, beforeEnter(t) { let r = s; if (!n.isMounted) { if (!o) return; r = _ || s } t._leaveCb && t._leaveCb(!0); const i = y[A]; i && oi(e, i) && i.el._leaveCb && i.el._leaveCb(), B(r, [t]) }, enter(e) { let t = c, r = l, i = u; if (!n.isMounted) { if (!o) return; t = v || c, r = m || l, i = g || u } let a = !1; const s = e._enterCb = t => { a || (a = !0, B(t ? i : r, [e]), C.delayedLeave && C.delayedLeave(), e._enterCb = void 0) }; t ? b(t, [e, s]) : s() }, leave(t, r) { const o = String(e.key); if (t._enterCb && t._enterCb(!0), n.isUnmounting) return r(); B(d, [t]); let i = !1; const a = t._leaveCb = n => { i || (i = !0, r(), B(n ? p : f, [t]), t._leaveCb = void 0, y[o] === e && delete y[o]) }; y[o] = e, h ? b(h, [t, a]) : a() }, clone: e => sr(e, t, n, r) }; return C } function cr(e) { if (vr(e)) return (e = hi(e)).children = null, e } function lr(e) { return vr(e) ? e.children ? e.children[0] : void 0 : e } function ur(e, t) { 6 & e.shapeFlag && e.component ? ur(e.component.subTree, t) : 128 & e.shapeFlag ? (e.ssContent.transition = t.clone(e.ssContent), e.ssFallback.transition = t.clone(e.ssFallback)) : e.transition = t } function dr(e, t = !1, n) { let r = [], o = 0; for (let i = 0; i < e.length; i++) { let a = e[i]; const s = null == n ? a.key : String(n) + String(null != a.key ? a.key : i); a.type === Ko ? (128 & a.patchFlag && o++, r = r.concat(dr(a.children, t, s))) : (t || a.type !== Uo) && r.push(null != s ? hi(a, { key: s }) : a) } if (o > 1) for (let e = 0; e < r.length; e++)r[e].patchFlag = -2; return r } function hr(e) { return R(e) ? { setup: e, name: e.name } : e } const fr = e => !!e.type.__asyncLoader; function pr(e) { R(e) && (e = { loader: e }); const { loader: t, loadingComponent: n, errorComponent: r, delay: o = 200, timeout: i, suspensible: a = !0, onError: s } = e; let c, l = null, u = 0; const d = () => { let e; return l || (e = l = t().catch((e => { if (e = e instanceof Error ? e : new Error(String(e)), s) return new Promise(((t, n) => { s(e, (() => t((u++, l = null, d()))), (() => n(e)), u + 1) })); throw e })).then((t => e !== l && l ? l : (t && (t.__esModule || "Module" === t[Symbol.toStringTag]) && (t = t.default), c = t, t)))) }; return hr({ name: "AsyncComponentWrapper", __asyncLoader: d, get __asyncResolved() { return c }, setup() { const e = Ei; if (c) return () => _r(c, e); const t = t => { l = null, en(t, e, 13, !r) }; if (a && e.suspense || Fi) return d().then((t => () => _r(t, e))).catch((e => (t(e), () => r ? ui(r, { error: e }) : null))); const s = Ot(!1), u = Ot(), h = Ot(!!o); return o && setTimeout((() => { h.value = !1 }), o), null != i && setTimeout((() => { if (!s.value && !u.value) { const e = new Error(`Async component timed out after ${i}ms.`); t(e), u.value = e } }), i), d().then((() => { s.value = !0, e.parent && vr(e.parent.vnode) && hn(e.parent.update) })).catch((e => { t(e), u.value = e })), () => s.value && c ? _r(c, e) : u.value && r ? ui(r, { error: u.value }) : n && !h.value ? ui(n) : void 0 } }) } function _r(e, { vnode: { ref: t, props: n, children: r, shapeFlag: o }, parent: i }) { const a = ui(e, n, r); return a.ref = t, a } const vr = e => e.type.__isKeepAlive, mr = { name: "KeepAlive", __isKeepAlive: !0, props: { include: [String, RegExp, Array], exclude: [String, RegExp, Array], max: [String, Number] }, setup(e, { slots: t }) { const n = wi(), r = n.ctx; if (!r.renderer) return () => { const e = t.default && t.default(); return e && 1 === e.length ? e[0] : e }; const o = new Map, i = new Set; let a = null; const s = n.suspense, { renderer: { p: c, m: l, um: u, o: { createElement: d } } } = r, h = d("div"); function f(e) { Cr(e), u(e, n, s, !0) } function p(e) { o.forEach(((t, n) => { const r = Gi(t.type); !r || e && e(r) || _(n) })) } function _(e) { const t = o.get(e); a && t.type === a.type ? a && Cr(a) : f(t), o.delete(e), i.delete(e) } r.activate = (e, t, n, r, o) => { const i = e.component; l(e, t, n, 0, s), c(i.vnode, e, t, n, i, s, r, e.slotScopeIds, o), To((() => { i.isDeactivated = !1, i.a && te(i.a); const t = e.props && e.props.onVnodeMounted; t && yi(t, i.parent, e) }), s) }, r.deactivate = e => { const t = e.component; l(e, h, null, 1, s), To((() => { t.da && te(t.da); const n = e.props && e.props.onVnodeUnmounted; n && yi(n, t.parent, e), t.isDeactivated = !0 }), s) }, Yn((() => [e.include, e.exclude]), (([e, t]) => { e && p((t => gr(e, t))), t && p((e => !gr(t, e))) }), { flush: "post", deep: !0 }); let v = null; const m = () => { null != v && o.set(v, Er(n.subTree)) }; return xr(m), Mr(m), Fr((() => { o.forEach((e => { const { subTree: t, suspense: r } = n, o = Er(t); if (e.type !== o.type) f(e); else { Cr(o); const e = o.component.da; e && To(e, r) } })) })), () => { if (v = null, !t.default) return null; const n = t.default(), r = n[0]; if (n.length > 1) return a = null, n; if (!ri(r) || !(4 & r.shapeFlag || 128 & r.shapeFlag)) return a = null, r; let s = Er(r); const c = s.type, l = Gi(fr(s) ? s.type.__asyncResolved || {} : c), { include: u, exclude: d, max: h } = e; if (u && (!l || !gr(u, l)) || d && l && gr(d, l)) return a = s, r; const f = null == s.key ? c : s.key, p = o.get(f); return s.el && (s = hi(s), 128 & r.shapeFlag && (r.ssContent = s)), v = f, p ? (s.el = p.el, s.component = p.component, s.transition && ur(s, s.transition), s.shapeFlag |= 512, i.delete(f), i.add(f)) : (i.add(f), h && i.size > parseInt(h, 10) && _(i.values().next().value)), s.shapeFlag |= 256, a = s, jn(r.type) ? r : s } } }; function gr(e, t) { return T(e) ? e.some((e => gr(e, t))) : L(e) ? e.split(",").includes(t) : !!e.test && e.test(t) } function Ar(e, t) { Br(e, "a", t) } function yr(e, t) { Br(e, "da", t) } function Br(e, t, n = Ei) { const r = e.__wdc || (e.__wdc = () => { let t = n; for (; t;) { if (t.isDeactivated) return; t = t.parent } return e() }); if (wr(t, r, n), n) { let e = n.parent; for (; e && e.parent;)vr(e.parent.vnode) && br(r, t, n, e), e = e.parent } } function br(e, t, n, r) { const o = wr(t, e, r, !0); Tr((() => { S(r[t], o) }), n) } function Cr(e) { let t = e.shapeFlag; 256 & t && (t -= 256), 512 & t && (t -= 512), e.shapeFlag = t } function Er(e) { return 128 & e.shapeFlag ? e.ssContent : e } function wr(e, t, n = Ei, r = !1) { if (n) { const o = n[e] || (n[e] = []), i = t.__weh || (t.__weh = (...r) => { if (n.isUnmounted) return; ke(), ki(n); const o = $t(t, n, e, r); return Di(), De(), o }); return r ? o.unshift(i) : o.push(i), i } } const kr = e => (t, n = Ei) => (!Fi || "sp" === e) && wr(e, ((...e) => t(...e)), n), Dr = kr("bm"), xr = kr("m"), Sr = kr("bu"), Mr = kr("u"), Fr = kr("bum"), Tr = kr("um"), Or = kr("sp"), Ir = kr("rtg"), Pr = kr("rtc"); function Rr(e, t = Ei) { wr("ec", e, t) } function Lr(e, t) { const n = Dn; if (null === n) return e; const r = Hi(n) || n.proxy, o = e.dirs || (e.dirs = []); for (let e = 0; e < t.length; e++) { let [n, i, a, s = B] = t[e]; R(n) && (n = { mounted: n, updated: n }), n.deep && nr(i), o.push({ dir: n, instance: r, value: i, oldValue: void 0, arg: a, modifiers: s }) } return e } function Hr(e, t, n, r) { const o = e.dirs, i = t && t.dirs; for (let a = 0; a < o.length; a++) { const s = o[a]; i && (s.oldValue = i[a].value); let c = s.dir[r]; c && (ke(), $t(c, n, 8, [e.el, s, e, t]), De()) } } const jr = "components"; function Gr(e, t) { return Jr(jr, e, !0, t) || e } const Nr = Symbol(); function Vr(e) { return L(e) ? Jr(jr, e, !1) || e : e || Nr } function Kr(e) { return Jr("directives", e) } function Jr(e, t, n = !0, r = !1) { const o = Dn || Ei; if (o) { const n = o.type; if (e === jr) { const e = Gi(n, !1); if (e && (e === t || e === z(t) || e === Y(z(t)))) return n } const i = Ur(o[e] || n[e], t) || Ur(o.appContext[e], t); return !i && r ? n : i } } function Ur(e, t) { return e && (e[t] || e[z(t)] || e[Y(z(t))]) } function Zr(e, t, n, r) { let o; const i = n && n[r]; if (T(e) || L(e)) { o = new Array(e.length); for (let n = 0, r = e.length; n < r; n++)o[n] = t(e[n], n, void 0, i && i[n]) } else if ("number" == typeof e) { o = new Array(e); for (let n = 0; n < e; n++)o[n] = t(n + 1, n, void 0, i && i[n]) } else if (j(e)) if (e[Symbol.iterator]) o = Array.from(e, ((e, n) => t(e, n, void 0, i && i[n]))); else { const n = Object.keys(e); o = new Array(n.length); for (let r = 0, a = n.length; r < a; r++) { const a = n[r]; o[r] = t(e[a], a, r, i && i[r]) } } else o = []; return n && (n[r] = o), o } function Wr(e, t) { for (let n = 0; n < t.length; n++) { const r = t[n]; if (T(r)) for (let t = 0; t < r.length; t++)e[r[t].name] = r[t].fn; else r && (e[r.name] = r.key ? (...e) => { const t = r.fn(...e); return t && (t.key = r.key), t } : r.fn) } return e } function qr(e, t, n = {}, r, o) { if (Dn.isCE || Dn.parent && fr(Dn.parent) && Dn.parent.isCE) return ui("slot", "default" === t ? null : { name: t }, r && r()); let i = e[t]; i && i._c && (i._d = !1), zo(); const a = i && zr(i(n)), s = ni(Ko, { key: n.key || a && a.key || `_${t}` }, a || (r ? r() : []), a && 1 === e._ ? 64 : -2); return !o && s.scopeId && (s.slotScopeIds = [s.scopeId + "-s"]), i && i._c && (i._d = !0), s } function zr(e) { return e.some((e => !ri(e) || e.type !== Uo && !(e.type === Ko && !zr(e.children)))) ? e : null } function Xr(e, t) { const n = {}; for (const r in e) n[t && /[A-Z]/.test(r) ? `on:${r}` : $(r)] = e[r]; return n } const Qr = e => e ? xi(e) ? Hi(e) || e.proxy : Qr(e.parent) : null, Yr = x(Object.create(null), { $: e => e, $el: e => e.vnode.el, $data: e => e.data, $props: e => e.props, $attrs: e => e.attrs, $slots: e => e.slots, $refs: e => e.refs, $parent: e => Qr(e.parent), $root: e => Qr(e.root), $emit: e => e.emit, $options: e => oo(e), $forceUpdate: e => e.f || (e.f = () => hn(e.update)), $nextTick: e => e.n || (e.n = dn.bind(e.proxy)), $watch: e => er.bind(e) }), $r = { get({ _: e }, t) { const { ctx: n, setupState: r, data: o, props: i, accessCache: a, type: s, appContext: c } = e; let l; if ("$" !== t[0]) { const s = a[t]; if (void 0 !== s) switch (s) { case 1: return r[t]; case 2: return o[t]; case 4: return n[t]; case 3: return i[t] } else { if (r !== B && F(r, t)) return a[t] = 1, r[t]; if (o !== B && F(o, t)) return a[t] = 2, o[t]; if ((l = e.propsOptions[0]) && F(l, t)) return a[t] = 3, i[t]; if (n !== B && F(n, t)) return a[t] = 4, n[t]; to && (a[t] = 0) } } const u = Yr[t]; let d, h; return u ? ("$attrs" === t && xe(e, 0, t), u(e)) : (d = s.__cssModules) && (d = d[t]) ? d : n !== B && F(n, t) ? (a[t] = 4, n[t]) : (h = c.config.globalProperties, F(h, t) ? h[t] : void 0) }, set({ _: e }, t, n) { const { data: r, setupState: o, ctx: i } = e; return o !== B && F(o, t) ? (o[t] = n, !0) : r !== B && F(r, t) ? (r[t] = n, !0) : !(F(e.props, t) || "$" === t[0] && t.slice(1) in e || (i[t] = n, 0)) }, has({ _: { data: e, setupState: t, accessCache: n, ctx: r, appContext: o, propsOptions: i } }, a) { let s; return !!n[a] || e !== B && F(e, a) || t !== B && F(t, a) || (s = i[0]) && F(s, a) || F(r, a) || F(Yr, a) || F(o.config.globalProperties, a) }, defineProperty(e, t, n) { return null != n.get ? e._.accessCache[t] = 0 : F(n, "value") && this.set(e, t, n.value, null), Reflect.defineProperty(e, t, n) } }, eo = x({}, $r, { get(e, t) { if (t !== Symbol.unscopables) return $r.get(e, t, e) }, has: (e, t) => "_" !== t[0] && !i(t) }); let to = !0; function no(e, t, n) { $t(T(e) ? e.map((e => e.bind(t.proxy))) : e.bind(t.proxy), t, n) } function ro(e, t, n, r) { const o = r.includes(".") ? tr(n, r) : () => n[r]; if (L(e)) { const n = t[e]; R(n) && Yn(o, n) } else if (R(e)) Yn(o, e.bind(n)); else if (j(e)) if (T(e)) e.forEach((e => ro(e, t, n, r))); else { const r = R(e.handler) ? e.handler.bind(n) : t[e.handler]; R(r) && Yn(o, r, e) } } function oo(e) { const t = e.type, { mixins: n, extends: r } = t, { mixins: o, optionsCache: i, config: { optionMergeStrategies: a } } = e.appContext, s = i.get(t); let c; return s ? c = s : o.length || n || r ? (c = {}, o.length && o.forEach((e => io(c, e, a, !0))), io(c, t, a)) : c = t, j(t) && i.set(t, c), c } function io(e, t, n, r = !1) { const { mixins: o, extends: i } = t; i && io(e, i, n, !0), o && o.forEach((t => io(e, t, n, !0))); for (const o in t) if (r && "expose" === o); else { const r = ao[o] || n && n[o]; e[o] = r ? r(e[o], t[o]) : t[o] } return e } const ao = { data: so, props: uo, emits: uo, methods: uo, computed: uo, beforeCreate: lo, created: lo, beforeMount: lo, mounted: lo, beforeUpdate: lo, updated: lo, beforeDestroy: lo, beforeUnmount: lo, destroyed: lo, unmounted: lo, activated: lo, deactivated: lo, errorCaptured: lo, serverPrefetch: lo, components: uo, directives: uo, watch: function (e, t) { if (!e) return t; if (!t) return e; const n = x(Object.create(null), e); for (const r in t) n[r] = lo(e[r], t[r]); return n }, provide: so, inject: function (e, t) { return uo(co(e), co(t)) } }; function so(e, t) { return t ? e ? function () { return x(R(e) ? e.call(this, this) : e, R(t) ? t.call(this, this) : t) } : t : e } function co(e) { if (T(e)) { const t = {}; for (let n = 0; n < e.length; n++)t[e[n]] = e[n]; return t } return e } function lo(e, t) { return e ? [...new Set([].concat(e, t))] : t } function uo(e, t) { return e ? x(x(Object.create(null), e), t) : t } function ho(e, t, n, r) { const [o, i] = e.propsOptions; let a, s = !1; if (t) for (let c in t) { if (U(c)) continue; const l = t[c]; let u; o && F(o, u = z(c)) ? i && i.includes(u) ? (a || (a = {}))[u] = l : n[u] = l : kn(e.emitsOptions, c) || c in r && l === r[c] || (r[c] = l, s = !0) } if (i) { const t = kt(n), r = a || B; for (let a = 0; a < i.length; a++) { const s = i[a]; n[s] = fo(o, t, s, r[s], e, !F(r, s)) } } return s } function fo(e, t, n, r, o, i) { const a = e[n]; if (null != a) { const e = F(a, "default"); if (e && void 0 === r) { const e = a.default; if (a.type !== Function && R(e)) { const { propsDefaults: i } = o; n in i ? r = i[n] : (ki(o), r = i[n] = e.call(null, t), Di()) } else r = e } a[0] && (i && !e ? r = !1 : !a[1] || "" !== r && r !== Q(n) || (r = !0)) } return r } function po(e, t, n = !1) { const r = t.propsCache, o = r.get(e); if (o) return o; const i = e.props, a = {}, s = []; let c = !1; if (!R(e)) { const r = e => { c = !0; const [n, r] = po(e, t, !0); x(a, n), r && s.push(...r) }; !n && t.mixins.length && t.mixins.forEach(r), e.extends && r(e.extends), e.mixins && e.mixins.forEach(r) } if (!i && !c) return j(e) && r.set(e, b), b; if (T(i)) for (let e = 0; e < i.length; e++) { const t = z(i[e]); _o(t) && (a[t] = B) } else if (i) for (const e in i) { const t = z(e); if (_o(t)) { const n = i[e], r = a[t] = T(n) || R(n) ? { type: n } : n; if (r) { const e = go(Boolean, r.type), n = go(String, r.type); r[0] = e > -1, r[1] = n < 0 || e < n, (e > -1 || F(r, "default")) && s.push(t) } } } const l = [a, s]; return j(e) && r.set(e, l), l } function _o(e) { return "$" !== e[0] } function vo(e) { const t = e && e.toString().match(/^\s*function (\w+)/); return t ? t[1] : null === e ? "null" : "" } function mo(e, t) { return vo(e) === vo(t) } function go(e, t) { return T(t) ? t.findIndex((t => mo(t, e))) : R(t) && mo(t, e) ? 0 : -1 } const Ao = e => "_" === e[0] || "$stable" === e, yo = e => T(e) ? e.map(vi) : [vi(e)], Bo = (e, t, n) => { if (t._n) return t; const r = On(((...e) => yo(t(...e))), n); return r._c = !1, r }, bo = (e, t, n) => { const r = e._ctx; for (const n in e) { if (Ao(n)) continue; const o = e[n]; if (R(o)) t[n] = Bo(0, o, r); else if (null != o) { const e = yo(o); t[n] = () => e } } }, Co = (e, t) => { const n = yo(t); e.slots.default = () => n }; function Eo() { return { app: null, config: { isNativeTag: E, performance: !1, globalProperties: {}, optionMergeStrategies: {}, errorHandler: void 0, warnHandler: void 0, compilerOptions: {} }, mixins: [], components: {}, directives: {}, provides: Object.create(null), optionsCache: new WeakMap, propsCache: new WeakMap, emitsCache: new WeakMap } } let wo = 0; function ko(e, t) { return function (n, r = null) { R(n) || (n = Object.assign({}, n)), null == r || j(r) || (r = null); const o = Eo(), i = new Set; let a = !1; const s = o.app = { _uid: wo++, _component: n, _props: r, _container: null, _context: o, _instance: null, version: ia, get config() { return o.config }, set config(e) { }, use: (e, ...t) => (i.has(e) || (e && R(e.install) ? (i.add(e), e.install(s, ...t)) : R(e) && (i.add(e), e(s, ...t))), s), mixin: e => (o.mixins.includes(e) || o.mixins.push(e), s), component: (e, t) => t ? (o.components[e] = t, s) : o.components[e], directive: (e, t) => t ? (o.directives[e] = t, s) : o.directives[e], mount(i, c, l) { if (!a) { const u = ui(n, r); return u.appContext = o, c && t ? t(u, i) : e(u, i, l), a = !0, s._container = i, i.__vue_app__ = s, Hi(u.component) || u.component.proxy } }, unmount() { a && (e(null, s._container), delete s._container.__vue_app__) }, provide: (e, t) => (o.provides[e] = t, s) }; return s } } function Do(e, t, n, r, o = !1) { if (T(e)) return void e.forEach(((e, i) => Do(e, t && (T(t) ? t[i] : t), n, r, o))); if (fr(r) && !o) return; const i = 4 & r.shapeFlag ? Hi(r.component) || r.component.proxy : r.el, a = o ? null : i, { i: s, r: c } = e, l = t && t.r, u = s.refs === B ? s.refs = {} : s.refs, d = s.setupState; if (null != l && l !== c && (L(l) ? (u[l] = null, F(d, l) && (d[l] = null)) : Tt(l) && (l.value = null)), R(c)) Yt(c, s, 12, [a, u]); else { const t = L(c), r = Tt(c); if (t || r) { const s = () => { if (e.f) { const n = t ? F(d, c) ? d[c] : u[c] : c.value; o ? T(n) && S(n, i) : T(n) ? n.includes(i) || n.push(i) : t ? (u[c] = [i], F(d, c) && (d[c] = u[c])) : (c.value = [i], e.k && (u[e.k] = c.value)) } else t ? (u[c] = a, F(d, c) && (d[c] = a)) : r && (c.value = a, e.k && (u[e.k] = a)) }; a ? (s.id = -1, To(s, n)) : s() } } } let xo = !1; const So = e => /svg/.test(e.namespaceURI) && "foreignObject" !== e.tagName, Mo = e => 8 === e.nodeType; function Fo(e) { const { mt: t, p: n, o: { patchProp: r, createText: o, nextSibling: i, parentNode: a, remove: s, insert: c, createComment: l } } = e, u = (n, r, s, l, v, m = !1) => { const g = Mo(n) && "[" === n.data, A = () => p(n, r, s, l, v, g), { type: y, ref: B, shapeFlag: b, patchFlag: C } = r; let E = n.nodeType; r.el = n, -2 === C && (m = !1, r.dynamicChildren = null); let w = null; switch (y) { case Jo: 3 !== E ? "" === r.children ? (c(r.el = o(""), a(n), n), w = n) : w = A() : (n.data !== r.children && (xo = !0, n.data = r.children), w = i(n)); break; case Uo: w = 8 !== E || g ? A() : i(n); break; case Zo: if (g && (E = (n = i(n)).nodeType), 1 === E || 3 === E) { w = n; const e = !r.children.length; for (let t = 0; t < r.staticCount; t++)e && (r.children += 1 === w.nodeType ? w.outerHTML : w.data), t === r.staticCount - 1 && (r.anchor = w), w = i(w); return g ? i(w) : w } A(); break; case Ko: w = g ? f(n, r, s, l, v, m) : A(); break; default: if (1 & b) w = 1 !== E || r.type.toLowerCase() !== n.tagName.toLowerCase() ? A() : d(n, r, s, l, v, m); else if (6 & b) { r.slotScopeIds = v; const e = a(n); if (t(r, e, null, s, l, So(e), m), w = g ? _(n) : i(n), w && Mo(w) && "teleport end" === w.data && (w = i(w)), fr(r)) { let t; g ? (t = ui(Ko), t.anchor = w ? w.previousSibling : e.lastChild) : t = 3 === n.nodeType ? fi("") : ui("div"), t.el = n, r.component.subTree = t } } else 64 & b ? w = 8 !== E ? A() : r.type.hydrate(n, r, s, l, v, m, e, h) : 128 & b && (w = r.type.hydrate(n, r, s, l, So(a(n)), v, m, e, u)) }return null != B && Do(B, null, l, r), w }, d = (e, t, n, o, i, a) => { a = a || !!t.dynamicChildren; const { type: c, props: l, patchFlag: u, shapeFlag: d, dirs: f } = t, p = "input" === c && f || "option" === c; if (p || -1 !== u) { if (f && Hr(t, null, n, "created"), l) if (p || !a || 48 & u) for (const t in l) (p && t.endsWith("value") || k(t) && !U(t)) && r(e, t, null, l[t], !1, void 0, n); else l.onClick && r(e, "onClick", null, l.onClick, !1, void 0, n); let c; if ((c = l && l.onVnodeBeforeMount) && yi(c, n, t), f && Hr(t, null, n, "beforeMount"), ((c = l && l.onVnodeMounted) || f) && Jn((() => { c && yi(c, n, t), f && Hr(t, null, n, "mounted") }), o), 16 & d && (!l || !l.innerHTML && !l.textContent)) { let r = h(e.firstChild, t, e, n, o, i, a); for (; r;) { xo = !0; const e = r; r = r.nextSibling, s(e) } } else 8 & d && e.textContent !== t.children && (xo = !0, e.textContent = t.children) } return e.nextSibling }, h = (e, t, r, o, i, a, s) => { s = s || !!t.dynamicChildren; const c = t.children, l = c.length; for (let t = 0; t < l; t++) { const l = s ? c[t] : c[t] = vi(c[t]); if (e) e = u(e, l, o, i, a, s); else { if (l.type === Jo && !l.children) continue; xo = !0, n(null, l, r, null, o, i, So(r), a) } } return e }, f = (e, t, n, r, o, s) => { const { slotScopeIds: u } = t; u && (o = o ? o.concat(u) : u); const d = a(e), f = h(i(e), t, d, n, r, o, s); return f && Mo(f) && "]" === f.data ? i(t.anchor = f) : (xo = !0, c(t.anchor = l("]"), d, f), f) }, p = (e, t, r, o, c, l) => { if (xo = !0, t.el = null, l) { const t = _(e); for (; ;) { const n = i(e); if (!n || n === t) break; s(n) } } const u = i(e), d = a(e); return s(e), n(null, t, d, u, r, o, So(d), c), u }, _ = e => { let t = 0; for (; e;)if ((e = i(e)) && Mo(e) && ("[" === e.data && t++, "]" === e.data)) { if (0 === t) return i(e); t-- } return e }; return [(e, t) => { if (!t.hasChildNodes()) return n(null, e, t), vn(), void (t._vnode = e); xo = !1, u(t.firstChild, e, null, null, null), vn(), t._vnode = e, xo && console.error("Hydration completed but contains mismatches.") }, u] } const To = Jn; function Oo(e) { return Po(e) } function Io(e) { return Po(e, Fo) } function Po(e, t) { (oe || (oe = "undefined" != typeof globalThis ? globalThis : "undefined" != typeof self ? self : "undefined" != typeof window ? window : void 0 !== n.g ? n.g : {})).__VUE__ = !0; const { insert: r, remove: o, patchProp: i, createElement: a, createText: s, createComment: c, setText: l, setElementText: u, parentNode: d, nextSibling: h, setScopeId: f = C, insertStaticContent: p } = e, _ = (e, t, n, r = null, o = null, i = null, a = !1, s = null, c = !!t.dynamicChildren) => { if (e === t) return; e && !oi(e, t) && (r = W(e), N(e, o, i, !0), e = null), -2 === t.patchFlag && (c = !1, t.dynamicChildren = null); const { type: l, ref: u, shapeFlag: d } = t; switch (l) { case Jo: v(e, t, n, r); break; case Uo: m(e, t, n, r); break; case Zo: null == e && g(t, n, r, a); break; case Ko: M(e, t, n, r, o, i, a, s, c); break; default: 1 & d ? A(e, t, n, r, o, i, a, s, c) : 6 & d ? T(e, t, n, r, o, i, a, s, c) : (64 & d || 128 & d) && l.process(e, t, n, r, o, i, a, s, c, X) }null != u && o && Do(u, e && e.ref, i, t || e, !t) }, v = (e, t, n, o) => { if (null == e) r(t.el = s(t.children), n, o); else { const n = t.el = e.el; t.children !== e.children && l(n, t.children) } }, m = (e, t, n, o) => { null == e ? r(t.el = c(t.children || ""), n, o) : t.el = e.el }, g = (e, t, n, r) => { [e.el, e.anchor] = p(e.children, t, n, r, e.el, e.anchor) }, A = (e, t, n, r, o, i, a, s, c) => { a = a || "svg" === t.type, null == e ? y(t, n, r, o, i, a, s, c) : k(e, t, o, i, a, s, c) }, y = (e, t, n, o, s, c, l, d) => { let h, f; const { type: p, props: _, shapeFlag: v, transition: m, dirs: g } = e; if (h = e.el = a(e.type, c, _ && _.is, _), 8 & v ? u(h, e.children) : 16 & v && w(e.children, h, null, o, s, c && "foreignObject" !== p, l, d), g && Hr(e, null, o, "created"), _) { for (const t in _) "value" === t || U(t) || i(h, t, null, _[t], c, e.children, o, s, Z); "value" in _ && i(h, "value", null, _.value), (f = _.onVnodeBeforeMount) && yi(f, o, e) } E(h, e, e.scopeId, l, o), g && Hr(e, null, o, "beforeMount"); const A = (!s || s && !s.pendingBranch) && m && !m.persisted; A && m.beforeEnter(h), r(h, t, n), ((f = _ && _.onVnodeMounted) || A || g) && To((() => { f && yi(f, o, e), A && m.enter(h), g && Hr(e, null, o, "mounted") }), s) }, E = (e, t, n, r, o) => { if (n && f(e, n), r) for (let t = 0; t < r.length; t++)f(e, r[t]); if (o && t === o.subTree) { const t = o.vnode; E(e, t, t.scopeId, t.slotScopeIds, o.parent) } }, w = (e, t, n, r, o, i, a, s, c = 0) => { for (let l = c; l < e.length; l++) { const c = e[l] = s ? mi(e[l]) : vi(e[l]); _(null, c, t, n, r, o, i, a, s) } }, k = (e, t, n, r, o, a, s) => { const c = t.el = e.el; let { patchFlag: l, dynamicChildren: d, dirs: h } = t; l |= 16 & e.patchFlag; const f = e.props || B, p = t.props || B; let _; n && Ro(n, !1), (_ = p.onVnodeBeforeUpdate) && yi(_, n, t, e), h && Hr(t, e, n, "beforeUpdate"), n && Ro(n, !0); const v = o && "foreignObject" !== t.type; if (d ? D(e.dynamicChildren, d, c, n, r, v, a) : s || L(e, t, c, null, n, r, v, a, !1), l > 0) { if (16 & l) S(c, t, f, p, n, r, o); else if (2 & l && f.class !== p.class && i(c, "class", null, p.class, o), 4 & l && i(c, "style", f.style, p.style, o), 8 & l) { const a = t.dynamicProps; for (let t = 0; t < a.length; t++) { const s = a[t], l = f[s], u = p[s]; u === l && "value" !== s || i(c, s, l, u, o, e.children, n, r, Z) } } 1 & l && e.children !== t.children && u(c, t.children) } else s || null != d || S(c, t, f, p, n, r, o); ((_ = p.onVnodeUpdated) || h) && To((() => { _ && yi(_, n, t, e), h && Hr(t, e, n, "updated") }), r) }, D = (e, t, n, r, o, i, a) => { for (let s = 0; s < t.length; s++) { const c = e[s], l = t[s], u = c.el && (c.type === Ko || !oi(c, l) || 70 & c.shapeFlag) ? d(c.el) : n; _(c, l, u, null, r, o, i, a, !0) } }, S = (e, t, n, r, o, a, s) => { if (n !== r) { if (n !== B) for (const c in n) U(c) || c in r || i(e, c, n[c], null, s, t.children, o, a, Z); for (const c in r) { if (U(c)) continue; const l = r[c], u = n[c]; l !== u && "value" !== c && i(e, c, u, l, s, t.children, o, a, Z) } "value" in r && i(e, "value", n.value, r.value) } }, M = (e, t, n, o, i, a, c, l, u) => { const d = t.el = e ? e.el : s(""), h = t.anchor = e ? e.anchor : s(""); let { patchFlag: f, dynamicChildren: p, slotScopeIds: _ } = t; _ && (l = l ? l.concat(_) : _), null == e ? (r(d, n, o), r(h, n, o), w(t.children, n, h, i, a, c, l, u)) : f > 0 && 64 & f && p && e.dynamicChildren ? (D(e.dynamicChildren, p, n, i, a, c, l), (null != t.key || i && t === i.subTree) && Lo(e, t, !0)) : L(e, t, n, h, i, a, c, l, u) }, T = (e, t, n, r, o, i, a, s, c) => { t.slotScopeIds = s, null == e ? 512 & t.shapeFlag ? o.ctx.activate(t, n, r, a, c) : O(t, n, r, o, i, a, c) : I(e, t, c) }, O = (e, t, n, r, o, i, a) => { const s = e.component = Ci(e, r, o); if (vr(e) && (s.ctx.renderer = X), Ti(s), s.asyncDep) { if (o && o.registerDep(s, P), !e.el) { const e = s.subTree = ui(Uo); m(null, e, t, n) } } else P(s, e, t, n, o, i, a) }, I = (e, t, n) => { const r = t.component = e.component; if (function (e, t, n) { const { props: r, children: o, component: i } = e, { props: a, children: s, patchFlag: c } = t, l = i.emitsOptions; if (t.dirs || t.transition) return !0; if (!(n && c >= 0)) return !(!o && !s || s && s.$stable) || r !== a && (r ? !a || Ln(r, a, l) : !!a); if (1024 & c) return !0; if (16 & c) return r ? Ln(r, a, l) : !!a; if (8 & c) { const e = t.dynamicProps; for (let t = 0; t < e.length; t++) { const n = e[t]; if (a[n] !== r[n] && !kn(l, n)) return !0 } } return !1 }(e, t, n)) { if (r.asyncDep && !r.asyncResolved) return void R(r, t, n); r.next = t, function (e) { const t = rn.indexOf(e); t > on && rn.splice(t, 1) }(r.update), r.update() } else t.el = e.el, r.vnode = t }, P = (e, t, n, r, o, i, a) => { const s = e.effect = new ye((() => { if (e.isMounted) { let t, { next: n, bu: r, u: s, parent: c, vnode: l } = e, u = n; Ro(e, !1), n ? (n.el = l.el, R(e, n, a)) : n = l, r && te(r), (t = n.props && n.props.onVnodeBeforeUpdate) && yi(t, c, n, l), Ro(e, !0); const h = In(e), f = e.subTree; e.subTree = h, _(f, h, d(f.el), W(f), e, o, i), n.el = h.el, null === u && Hn(e, h.el), s && To(s, o), (t = n.props && n.props.onVnodeUpdated) && To((() => yi(t, c, n, l)), o) } else { let a; const { el: s, props: c } = t, { bm: l, m: u, parent: d } = e, h = fr(t); if (Ro(e, !1), l && te(l), !h && (a = c && c.onVnodeBeforeMount) && yi(a, d, t), Ro(e, !0), s && $) { const n = () => { e.subTree = In(e), $(s, e.subTree, e, o, null) }; h ? t.type.__asyncLoader().then((() => !e.isUnmounted && n())) : n() } else { const a = e.subTree = In(e); _(null, a, n, r, e, o, i), t.el = a.el } if (u && To(u, o), !h && (a = c && c.onVnodeMounted)) { const e = t; To((() => yi(a, d, e)), o) } (256 & t.shapeFlag || d && fr(d.vnode) && 256 & d.vnode.shapeFlag) && e.a && To(e.a, o), e.isMounted = !0, t = n = r = null } }), (() => hn(c)), e.scope), c = e.update = () => s.run(); c.id = e.uid, Ro(e, !0), c() }, R = (e, t, n) => { t.component = e; const r = e.vnode.props; e.vnode = t, e.next = null, function (e, t, n, r) { const { props: o, attrs: i, vnode: { patchFlag: a } } = e, s = kt(o), [c] = e.propsOptions; let l = !1; if (!(r || a > 0) || 16 & a) { let r; ho(e, t, o, i) && (l = !0); for (const i in s) t && (F(t, i) || (r = Q(i)) !== i && F(t, r)) || (c ? !n || void 0 === n[i] && void 0 === n[r] || (o[i] = fo(c, s, i, void 0, e, !0)) : delete o[i]); if (i !== s) for (const e in i) t && F(t, e) || (delete i[e], l = !0) } else if (8 & a) { const n = e.vnode.dynamicProps; for (let r = 0; r < n.length; r++) { let a = n[r]; if (kn(e.emitsOptions, a)) continue; const u = t[a]; if (c) if (F(i, a)) u !== i[a] && (i[a] = u, l = !0); else { const t = z(a); o[t] = fo(c, s, t, u, e, !1) } else u !== i[a] && (i[a] = u, l = !0) } } l && Me(e, "set", "$attrs") }(e, t.props, r, n), ((e, t, n) => { const { vnode: r, slots: o } = e; let i = !0, a = B; if (32 & r.shapeFlag) { const e = t._; e ? n && 1 === e ? i = !1 : (x(o, t), n || 1 !== e || delete o._) : (i = !t.$stable, bo(t, o)), a = t } else t && (Co(e, t), a = { default: 1 }); if (i) for (const e in o) Ao(e) || e in a || delete o[e] })(e, t.children, n), ke(), _n(), De() }, L = (e, t, n, r, o, i, a, s, c = !1) => { const l = e && e.children, d = e ? e.shapeFlag : 0, h = t.children, { patchFlag: f, shapeFlag: p } = t; if (f > 0) { if (128 & f) return void j(l, h, n, r, o, i, a, s, c); if (256 & f) return void H(l, h, n, r, o, i, a, s, c) } 8 & p ? (16 & d && Z(l, o, i), h !== l && u(n, h)) : 16 & d ? 16 & p ? j(l, h, n, r, o, i, a, s, c) : Z(l, o, i, !0) : (8 & d && u(n, ""), 16 & p && w(h, n, r, o, i, a, s, c)) }, H = (e, t, n, r, o, i, a, s, c) => { t = t || b; const l = (e = e || b).length, u = t.length, d = Math.min(l, u); let h; for (h = 0; h < d; h++) { const r = t[h] = c ? mi(t[h]) : vi(t[h]); _(e[h], r, n, null, o, i, a, s, c) } l > u ? Z(e, o, i, !0, !1, d) : w(t, n, r, o, i, a, s, c, d) }, j = (e, t, n, r, o, i, a, s, c) => { let l = 0; const u = t.length; let d = e.length - 1, h = u - 1; for (; l <= d && l <= h;) { const r = e[l], u = t[l] = c ? mi(t[l]) : vi(t[l]); if (!oi(r, u)) break; _(r, u, n, null, o, i, a, s, c), l++ } for (; l <= d && l <= h;) { const r = e[d], l = t[h] = c ? mi(t[h]) : vi(t[h]); if (!oi(r, l)) break; _(r, l, n, null, o, i, a, s, c), d--, h-- } if (l > d) { if (l <= h) { const e = h + 1, d = e < u ? t[e].el : r; for (; l <= h;)_(null, t[l] = c ? mi(t[l]) : vi(t[l]), n, d, o, i, a, s, c), l++ } } else if (l > h) for (; l <= d;)N(e[l], o, i, !0), l++; else { const f = l, p = l, v = new Map; for (l = p; l <= h; l++) { const e = t[l] = c ? mi(t[l]) : vi(t[l]); null != e.key && v.set(e.key, l) } let m, g = 0; const A = h - p + 1; let y = !1, B = 0; const C = new Array(A); for (l = 0; l < A; l++)C[l] = 0; for (l = f; l <= d; l++) { const r = e[l]; if (g >= A) { N(r, o, i, !0); continue } let u; if (null != r.key) u = v.get(r.key); else for (m = p; m <= h; m++)if (0 === C[m - p] && oi(r, t[m])) { u = m; break } void 0 === u ? N(r, o, i, !0) : (C[u - p] = l + 1, u >= B ? B = u : y = !0, _(r, t[u], n, null, o, i, a, s, c), g++) } const E = y ? function (e) { const t = e.slice(), n = [0]; let r, o, i, a, s; const c = e.length; for (r = 0; r < c; r++) { const c = e[r]; if (0 !== c) { if (o = n[n.length - 1], e[o] < c) { t[r] = o, n.push(r); continue } for (i = 0, a = n.length - 1; i < a;)s = i + a >> 1, e[n[s]] < c ? i = s + 1 : a = s; c < e[n[i]] && (i > 0 && (t[r] = n[i - 1]), n[i] = r) } } for (i = n.length, a = n[i - 1]; i-- > 0;)n[i] = a, a = t[a]; return n }(C) : b; for (m = E.length - 1, l = A - 1; l >= 0; l--) { const e = p + l, d = t[e], h = e + 1 < u ? t[e + 1].el : r; 0 === C[l] ? _(null, d, n, h, o, i, a, s, c) : y && (m < 0 || l !== E[m] ? G(d, n, h, 2) : m--) } } }, G = (e, t, n, o, i = null) => { const { el: a, type: s, transition: c, children: l, shapeFlag: u } = e; if (6 & u) G(e.component.subTree, t, n, o); else if (128 & u) e.suspense.move(t, n, o); else if (64 & u) s.move(e, t, n, X); else if (s !== Ko) if (s !== Zo) if (2 !== o && 1 & u && c) if (0 === o) c.beforeEnter(a), r(a, t, n), To((() => c.enter(a)), i); else { const { leave: e, delayLeave: o, afterLeave: i } = c, s = () => r(a, t, n), l = () => { e(a, (() => { s(), i && i() })) }; o ? o(a, s, l) : l() } else r(a, t, n); else (({ el: e, anchor: t }, n, o) => { let i; for (; e && e !== t;)i = h(e), r(e, n, o), e = i; r(t, n, o) })(e, t, n); else { r(a, t, n); for (let e = 0; e < l.length; e++)G(l[e], t, n, o); r(e.anchor, t, n) } }, N = (e, t, n, r = !1, o = !1) => { const { type: i, props: a, ref: s, children: c, dynamicChildren: l, shapeFlag: u, patchFlag: d, dirs: h } = e; if (null != s && Do(s, null, n, e, !0), 256 & u) return void t.ctx.deactivate(e); const f = 1 & u && h, p = !fr(e); let _; if (p && (_ = a && a.onVnodeBeforeUnmount) && yi(_, t, e), 6 & u) J(e.component, n, r); else { if (128 & u) return void e.suspense.unmount(n, r); f && Hr(e, null, t, "beforeUnmount"), 64 & u ? e.type.remove(e, t, n, o, X, r) : l && (i !== Ko || d > 0 && 64 & d) ? Z(l, t, n, !1, !0) : (i === Ko && 384 & d || !o && 16 & u) && Z(c, t, n), r && V(e) } (p && (_ = a && a.onVnodeUnmounted) || f) && To((() => { _ && yi(_, t, e), f && Hr(e, null, t, "unmounted") }), n) }, V = e => { const { type: t, el: n, anchor: r, transition: i } = e; if (t === Ko) return void K(n, r); if (t === Zo) return void (({ el: e, anchor: t }) => { let n; for (; e && e !== t;)n = h(e), o(e), e = n; o(t) })(e); const a = () => { o(n), i && !i.persisted && i.afterLeave && i.afterLeave() }; if (1 & e.shapeFlag && i && !i.persisted) { const { leave: t, delayLeave: r } = i, o = () => t(n, a); r ? r(e.el, a, o) : o() } else a() }, K = (e, t) => { let n; for (; e !== t;)n = h(e), o(e), e = n; o(t) }, J = (e, t, n) => { const { bum: r, scope: o, update: i, subTree: a, um: s } = e; r && te(r), o.stop(), i && (i.active = !1, N(a, e, t, n)), s && To(s, t), To((() => { e.isUnmounted = !0 }), t), t && t.pendingBranch && !t.isUnmounted && e.asyncDep && !e.asyncResolved && e.suspenseId === t.pendingId && (t.deps--, 0 === t.deps && t.resolve()) }, Z = (e, t, n, r = !1, o = !1, i = 0) => { for (let a = i; a < e.length; a++)N(e[a], t, n, r, o) }, W = e => 6 & e.shapeFlag ? W(e.component.subTree) : 128 & e.shapeFlag ? e.suspense.next() : h(e.anchor || e.el), q = (e, t, n) => { null == e ? t._vnode && N(t._vnode, null, null, !0) : _(t._vnode || null, e, t, null, null, null, n), _n(), vn(), t._vnode = e }, X = { p: _, um: N, m: G, r: V, mt: O, mc: w, pc: L, pbc: D, n: W, o: e }; let Y, $; return t && ([Y, $] = t(X)), { render: q, hydrate: Y, createApp: ko(q, Y) } } function Ro({ effect: e, update: t }, n) { e.allowRecurse = t.allowRecurse = n } function Lo(e, t, n = !1) { const r = e.children, o = t.children; if (T(r) && T(o)) for (let e = 0; e < r.length; e++) { const t = r[e]; let i = o[e]; 1 & i.shapeFlag && !i.dynamicChildren && ((i.patchFlag <= 0 || 32 === i.patchFlag) && (i = o[e] = mi(o[e]), i.el = t.el), n || Lo(t, i)) } } const Ho = e => e && (e.disabled || "" === e.disabled), jo = e => "undefined" != typeof SVGElement && e instanceof SVGElement, Go = (e, t) => { const n = e && e.to; if (L(n)) { if (t) { return t(n) } return null } return n }; function No(e, t, n, { o: { insert: r }, m: o }, i = 2) { 0 === i && r(e.targetAnchor, t, n); const { el: a, anchor: s, shapeFlag: c, children: l, props: u } = e, d = 2 === i; if (d && r(a, t, n), (!d || Ho(u)) && 16 & c) for (let e = 0; e < l.length; e++)o(l[e], t, n, 2); d && r(s, t, n) } const Vo = { __isTeleport: !0, process(e, t, n, r, o, i, a, s, c, l) { const { mc: u, pc: d, pbc: h, o: { insert: f, querySelector: p, createText: _, createComment: v } } = l, m = Ho(t.props); let { shapeFlag: g, children: A, dynamicChildren: y } = t; if (null == e) { const e = t.el = _(""), l = t.anchor = _(""); f(e, n, r), f(l, n, r); const d = t.target = Go(t.props, p), h = t.targetAnchor = _(""); d && (f(h, d), a = a || jo(d)); const v = (e, t) => { 16 & g && u(A, e, t, o, i, a, s, c) }; m ? v(n, l) : d && v(d, h) } else { t.el = e.el; const r = t.anchor = e.anchor, u = t.target = e.target, f = t.targetAnchor = e.targetAnchor, _ = Ho(e.props), v = _ ? n : u, g = _ ? r : f; if (a = a || jo(u), y ? (h(e.dynamicChildren, y, v, o, i, a, s), Lo(e, t, !0)) : c || d(e, t, v, g, o, i, a, s, !1), m) _ || No(t, n, r, l, 1); else if ((t.props && t.props.to) !== (e.props && e.props.to)) { const e = t.target = Go(t.props, p); e && No(t, e, null, l, 0) } else _ && No(t, u, f, l, 1) } }, remove(e, t, n, r, { um: o, o: { remove: i } }, a) { const { shapeFlag: s, children: c, anchor: l, targetAnchor: u, target: d, props: h } = e; if (d && i(u), (a || !Ho(h)) && (i(l), 16 & s)) for (let e = 0; e < c.length; e++) { const r = c[e]; o(r, t, n, !0, !!r.dynamicChildren) } }, move: No, hydrate: function (e, t, n, r, o, i, { o: { nextSibling: a, parentNode: s, querySelector: c } }, l) { const u = t.target = Go(t.props, c); if (u) { const c = u._lpa || u.firstChild; if (16 & t.shapeFlag) if (Ho(t.props)) t.anchor = l(a(e), t, s(e), n, r, o, i), t.targetAnchor = c; else { t.anchor = a(e); let s = c; for (; s;)if (s = a(s), s && 8 === s.nodeType && "teleport anchor" === s.data) { t.targetAnchor = s, u._lpa = t.targetAnchor && a(t.targetAnchor); break } l(c, t, u, n, r, o, i) } } return t.anchor && a(t.anchor) } }, Ko = Symbol(void 0), Jo = Symbol(void 0), Uo = Symbol(void 0), Zo = Symbol(void 0), Wo = []; let qo = null; function zo(e = !1) { Wo.push(qo = e ? null : []) } function Xo() { Wo.pop(), qo = Wo[Wo.length - 1] || null } let Qo, Yo = 1; function $o(e) { Yo += e } function ei(e) { return e.dynamicChildren = Yo > 0 ? qo || b : null, Xo(), Yo > 0 && qo && qo.push(e), e } function ti(e, t, n, r, o, i) { return ei(li(e, t, n, r, o, i, !0)) } function ni(e, t, n, r, o) { return ei(ui(e, t, n, r, o, !0)) } function ri(e) { return !!e && !0 === e.__v_isVNode } function oi(e, t) { return e.type === t.type && e.key === t.key } function ii(e) { Qo = e } const ai = "__vInternal", si = ({ key: e }) => null != e ? e : null, ci = ({ ref: e, ref_key: t, ref_for: n }) => null != e ? L(e) || Tt(e) || R(e) ? { i: Dn, r: e, k: t, f: !!n } : e : null; function li(e, t = null, n = null, r = 0, o = null, i = (e === Ko ? 0 : 1), a = !1, s = !1) { const c = { __v_isVNode: !0, __v_skip: !0, type: e, props: t, key: t && si(t), ref: t && ci(t), scopeId: xn, slotScopeIds: null, children: n, component: null, suspense: null, ssContent: null, ssFallback: null, dirs: null, transition: null, el: null, anchor: null, target: null, targetAnchor: null, staticCount: 0, shapeFlag: i, patchFlag: r, dynamicProps: o, dynamicChildren: null, appContext: null }; return s ? (gi(c, n), 128 & i && e.normalize(c)) : n && (c.shapeFlag |= L(n) ? 8 : 16), Yo > 0 && !a && qo && (c.patchFlag > 0 || 6 & i) && 32 !== c.patchFlag && qo.push(c), c } const ui = function (e, t = null, n = null, r = 0, o = null, i = !1) { if (e && e !== Nr || (e = Uo), ri(e)) { const r = hi(e, t, !0); return n && gi(r, n), Yo > 0 && !i && qo && (6 & r.shapeFlag ? qo[qo.indexOf(e)] = r : qo.push(r)), r.patchFlag |= -2, r } if (function (e) { return R(e) && "__vccOpts" in e }(e) && (e = e.__vccOpts), t) { t = di(t); let { class: e, style: n } = t; e && !L(e) && (t.class = h(e)), j(n) && (wt(n) && !T(n) && (n = x({}, n)), t.style = c(n)) } return li(e, t, n, r, o, L(e) ? 1 : jn(e) ? 128 : (e => e.__isTeleport)(e) ? 64 : j(e) ? 4 : R(e) ? 2 : 0, i, !0) }; function di(e) { return e ? wt(e) || ai in e ? x({}, e) : e : null } function hi(e, t, n = !1) { const { props: r, ref: o, patchFlag: i, children: a } = e, s = t ? Ai(r || {}, t) : r; return { __v_isVNode: !0, __v_skip: !0, type: e.type, props: s, key: s && si(s), ref: t && t.ref ? n && o ? T(o) ? o.concat(ci(t)) : [o, ci(t)] : ci(t) : o, scopeId: e.scopeId, slotScopeIds: e.slotScopeIds, children: a, target: e.target, targetAnchor: e.targetAnchor, staticCount: e.staticCount, shapeFlag: e.shapeFlag, patchFlag: t && e.type !== Ko ? -1 === i ? 16 : 16 | i : i, dynamicProps: e.dynamicProps, dynamicChildren: e.dynamicChildren, appContext: e.appContext, dirs: e.dirs, transition: e.transition, component: e.component, suspense: e.suspense, ssContent: e.ssContent && hi(e.ssContent), ssFallback: e.ssFallback && hi(e.ssFallback), el: e.el, anchor: e.anchor } } function fi(e = " ", t = 0) { return ui(Jo, null, e, t) } function pi(e, t) { const n = ui(Zo, null, e); return n.staticCount = t, n } function _i(e = "", t = !1) { return t ? (zo(), ni(Uo, null, e)) : ui(Uo, null, e) } function vi(e) { return null == e || "boolean" == typeof e ? ui(Uo) : T(e) ? ui(Ko, null, e.slice()) : "object" == typeof e ? mi(e) : ui(Jo, null, String(e)) } function mi(e) { return null === e.el && -1 !== e.patchFlag || e.memo ? e : hi(e) } function gi(e, t) { let n = 0; const { shapeFlag: r } = e; if (null == t) t = null; else if (T(t)) n = 16; else if ("object" == typeof t) { if (65 & r) { const n = t.default; return void (n && (n._c && (n._d = !1), gi(e, n()), n._c && (n._d = !0))) } { n = 32; const r = t._; r || ai in t ? 3 === r && Dn && (1 === Dn.slots._ ? t._ = 1 : (t._ = 2, e.patchFlag |= 1024)) : t._ctx = Dn } } else R(t) ? (t = { default: t, _ctx: Dn }, n = 32) : (t = String(t), 64 & r ? (n = 16, t = [fi(t)]) : n = 8); e.children = t, e.shapeFlag |= n } function Ai(...e) { const t = {}; for (let n = 0; n < e.length; n++) { const r = e[n]; for (const e in r) if ("class" === e) t.class !== r.class && (t.class = h([t.class, r.class])); else if ("style" === e) t.style = c([t.style, r.style]); else if (k(e)) { const n = t[e], o = r[e]; !o || n === o || T(n) && n.includes(o) || (t[e] = n ? [].concat(n, o) : o) } else "" !== e && (t[e] = r[e]) } return t } function yi(e, t, n, r = null) { $t(e, t, 7, [n, r]) } const Bi = Eo(); let bi = 0; function Ci(e, t, n) { const r = e.type, o = (t ? t.appContext : e.appContext) || Bi, i = { uid: bi++, vnode: e, type: r, parent: t, appContext: o, root: null, next: null, subTree: null, effect: null, update: null, scope: new ae(!0), render: null, proxy: null, exposed: null, exposeProxy: null, withProxy: null, provides: t ? t.provides : Object.create(o.provides), accessCache: null, renderCache: [], components: null, directives: null, propsOptions: po(r, o), emitsOptions: wn(r, o), emit: null, emitted: null, propsDefaults: B, inheritAttrs: r.inheritAttrs, ctx: B, data: B, props: B, attrs: B, slots: B, refs: B, setupState: B, setupContext: null, suspense: n, suspenseId: n ? n.pendingId : 0, asyncDep: null, asyncResolved: !1, isMounted: !1, isUnmounted: !1, isDeactivated: !1, bc: null, c: null, bm: null, m: null, bu: null, u: null, um: null, bum: null, da: null, a: null, rtg: null, rtc: null, ec: null, sp: null }; return i.ctx = { _: i }, i.root = t ? t.root : i, i.emit = En.bind(null, i), e.ce && e.ce(i), i } let Ei = null; const wi = () => Ei || Dn, ki = e => { Ei = e, e.scope.on() }, Di = () => { Ei && Ei.scope.off(), Ei = null }; function xi(e) { return 4 & e.vnode.shapeFlag } let Si, Mi, Fi = !1; function Ti(e, t = !1) { Fi = t; const { props: n, children: r } = e.vnode, o = xi(e); !function (e, t, n, r = !1) { const o = {}, i = {}; ne(i, ai, 1), e.propsDefaults = Object.create(null), ho(e, t, o, i); for (const t in e.propsOptions[0]) t in o || (o[t] = void 0); n ? e.props = r ? o : gt(o) : e.type.props ? e.props = o : e.props = i, e.attrs = i }(e, n, o, t), ((e, t) => { if (32 & e.vnode.shapeFlag) { const n = t._; n ? (e.slots = kt(t), ne(t, "_", n)) : bo(t, e.slots = {}) } else e.slots = {}, t && Co(e, t); ne(e.slots, ai, 1) })(e, r); const i = o ? function (e, t) { const n = e.type; e.accessCache = Object.create(null), e.proxy = Dt(new Proxy(e.ctx, $r)); const { setup: r } = n; if (r) { const n = e.setupContext = r.length > 1 ? Li(e) : null; ki(e), ke(); const o = Yt(r, e, 0, [e.props, n]); if (De(), Di(), G(o)) { if (o.then(Di, Di), t) return o.then((n => { Oi(e, n, t) })).catch((t => { en(t, e, 0) })); e.asyncDep = o } else Oi(e, o, t) } else Ri(e, t) }(e, t) : void 0; return Fi = !1, i } function Oi(e, t, n) { R(t) ? e.type.__ssrInlineRender ? e.ssrRender = t : e.render = t : j(t) && (e.setupState = Gt(t)), Ri(e, n) } function Ii(e) { Si = e, Mi = e => { e.render._rc && (e.withProxy = new Proxy(e.ctx, eo)) } } const Pi = () => !Si; function Ri(e, t, n) { const r = e.type; if (!e.render) { if (!t && Si && !r.render) { const t = r.template || oo(e).template; if (t) { const { isCustomElement: n, compilerOptions: o } = e.appContext.config, { delimiters: i, compilerOptions: a } = r, s = x(x({ isCustomElement: n, delimiters: i }, o), a); r.render = Si(t, s) } } e.render = r.render || C, Mi && Mi(e) } ki(e), ke(), function (e) { const t = oo(e), n = e.proxy, r = e.ctx; to = !1, t.beforeCreate && no(t.beforeCreate, e, "bc"); const { data: o, computed: i, methods: a, watch: s, provide: c, inject: l, created: u, beforeMount: d, mounted: h, beforeUpdate: f, updated: p, activated: _, deactivated: v, beforeDestroy: m, beforeUnmount: g, destroyed: A, unmounted: y, render: B, renderTracked: b, renderTriggered: E, errorCaptured: w, serverPrefetch: k, expose: D, inheritAttrs: x, components: S, directives: M, filters: F } = t; if (l && function (e, t, n = C, r = !1) { T(e) && (e = co(e)); for (const n in e) { const o = e[n]; let i; i = j(o) ? "default" in o ? Wn(o.from || n, o.default, !0) : Wn(o.from || n) : Wn(o), Tt(i) && r ? Object.defineProperty(t, n, { enumerable: !0, configurable: !0, get: () => i.value, set: e => i.value = e }) : t[n] = i } }(l, r, null, e.appContext.config.unwrapInjectedRef), a) for (const e in a) { const t = a[e]; R(t) && (r[e] = t.bind(n)) } if (o) { const t = o.call(n, n); j(t) && (e.data = mt(t)) } if (to = !0, i) for (const e in i) { const t = i[e], o = R(t) ? t.bind(n, n) : R(t.get) ? t.get.bind(n, n) : C, a = !R(t) && R(t.set) ? t.set.bind(n) : C, s = Vi({ get: o, set: a }); Object.defineProperty(r, e, { enumerable: !0, configurable: !0, get: () => s.value, set: e => s.value = e }) } if (s) for (const e in s) ro(s[e], r, n, e); if (c) { const e = R(c) ? c.call(n) : c; Reflect.ownKeys(e).forEach((t => { Zn(t, e[t]) })) } function O(e, t) { T(t) ? t.forEach((t => e(t.bind(n)))) : t && e(t.bind(n)) } if (u && no(u, e, "c"), O(Dr, d), O(xr, h), O(Sr, f), O(Mr, p), O(Ar, _), O(yr, v), O(Rr, w), O(Pr, b), O(Ir, E), O(Fr, g), O(Tr, y), O(Or, k), T(D)) if (D.length) { const t = e.exposed || (e.exposed = {}); D.forEach((e => { Object.defineProperty(t, e, { get: () => n[e], set: t => n[e] = t }) })) } else e.exposed || (e.exposed = {}); B && e.render === C && (e.render = B), null != x && (e.inheritAttrs = x), S && (e.components = S), M && (e.directives = M) }(e), De(), Di() } function Li(e) { let t; return { get attrs() { return t || (t = function (e) { return new Proxy(e.attrs, { get: (t, n) => (xe(e, 0, "$attrs"), t[n]) }) }(e)) }, slots: e.slots, emit: e.emit, expose: t => { e.exposed = t || {} } } } function Hi(e) { if (e.exposed) return e.exposeProxy || (e.exposeProxy = new Proxy(Gt(Dt(e.exposed)), { get: (t, n) => n in t ? t[n] : n in Yr ? Yr[n](e) : void 0 })) } const ji = /(?:^|[-_])(\w)/g; function Gi(e, t = !0) { return R(e) ? e.displayName || e.name : e.name || t && e.__name } function Ni(e, t, n = !1) { let r = Gi(t); if (!r && t.__file) { const e = t.__file.match(/([^/\\]+)\.\w+$/); e && (r = e[1]) } if (!r && e && e.parent) { const n = e => { for (const n in e) if (e[n] === t) return n }; r = n(e.components || e.parent.type.components) || n(e.appContext.components) } return r ? r.replace(ji, (e => e.toUpperCase())).replace(/[-_]/g, "") : n ? "App" : "Anonymous" } const Vi = (e, t) => function (e, t, n = !1) { let r, o; const i = R(e); return i ? (r = e, o = C) : (r = e.get, o = e.set), new Wt(r, o, i || !o, n) }(e, 0, Fi); function Ki() { return null } function Ji() { return null } function Ui(e) { } function Zi(e, t) { return null } function Wi() { return zi().slots } function qi() { return zi().attrs } function zi() { const e = wi(); return e.setupContext || (e.setupContext = Li(e)) } function Xi(e, t) { const n = T(e) ? e.reduce(((e, t) => (e[t] = {}, e)), {}) : e; for (const e in t) { const r = n[e]; r ? T(r) || R(r) ? n[e] = { type: r, default: t[e] } : r.default = t[e] : null === r && (n[e] = { default: t[e] }) } return n } function Qi(e, t) { const n = {}; for (const r in e) t.includes(r) || Object.defineProperty(n, r, { enumerable: !0, get: () => e[r] }); return n } function Yi(e) { const t = wi(); let n = e(); return Di(), G(n) && (n = n.catch((e => { throw ki(t), e }))), [n, () => ki(t)] } function $i(e, t, n) { const r = arguments.length; return 2 === r ? j(t) && !T(t) ? ri(t) ? ui(e, null, [t]) : ui(e, t) : ui(e, null, t) : (r > 3 ? n = Array.prototype.slice.call(arguments, 2) : 3 === r && ri(n) && (n = [n]), ui(e, t, n)) } const ea = Symbol(""), ta = () => { { const e = Wn(ea); return e || zt("Server rendering context not provided. Make sure to only call useSSRContext() conditionally in the server build."), e } }; function na() { } function ra(e, t, n, r) { const o = n[r]; if (o && oa(o, e)) return o; const i = t(); return i.memo = e.slice(), n[r] = i } function oa(e, t) { const n = e.memo; if (n.length != t.length) return !1; for (let e = 0; e < n.length; e++)if (ee(n[e], t[e])) return !1; return Yo > 0 && qo && qo.push(e), !0 } const ia = "3.2.41", aa = { createComponentInstance: Ci, setupComponent: Ti, renderComponentRoot: In, setCurrentRenderingInstance: Sn, isVNode: ri, normalizeVNode: vi }, sa = null, ca = null, la = "undefined" != typeof document ? document : null, ua = la && la.createElement("template"), da = { insert: (e, t, n) => { t.insertBefore(e, n || null) }, remove: e => { const t = e.parentNode; t && t.removeChild(e) }, createElement: (e, t, n, r) => { const o = t ? la.createElementNS("http://www.w3.org/2000/svg", e) : la.createElement(e, n ? { is: n } : void 0); return "select" === e && r && null != r.multiple && o.setAttribute("multiple", r.multiple), o }, createText: e => la.createTextNode(e), createComment: e => la.createComment(e), setText: (e, t) => { e.nodeValue = t }, setElementText: (e, t) => { e.textContent = t }, parentNode: e => e.parentNode, nextSibling: e => e.nextSibling, querySelector: e => la.querySelector(e), setScopeId(e, t) { e.setAttribute(t, "") }, insertStaticContent(e, t, n, r, o, i) { const a = n ? n.previousSibling : t.lastChild; if (o && (o === i || o.nextSibling)) for (; t.insertBefore(o.cloneNode(!0), n), o !== i && (o = o.nextSibling);); else { ua.innerHTML = r ? `<svg>${e}</svg>` : e; const o = ua.content; if (r) { const e = o.firstChild; for (; e.firstChild;)o.appendChild(e.firstChild); o.removeChild(e) } t.insertBefore(o, n) } return [a ? a.nextSibling : t.firstChild, n ? n.previousSibling : t.lastChild] } }, ha = /\s*!important$/; function fa(e, t, n) { if (T(n)) n.forEach((n => fa(e, t, n))); else if (null == n && (n = ""), t.startsWith("--")) e.setProperty(t, n); else { const r = function (e, t) { const n = _a[t]; if (n) return n; let r = z(t); if ("filter" !== r && r in e) return _a[t] = r; r = Y(r); for (let n = 0; n < pa.length; n++) { const o = pa[n] + r; if (o in e) return _a[t] = o } return t }(e, t); ha.test(n) ? e.setProperty(Q(r), n.replace(ha, ""), "important") : e[r] = n } } const pa = ["Webkit", "Moz", "ms"], _a = {}, va = "http://www.w3.org/1999/xlink"; function ma(e, t, n, r) { e.addEventListener(t, n, r) } const ga = /(?:Once|Passive|Capture)$/; let Aa = 0; const ya = Promise.resolve(), Ba = /^on[a-z]/; function ba(e, t) { const n = hr(e); class r extends wa { constructor(e) { super(n, e, t) } } return r.def = n, r } const Ca = e => ba(e, Ds), Ea = "undefined" != typeof HTMLElement ? HTMLElement : class { }; class wa extends Ea { constructor(e, t = {}, n) { super(), this._def = e, this._props = t, this._instance = null, this._connected = !1, this._resolved = !1, this._numberProps = null, this.shadowRoot && n ? n(this._createVNode(), this.shadowRoot) : this.attachShadow({ mode: "open" }) } connectedCallback() { this._connected = !0, this._instance || this._resolveDef() } disconnectedCallback() { this._connected = !1, dn((() => { this._connected || (ks(null, this.shadowRoot), this._instance = null) })) } _resolveDef() { if (this._resolved) return; this._resolved = !0; for (let e = 0; e < this.attributes.length; e++)this._setAttr(this.attributes[e].name); new MutationObserver((e => { for (const t of e) this._setAttr(t.attributeName) })).observe(this, { attributes: !0 }); const e = e => { const { props: t, styles: n } = e, r = !T(t), o = t ? r ? Object.keys(t) : t : []; let i; if (r) for (const e in this._props) { const n = t[e]; (n === Number || n && n.type === Number) && (this._props[e] = re(this._props[e]), (i || (i = Object.create(null)))[e] = !0) } this._numberProps = i; for (const e of Object.keys(this)) "_" !== e[0] && this._setProp(e, this[e], !0, !1); for (const e of o.map(z)) Object.defineProperty(this, e, { get() { return this._getProp(e) }, set(t) { this._setProp(e, t) } }); this._applyStyles(n), this._update() }, t = this._def.__asyncLoader; t ? t().then(e) : e(this._def) } _setAttr(e) { let t = this.getAttribute(e); this._numberProps && this._numberProps[e] && (t = re(t)), this._setProp(z(e), t, !1) } _getProp(e) { return this._props[e] } _setProp(e, t, n = !0, r = !0) { t !== this._props[e] && (this._props[e] = t, r && this._instance && this._update(), n && (!0 === t ? this.setAttribute(Q(e), "") : "string" == typeof t || "number" == typeof t ? this.setAttribute(Q(e), t + "") : t || this.removeAttribute(Q(e)))) } _update() { ks(this._createVNode(), this.shadowRoot) } _createVNode() { const e = ui(this._def, x({}, this._props)); return this._instance || (e.ce = e => { this._instance = e, e.isCE = !0, e.emit = (e, ...t) => { this.dispatchEvent(new CustomEvent(e, { detail: t })) }; let t = this; for (; t = t && (t.parentNode || t.host);)if (t instanceof wa) { e.parent = t._instance; break } }), e } _applyStyles(e) { e && e.forEach((e => { const t = document.createElement("style"); t.textContent = e, this.shadowRoot.appendChild(t) })) } } function ka(e = "$style") { { const t = wi(); if (!t) return B; const n = t.type.__cssModules; if (!n) return B; return n[e] || B } } function Da(e) { const t = wi(); if (!t) return; const n = () => xa(t.subTree, e(t.proxy)); zn(n), xr((() => { const e = new MutationObserver(n); e.observe(t.subTree.el.parentNode, { childList: !0 }), Tr((() => e.disconnect())) })) } function xa(e, t) { if (128 & e.shapeFlag) { const n = e.suspense; e = n.activeBranch, n.pendingBranch && !n.isHydrating && n.effects.push((() => { xa(n.activeBranch, t) })) } for (; e.component;)e = e.component.subTree; if (1 & e.shapeFlag && e.el) Sa(e.el, t); else if (e.type === Ko) e.children.forEach((e => xa(e, t))); else if (e.type === Zo) { let { el: n, anchor: r } = e; for (; n && (Sa(n, t), n !== r);)n = n.nextSibling } } function Sa(e, t) { if (1 === e.nodeType) { const n = e.style; for (const e in t) n.setProperty(`--${e}`, t[e]) } } const Ma = "transition", Fa = "animation", Ta = (e, { slots: t }) => $i(ir, La(e), t); Ta.displayName = "Transition"; const Oa = { name: String, type: String, css: { type: Boolean, default: !0 }, duration: [String, Number, Object], enterFromClass: String, enterActiveClass: String, enterToClass: String, appearFromClass: String, appearActiveClass: String, appearToClass: String, leaveFromClass: String, leaveActiveClass: String, leaveToClass: String }, Ia = Ta.props = x({}, ir.props, Oa), Pa = (e, t = []) => { T(e) ? e.forEach((e => e(...t))) : e && e(...t) }, Ra = e => !!e && (T(e) ? e.some((e => e.length > 1)) : e.length > 1); function La(e) { const t = {}; for (const n in e) n in Oa || (t[n] = e[n]); if (!1 === e.css) return t; const { name: n = "v", type: r, duration: o, enterFromClass: i = `${n}-enter-from`, enterActiveClass: a = `${n}-enter-active`, enterToClass: s = `${n}-enter-to`, appearFromClass: c = i, appearActiveClass: l = a, appearToClass: u = s, leaveFromClass: d = `${n}-leave-from`, leaveActiveClass: h = `${n}-leave-active`, leaveToClass: f = `${n}-leave-to` } = e, p = function (e) { if (null == e) return null; if (j(e)) return [Ha(e.enter), Ha(e.leave)]; { const t = Ha(e); return [t, t] } }(o), _ = p && p[0], v = p && p[1], { onBeforeEnter: m, onEnter: g, onEnterCancelled: A, onLeave: y, onLeaveCancelled: B, onBeforeAppear: b = m, onAppear: C = g, onAppearCancelled: E = A } = t, w = (e, t, n) => { Ga(e, t ? u : s), Ga(e, t ? l : a), n && n() }, k = (e, t) => { e._isLeaving = !1, Ga(e, d), Ga(e, f), Ga(e, h), t && t() }, D = e => (t, n) => { const o = e ? C : g, a = () => w(t, e, n); Pa(o, [t, a]), Na((() => { Ga(t, e ? c : i), ja(t, e ? u : s), Ra(o) || Ka(t, r, _, a) })) }; return x(t, { onBeforeEnter(e) { Pa(m, [e]), ja(e, i), ja(e, a) }, onBeforeAppear(e) { Pa(b, [e]), ja(e, c), ja(e, l) }, onEnter: D(!1), onAppear: D(!0), onLeave(e, t) { e._isLeaving = !0; const n = () => k(e, t); ja(e, d), Wa(), ja(e, h), Na((() => { e._isLeaving && (Ga(e, d), ja(e, f), Ra(y) || Ka(e, r, v, n)) })), Pa(y, [e, n]) }, onEnterCancelled(e) { w(e, !1), Pa(A, [e]) }, onAppearCancelled(e) { w(e, !0), Pa(E, [e]) }, onLeaveCancelled(e) { k(e), Pa(B, [e]) } }) } function Ha(e) { return re(e) } function ja(e, t) { t.split(/\s+/).forEach((t => t && e.classList.add(t))), (e._vtc || (e._vtc = new Set)).add(t) } function Ga(e, t) { t.split(/\s+/).forEach((t => t && e.classList.remove(t))); const { _vtc: n } = e; n && (n.delete(t), n.size || (e._vtc = void 0)) } function Na(e) { requestAnimationFrame((() => { requestAnimationFrame(e) })) } let Va = 0; function Ka(e, t, n, r) { const o = e._endId = ++Va, i = () => { o === e._endId && r() }; if (n) return setTimeout(i, n); const { type: a, timeout: s, propCount: c } = Ja(e, t); if (!a) return r(); const l = a + "end"; let u = 0; const d = () => { e.removeEventListener(l, h), i() }, h = t => { t.target === e && ++u >= c && d() }; setTimeout((() => { u < c && d() }), s + 1), e.addEventListener(l, h) } function Ja(e, t) { const n = window.getComputedStyle(e), r = e => (n[e] || "").split(", "), o = r("transitionDelay"), i = r("transitionDuration"), a = Ua(o, i), s = r("animationDelay"), c = r("animationDuration"), l = Ua(s, c); let u = null, d = 0, h = 0; return t === Ma ? a > 0 && (u = Ma, d = a, h = i.length) : t === Fa ? l > 0 && (u = Fa, d = l, h = c.length) : (d = Math.max(a, l), u = d > 0 ? a > l ? Ma : Fa : null, h = u ? u === Ma ? i.length : c.length : 0), { type: u, timeout: d, propCount: h, hasTransform: u === Ma && /\b(transform|all)(,|$)/.test(n.transitionProperty) } } function Ua(e, t) { for (; e.length < t.length;)e = e.concat(e); return Math.max(...t.map(((t, n) => Za(t) + Za(e[n])))) } function Za(e) { return 1e3 * Number(e.slice(0, -1).replace(",", ".")) } function Wa() { return document.body.offsetHeight } const qa = new WeakMap, za = new WeakMap, Xa = { name: "TransitionGroup", props: x({}, Ia, { tag: String, moveClass: String }), setup(e, { slots: t }) { const n = wi(), r = rr(); let o, i; return Mr((() => { if (!o.length) return; const t = e.moveClass || `${e.name || "v"}-move`; if (!function (e, t, n) { const r = e.cloneNode(); e._vtc && e._vtc.forEach((e => { e.split(/\s+/).forEach((e => e && r.classList.remove(e))) })), n.split(/\s+/).forEach((e => e && r.classList.add(e))), r.style.display = "none"; const o = 1 === t.nodeType ? t : t.parentNode; o.appendChild(r); const { hasTransform: i } = Ja(r); return o.removeChild(r), i }(o[0].el, n.vnode.el, t)) return; o.forEach(Qa), o.forEach(Ya); const r = o.filter($a); Wa(), r.forEach((e => { const n = e.el, r = n.style; ja(n, t), r.transform = r.webkitTransform = r.transitionDuration = ""; const o = n._moveCb = e => { e && e.target !== n || e && !/transform$/.test(e.propertyName) || (n.removeEventListener("transitionend", o), n._moveCb = null, Ga(n, t)) }; n.addEventListener("transitionend", o) })) })), () => { const a = kt(e), s = La(a); let c = a.tag || Ko; o = i, i = t.default ? dr(t.default()) : []; for (let e = 0; e < i.length; e++) { const t = i[e]; null != t.key && ur(t, sr(t, s, r, n)) } if (o) for (let e = 0; e < o.length; e++) { const t = o[e]; ur(t, sr(t, s, r, n)), qa.set(t, t.el.getBoundingClientRect()) } return ui(c, null, i) } } }; function Qa(e) { const t = e.el; t._moveCb && t._moveCb(), t._enterCb && t._enterCb() } function Ya(e) { za.set(e, e.el.getBoundingClientRect()) } function $a(e) { const t = qa.get(e), n = za.get(e), r = t.left - n.left, o = t.top - n.top; if (r || o) { const t = e.el.style; return t.transform = t.webkitTransform = `translate(${r}px,${o}px)`, t.transitionDuration = "0s", e } } const es = e => { const t = e.props["onUpdate:modelValue"] || !1; return T(t) ? e => te(t, e) : t }; function ts(e) { e.target.composing = !0 } function ns(e) { const t = e.target; t.composing && (t.composing = !1, t.dispatchEvent(new Event("input"))) } const rs = { created(e, { modifiers: { lazy: t, trim: n, number: r } }, o) { e._assign = es(o); const i = r || o.props && "number" === o.props.type; ma(e, t ? "change" : "input", (t => { if (t.target.composing) return; let r = e.value; n && (r = r.trim()), i && (r = re(r)), e._assign(r) })), n && ma(e, "change", (() => { e.value = e.value.trim() })), t || (ma(e, "compositionstart", ts), ma(e, "compositionend", ns), ma(e, "change", ns)) }, mounted(e, { value: t }) { e.value = null == t ? "" : t }, beforeUpdate(e, { value: t, modifiers: { lazy: n, trim: r, number: o } }, i) { if (e._assign = es(i), e.composing) return; if (document.activeElement === e && "range" !== e.type) { if (n) return; if (r && e.value.trim() === t) return; if ((o || "number" === e.type) && re(e.value) === t) return } const a = null == t ? "" : t; e.value !== a && (e.value = a) } }, os = { deep: !0, created(e, t, n) { e._assign = es(n), ma(e, "change", (() => { const t = e._modelValue, n = ls(e), r = e.checked, o = e._assign; if (T(t)) { const e = g(t, n), i = -1 !== e; if (r && !i) o(t.concat(n)); else if (!r && i) { const n = [...t]; n.splice(e, 1), o(n) } } else if (I(t)) { const e = new Set(t); r ? e.add(n) : e.delete(n), o(e) } else o(us(e, r)) })) }, mounted: is, beforeUpdate(e, t, n) { e._assign = es(n), is(e, t, n) } }; function is(e, { value: t, oldValue: n }, r) { e._modelValue = t, T(t) ? e.checked = g(t, r.props.value) > -1 : I(t) ? e.checked = t.has(r.props.value) : t !== n && (e.checked = m(t, us(e, !0))) } const as = { created(e, { value: t }, n) { e.checked = m(t, n.props.value), e._assign = es(n), ma(e, "change", (() => { e._assign(ls(e)) })) }, beforeUpdate(e, { value: t, oldValue: n }, r) { e._assign = es(r), t !== n && (e.checked = m(t, r.props.value)) } }, ss = { deep: !0, created(e, { value: t, modifiers: { number: n } }, r) { const o = I(t); ma(e, "change", (() => { const t = Array.prototype.filter.call(e.options, (e => e.selected)).map((e => n ? re(ls(e)) : ls(e))); e._assign(e.multiple ? o ? new Set(t) : t : t[0]) })), e._assign = es(r) }, mounted(e, { value: t }) { cs(e, t) }, beforeUpdate(e, t, n) { e._assign = es(n) }, updated(e, { value: t }) { cs(e, t) } }; function cs(e, t) { const n = e.multiple; if (!n || T(t) || I(t)) { for (let r = 0, o = e.options.length; r < o; r++) { const o = e.options[r], i = ls(o); if (n) T(t) ? o.selected = g(t, i) > -1 : o.selected = t.has(i); else if (m(ls(o), t)) return void (e.selectedIndex !== r && (e.selectedIndex = r)) } n || -1 === e.selectedIndex || (e.selectedIndex = -1) } } function ls(e) { return "_value" in e ? e._value : e.value } function us(e, t) { const n = t ? "_trueValue" : "_falseValue"; return n in e ? e[n] : t } const ds = { created(e, t, n) { fs(e, t, n, null, "created") }, mounted(e, t, n) { fs(e, t, n, null, "mounted") }, beforeUpdate(e, t, n, r) { fs(e, t, n, r, "beforeUpdate") }, updated(e, t, n, r) { fs(e, t, n, r, "updated") } }; function hs(e, t) { switch (e) { case "SELECT": return ss; case "TEXTAREA": return rs; default: switch (t) { case "checkbox": return os; case "radio": return as; default: return rs } } } function fs(e, t, n, r, o) { const i = hs(e.tagName, n.props && n.props.type)[o]; i && i(e, t, n, r) } const ps = ["ctrl", "shift", "alt", "meta"], _s = { stop: e => e.stopPropagation(), prevent: e => e.preventDefault(), self: e => e.target !== e.currentTarget, ctrl: e => !e.ctrlKey, shift: e => !e.shiftKey, alt: e => !e.altKey, meta: e => !e.metaKey, left: e => "button" in e && 0 !== e.button, middle: e => "button" in e && 1 !== e.button, right: e => "button" in e && 2 !== e.button, exact: (e, t) => ps.some((n => e[`${n}Key`] && !t.includes(n))) }, vs = (e, t) => (n, ...r) => { for (let e = 0; e < t.length; e++) { const r = _s[t[e]]; if (r && r(n, t)) return } return e(n, ...r) }, ms = { esc: "escape", space: " ", up: "arrow-up", left: "arrow-left", right: "arrow-right", down: "arrow-down", delete: "backspace" }, gs = (e, t) => n => { if (!("key" in n)) return; const r = Q(n.key); return t.some((e => e === r || ms[e] === r)) ? e(n) : void 0 }, As = { beforeMount(e, { value: t }, { transition: n }) { e._vod = "none" === e.style.display ? "" : e.style.display, n && t ? n.beforeEnter(e) : ys(e, t) }, mounted(e, { value: t }, { transition: n }) { n && t && n.enter(e) }, updated(e, { value: t, oldValue: n }, { transition: r }) { !t != !n && (r ? t ? (r.beforeEnter(e), ys(e, !0), r.enter(e)) : r.leave(e, (() => { ys(e, !1) })) : ys(e, t)) }, beforeUnmount(e, { value: t }) { ys(e, t) } }; function ys(e, t) { e.style.display = t ? e._vod : "none" } const Bs = x({ patchProp: (e, t, n, r, o = !1, i, c, l, u) => { "class" === t ? function (e, t, n) { const r = e._vtc; r && (t = (t ? [t, ...r] : [...r]).join(" ")), null == t ? e.removeAttribute("class") : n ? e.setAttribute("class", t) : e.className = t }(e, r, o) : "style" === t ? function (e, t, n) { const r = e.style, o = L(n); if (n && !o) { for (const e in n) fa(r, e, n[e]); if (t && !L(t)) for (const e in t) null == n[e] && fa(r, e, "") } else { const i = r.display; o ? t !== n && (r.cssText = n) : t && e.removeAttribute("style"), "_vod" in e && (r.display = i) } }(e, n, r) : k(t) ? D(t) || function (e, t, n, r, o = null) { const i = e._vei || (e._vei = {}), a = i[t]; if (r && a) a.value = r; else { const [n, s] = function (e) { let t; if (ga.test(e)) { let n; for (t = {}; n = e.match(ga);)e = e.slice(0, e.length - n[0].length), t[n[0].toLowerCase()] = !0 } return [":" === e[2] ? e.slice(3) : Q(e.slice(2)), t] }(t); if (r) { const a = i[t] = function (e, t) { const n = e => { if (e._vts) { if (e._vts <= n.attached) return } else e._vts = Date.now(); $t(function (e, t) { if (T(t)) { const n = e.stopImmediatePropagation; return e.stopImmediatePropagation = () => { n.call(e), e._stopped = !0 }, t.map((e => t => !t._stopped && e && e(t))) } return t }(e, n.value), t, 5, [e]) }; return n.value = e, n.attached = Aa || (ya.then((() => Aa = 0)), Aa = Date.now()), n }(r, o); ma(e, n, a, s) } else a && (function (e, t, n, r) { e.removeEventListener(t, n, r) }(e, n, a, s), i[t] = void 0) } }(e, t, 0, r, c) : ("." === t[0] ? (t = t.slice(1), 1) : "^" === t[0] ? (t = t.slice(1), 0) : function (e, t, n, r) { return r ? "innerHTML" === t || "textContent" === t || !!(t in e && Ba.test(t) && R(n)) : "spellcheck" !== t && "draggable" !== t && "translate" !== t && ("form" !== t && (("list" !== t || "INPUT" !== e.tagName) && (("type" !== t || "TEXTAREA" !== e.tagName) && ((!Ba.test(t) || !L(n)) && t in e)))) }(e, t, r, o)) ? function (e, t, n, r, o, i, a) { if ("innerHTML" === t || "textContent" === t) return r && a(r, o, i), void (e[t] = null == n ? "" : n); if ("value" === t && "PROGRESS" !== e.tagName && !e.tagName.includes("-")) { e._value = n; const r = null == n ? "" : n; return e.value === r && "OPTION" !== e.tagName || (e.value = r), void (null == n && e.removeAttribute(t)) } let c = !1; if ("" === n || null == n) { const r = typeof e[t]; "boolean" === r ? n = s(n) : null == n && "string" === r ? (n = "", c = !0) : "number" === r && (n = 0, c = !0) } try { e[t] = n } catch (e) { } c && e.removeAttribute(t) }(e, t, r, i, c, l, u) : ("true-value" === t ? e._trueValue = r : "false-value" === t && (e._falseValue = r), function (e, t, n, r, o) { if (r && t.startsWith("xlink:")) null == n ? e.removeAttributeNS(va, t.slice(6, t.length)) : e.setAttributeNS(va, t, n); else { const r = a(t); null == n || r && !s(n) ? e.removeAttribute(t) : e.setAttribute(t, r ? "" : n) } }(e, t, r, o)) } }, da); let bs, Cs = !1; function Es() { return bs || (bs = Oo(Bs)) } function ws() { return bs = Cs ? bs : Io(Bs), Cs = !0, bs } const ks = (...e) => { Es().render(...e) }, Ds = (...e) => { ws().hydrate(...e) }, xs = (...e) => { const t = Es().createApp(...e), { mount: n } = t; return t.mount = e => { const r = Ms(e); if (!r) return; const o = t._component; R(o) || o.render || o.template || (o.template = r.innerHTML), r.innerHTML = ""; const i = n(r, !1, r instanceof SVGElement); return r instanceof Element && (r.removeAttribute("v-cloak"), r.setAttribute("data-v-app", "")), i }, t }, Ss = (...e) => { const t = ws().createApp(...e), { mount: n } = t; return t.mount = e => { const t = Ms(e); if (t) return n(t, !0, t instanceof SVGElement) }, t }; function Ms(e) { return L(e) ? document.querySelector(e) : e } let Fs = !1; const Ts = () => { Fs || (Fs = !0, rs.getSSRProps = ({ value: e }) => ({ value: e }), as.getSSRProps = ({ value: e }, t) => { if (t.props && m(t.props.value, e)) return { checked: !0 } }, os.getSSRProps = ({ value: e }, t) => { if (T(e)) { if (t.props && g(e, t.props.value) > -1) return { checked: !0 } } else if (I(e)) { if (t.props && e.has(t.props.value)) return { checked: !0 } } else if (e) return { checked: !0 } }, ds.getSSRProps = (e, t) => { if ("string" != typeof t.type) return; const n = hs(t.type.toUpperCase(), t.props && t.props.type); return n.getSSRProps ? n.getSSRProps(e, t) : void 0 }, As.getSSRProps = ({ value: e }) => { if (!e) return { style: { display: "none" } } }) }; function Os(e) { throw e } function Is(e) { } function Ps(e, t, n, r) { const o = new SyntaxError(String(e)); return o.code = e, o.loc = t, o } const Rs = Symbol(""), Ls = Symbol(""), Hs = Symbol(""), js = Symbol(""), Gs = Symbol(""), Ns = Symbol(""), Vs = Symbol(""), Ks = Symbol(""), Js = Symbol(""), Us = Symbol(""), Zs = Symbol(""), Ws = Symbol(""), qs = Symbol(""), zs = Symbol(""), Xs = Symbol(""), Qs = Symbol(""), Ys = Symbol(""), $s = Symbol(""), ec = Symbol(""), tc = Symbol(""), nc = Symbol(""), rc = Symbol(""), oc = Symbol(""), ic = Symbol(""), ac = Symbol(""), sc = Symbol(""), cc = Symbol(""), lc = Symbol(""), uc = Symbol(""), dc = Symbol(""), hc = Symbol(""), fc = Symbol(""), pc = Symbol(""), _c = Symbol(""), vc = Symbol(""), mc = Symbol(""), gc = Symbol(""), Ac = Symbol(""), yc = Symbol(""), Bc = { [Rs]: "Fragment", [Ls]: "Teleport", [Hs]: "Suspense", [js]: "KeepAlive", [Gs]: "BaseTransition", [Ns]: "openBlock", [Vs]: "createBlock", [Ks]: "createElementBlock", [Js]: "createVNode", [Us]: "createElementVNode", [Zs]: "createCommentVNode", [Ws]: "createTextVNode", [qs]: "createStaticVNode", [zs]: "resolveComponent", [Xs]: "resolveDynamicComponent", [Qs]: "resolveDirective", [Ys]: "resolveFilter", [$s]: "withDirectives", [ec]: "renderList", [tc]: "renderSlot", [nc]: "createSlots", [rc]: "toDisplayString", [oc]: "mergeProps", [ic]: "normalizeClass", [ac]: "normalizeStyle", [sc]: "normalizeProps", [cc]: "guardReactiveProps", [lc]: "toHandlers", [uc]: "camelize", [dc]: "capitalize", [hc]: "toHandlerKey", [fc]: "setBlockTracking", [pc]: "pushScopeId", [_c]: "popScopeId", [vc]: "withCtx", [mc]: "unref", [gc]: "isRef", [Ac]: "withMemo", [yc]: "isMemoSame" }, bc = { source: "", start: { line: 1, column: 1, offset: 0 }, end: { line: 1, column: 1, offset: 0 } }; function Cc(e, t, n, r, o, i, a, s = !1, c = !1, l = !1, u = bc) { return e && (s ? (e.helper(Ns), e.helper(Yc(e.inSSR, l))) : e.helper(Qc(e.inSSR, l)), a && e.helper($s)), { type: 13, tag: t, props: n, children: r, patchFlag: o, dynamicProps: i, directives: a, isBlock: s, disableTracking: c, isComponent: l, loc: u } } function Ec(e, t = bc) { return { type: 17, loc: t, elements: e } } function wc(e, t = bc) { return { type: 15, loc: t, properties: e } } function kc(e, t) { return { type: 16, loc: bc, key: L(e) ? Dc(e, !0) : e, value: t } } function Dc(e, t = !1, n = bc, r = 0) { return { type: 4, loc: n, content: e, isStatic: t, constType: t ? 3 : r } } function xc(e, t = bc) { return { type: 8, loc: t, children: e } } function Sc(e, t = [], n = bc) { return { type: 14, loc: n, callee: e, arguments: t } } function Mc(e, t, n = !1, r = !1, o = bc) { return { type: 18, params: e, returns: t, newline: n, isSlot: r, loc: o } } function Fc(e, t, n, r = !0) { return { type: 19, test: e, consequent: t, alternate: n, newline: r, loc: bc } } const Tc = e => 4 === e.type && e.isStatic, Oc = (e, t) => e === t || e === Q(t); function Ic(e) { return Oc(e, "Teleport") ? Ls : Oc(e, "Suspense") ? Hs : Oc(e, "KeepAlive") ? js : Oc(e, "BaseTransition") ? Gs : void 0 } const Pc = /^\d|[^\$\w]/, Rc = e => !Pc.test(e), Lc = /[A-Za-z_$\xA0-\uFFFF]/, Hc = /[\.\?\w$\xA0-\uFFFF]/, jc = /\s+[.[]\s*|\s*[.[]\s+/g, Gc = e => { e = e.trim().replace(jc, (e => e.trim())); let t = 0, n = [], r = 0, o = 0, i = null; for (let a = 0; a < e.length; a++) { const s = e.charAt(a); switch (t) { case 0: if ("[" === s) n.push(t), t = 1, r++; else if ("(" === s) n.push(t), t = 2, o++; else if (!(0 === a ? Lc : Hc).test(s)) return !1; break; case 1: "'" === s || '"' === s || "`" === s ? (n.push(t), t = 3, i = s) : "[" === s ? r++ : "]" === s && (--r || (t = n.pop())); break; case 2: if ("'" === s || '"' === s || "`" === s) n.push(t), t = 3, i = s; else if ("(" === s) o++; else if (")" === s) { if (a === e.length - 1) return !1; --o || (t = n.pop()) } break; case 3: s === i && (t = n.pop(), i = null) } } return !r && !o }; function Nc(e, t, n) { const r = { source: e.source.slice(t, t + n), start: Vc(e.start, e.source, t), end: e.end }; return null != n && (r.end = Vc(e.start, e.source, t + n)), r } function Vc(e, t, n = t.length) { return Kc(x({}, e), t, n) } function Kc(e, t, n = t.length) { let r = 0, o = -1; for (let e = 0; e < n; e++)10 === t.charCodeAt(e) && (r++, o = e); return e.offset += n, e.line += r, e.column = -1 === o ? e.column + n : n - o, e } function Jc(e, t, n = !1) { for (let r = 0; r < e.props.length; r++) { const o = e.props[r]; if (7 === o.type && (n || o.exp) && (L(t) ? o.name === t : t.test(o.name))) return o } } function Uc(e, t, n = !1, r = !1) { for (let o = 0; o < e.props.length; o++) { const i = e.props[o]; if (6 === i.type) { if (n) continue; if (i.name === t && (i.value || r)) return i } else if ("bind" === i.name && (i.exp || r) && Zc(i.arg, t)) return i } } function Zc(e, t) { return !(!e || !Tc(e) || e.content !== t) } function Wc(e) { return 5 === e.type || 2 === e.type } function qc(e) { return 7 === e.type && "slot" === e.name } function zc(e) { return 1 === e.type && 3 === e.tagType } function Xc(e) { return 1 === e.type && 2 === e.tagType } function Qc(e, t) { return e || t ? Js : Us } function Yc(e, t) { return e || t ? Vs : Ks } const $c = new Set([sc, cc]); function el(e, t = []) { if (e && !L(e) && 14 === e.type) { const n = e.callee; if (!L(n) && $c.has(n)) return el(e.arguments[0], t.concat(e)) } return [e, t] } function tl(e, t, n) { let r, o, i = 13 === e.type ? e.props : e.arguments[2], a = []; if (i && !L(i) && 14 === i.type) { const e = el(i); i = e[0], a = e[1], o = a[a.length - 1] } if (null == i || L(i)) r = wc([t]); else if (14 === i.type) { const e = i.arguments[0]; L(e) || 15 !== e.type ? i.callee === lc ? r = Sc(n.helper(oc), [wc([t]), i]) : i.arguments.unshift(wc([t])) : e.properties.unshift(t), !r && (r = i) } else if (15 === i.type) { let e = !1; if (4 === t.key.type) { const n = t.key.content; e = i.properties.some((e => 4 === e.key.type && e.key.content === n)) } e || i.properties.unshift(t), r = i } else r = Sc(n.helper(oc), [wc([t]), i]), o && o.callee === cc && (o = a[a.length - 2]); 13 === e.type ? o ? o.arguments[0] = r : e.props = r : o ? o.arguments[0] = r : e.arguments[2] = r } function nl(e, t) { return `_${t}_${e.replace(/[^\w]/g, ((t, n) => "-" === t ? "_" : e.charCodeAt(n).toString()))}` } function rl(e, { helper: t, removeHelper: n, inSSR: r }) { e.isBlock || (e.isBlock = !0, n(Qc(r, e.isComponent)), t(Ns), t(Yc(r, e.isComponent))) } function ol(e, t) { const n = t.options ? t.options.compatConfig : t.compatConfig, r = n && n[e]; return "MODE" === e ? r || 3 : r } function il(e, t) { const n = ol("MODE", t), r = ol(e, t); return 3 === n ? !0 === r : !1 !== r } function al(e, t, n, ...r) { return il(e, t) } const sl = /&(gt|lt|amp|apos|quot);/g, cl = { gt: ">", lt: "<", amp: "&", apos: "'", quot: '"' }, ll = { delimiters: ["{{", "}}"], getNamespace: () => 0, getTextMode: () => 0, isVoidTag: E, isPreTag: E, isCustomElement: E, decodeEntities: e => e.replace(sl, ((e, t) => cl[t])), onError: Os, onWarn: Is, comments: !1 }; function ul(e, t, n) { const r = wl(n), o = r ? r.ns : 0, i = []; for (; !Fl(e, t, n);) { const a = e.source; let s; if (0 === t || 1 === t) if (!e.inVPre && kl(a, e.options.delimiters[0])) s = yl(e, t); else if (0 === t && "<" === a[0]) if (1 === a.length) Ml(e, 5, 1); else if ("!" === a[1]) kl(a, "\x3c!--") ? s = fl(e) : kl(a, "<!DOCTYPE") ? s = pl(e) : kl(a, "<![CDATA[") ? 0 !== o ? s = hl(e, n) : (Ml(e, 1), s = pl(e)) : (Ml(e, 11), s = pl(e)); else if ("/" === a[1]) if (2 === a.length) Ml(e, 5, 2); else { if (">" === a[2]) { Ml(e, 14, 2), Dl(e, 3); continue } if (/[a-z]/i.test(a[2])) { Ml(e, 23), ml(e, 1, r); continue } Ml(e, 12, 2), s = pl(e) } else /[a-z]/i.test(a[1]) ? (s = _l(e, n), il("COMPILER_NATIVE_TEMPLATE", e) && s && "template" === s.tag && !s.props.some((e => 7 === e.type && vl(e.name))) && (s = s.children)) : "?" === a[1] ? (Ml(e, 21, 1), s = pl(e)) : Ml(e, 12, 1); if (s || (s = Bl(e, t)), T(s)) for (let e = 0; e < s.length; e++)dl(i, s[e]); else dl(i, s) } let a = !1; if (2 !== t && 1 !== t) { const t = "preserve" !== e.options.whitespace; for (let n = 0; n < i.length; n++) { const r = i[n]; if (2 === r.type) if (e.inPre) r.content = r.content.replace(/\r\n/g, "\n"); else if (/[^\t\r\n\f ]/.test(r.content)) t && (r.content = r.content.replace(/[\t\r\n\f ]+/g, " ")); else { const e = i[n - 1], o = i[n + 1]; !e || !o || t && (3 === e.type || 3 === o.type || 1 === e.type && 1 === o.type && /[\r\n]/.test(r.content)) ? (a = !0, i[n] = null) : r.content = " " } else 3 !== r.type || e.options.comments || (a = !0, i[n] = null) } if (e.inPre && r && e.options.isPreTag(r.tag)) { const e = i[0]; e && 2 === e.type && (e.content = e.content.replace(/^\r?\n/, "")) } } return a ? i.filter(Boolean) : i } function dl(e, t) { if (2 === t.type) { const n = wl(e); if (n && 2 === n.type && n.loc.end.offset === t.loc.start.offset) return n.content += t.content, n.loc.end = t.loc.end, void (n.loc.source += t.loc.source) } e.push(t) } function hl(e, t) { Dl(e, 9); const n = ul(e, 3, t); return 0 === e.source.length ? Ml(e, 6) : Dl(e, 3), n } function fl(e) { const t = Cl(e); let n; const r = /--(\!)?>/.exec(e.source); if (r) { r.index <= 3 && Ml(e, 0), r[1] && Ml(e, 10), n = e.source.slice(4, r.index); const t = e.source.slice(0, r.index); let o = 1, i = 0; for (; -1 !== (i = t.indexOf("\x3c!--", o));)Dl(e, i - o + 1), i + 4 < t.length && Ml(e, 16), o = i + 1; Dl(e, r.index + r[0].length - o + 1) } else n = e.source.slice(4), Dl(e, e.source.length), Ml(e, 7); return { type: 3, content: n, loc: El(e, t) } } function pl(e) { const t = Cl(e), n = "?" === e.source[1] ? 1 : 2; let r; const o = e.source.indexOf(">"); return -1 === o ? (r = e.source.slice(n), Dl(e, e.source.length)) : (r = e.source.slice(n, o), Dl(e, o + 1)), { type: 3, content: r, loc: El(e, t) } } function _l(e, t) { const n = e.inPre, r = e.inVPre, o = wl(t), i = ml(e, 0, o), a = e.inPre && !n, s = e.inVPre && !r; if (i.isSelfClosing || e.options.isVoidTag(i.tag)) return a && (e.inPre = !1), s && (e.inVPre = !1), i; t.push(i); const c = e.options.getTextMode(i, o), l = ul(e, c, t); t.pop(); { const t = i.props.find((e => 6 === e.type && "inline-template" === e.name)); if (t && al("COMPILER_INLINE_TEMPLATE", e, t.loc)) { const n = El(e, i.loc.end); t.value = { type: 2, content: n.source, loc: n } } } if (i.children = l, Tl(e.source, i.tag)) ml(e, 1, o); else if (Ml(e, 24, 0, i.loc.start), 0 === e.source.length && "script" === i.tag.toLowerCase()) { const t = l[0]; t && kl(t.loc.source, "\x3c!--") && Ml(e, 8) } return i.loc = El(e, i.loc.start), a && (e.inPre = !1), s && (e.inVPre = !1), i } const vl = o("if,else,else-if,for,slot"); function ml(e, t, n) { const r = Cl(e), o = /^<\/?([a-z][^\t\r\n\f />]*)/i.exec(e.source), i = o[1], a = e.options.getNamespace(i, n); Dl(e, o[0].length), xl(e); const s = Cl(e), c = e.source; e.options.isPreTag(i) && (e.inPre = !0); let l = gl(e, t); 0 === t && !e.inVPre && l.some((e => 7 === e.type && "pre" === e.name)) && (e.inVPre = !0, x(e, s), e.source = c, l = gl(e, t).filter((e => "v-pre" !== e.name))); let u = !1; if (0 === e.source.length ? Ml(e, 9) : (u = kl(e.source, "/>"), 1 === t && u && Ml(e, 4), Dl(e, u ? 2 : 1)), 1 === t) return; let d = 0; return e.inVPre || ("slot" === i ? d = 2 : "template" === i ? l.some((e => 7 === e.type && vl(e.name))) && (d = 3) : function (e, t, n) { const r = n.options; if (r.isCustomElement(e)) return !1; if ("component" === e || /^[A-Z]/.test(e) || Ic(e) || r.isBuiltInComponent && r.isBuiltInComponent(e) || r.isNativeTag && !r.isNativeTag(e)) return !0; for (let e = 0; e < t.length; e++) { const r = t[e]; if (6 === r.type) { if ("is" === r.name && r.value) { if (r.value.content.startsWith("vue:")) return !0; if (al("COMPILER_IS_ON_ELEMENT", n, r.loc)) return !0 } } else { if ("is" === r.name) return !0; if ("bind" === r.name && Zc(r.arg, "is") && al("COMPILER_IS_ON_ELEMENT", n, r.loc)) return !0 } } }(i, l, e) && (d = 1)), { type: 1, ns: a, tag: i, tagType: d, props: l, isSelfClosing: u, children: [], loc: El(e, r), codegenNode: void 0 } } function gl(e, t) { const n = [], r = new Set; for (; e.source.length > 0 && !kl(e.source, ">") && !kl(e.source, "/>");) { if (kl(e.source, "/")) { Ml(e, 22), Dl(e, 1), xl(e); continue } 1 === t && Ml(e, 3); const o = Al(e, r); 6 === o.type && o.value && "class" === o.name && (o.value.content = o.value.content.replace(/\s+/g, " ").trim()), 0 === t && n.push(o), /^[^\t\r\n\f />]/.test(e.source) && Ml(e, 15), xl(e) } return n } function Al(e, t) { const n = Cl(e), r = /^[^\t\r\n\f />][^\t\r\n\f />=]*/.exec(e.source)[0]; t.has(r) && Ml(e, 2), t.add(r), "=" === r[0] && Ml(e, 19); { const t = /["'<]/g; let n; for (; n = t.exec(r);)Ml(e, 17, n.index) } let o; Dl(e, r.length), /^[\t\r\n\f ]*=/.test(e.source) && (xl(e), Dl(e, 1), xl(e), o = function (e) { const t = Cl(e); let n; const r = e.source[0], o = '"' === r || "'" === r; if (o) { Dl(e, 1); const t = e.source.indexOf(r); -1 === t ? n = bl(e, e.source.length, 4) : (n = bl(e, t, 4), Dl(e, 1)) } else { const t = /^[^\t\r\n\f >]+/.exec(e.source); if (!t) return; const r = /["'<=`]/g; let o; for (; o = r.exec(t[0]);)Ml(e, 18, o.index); n = bl(e, t[0].length, 4) } return { content: n, isQuoted: o, loc: El(e, t) } }(e), o || Ml(e, 13)); const i = El(e, n); if (!e.inVPre && /^(v-[A-Za-z0-9-]|:|\.|@|#)/.test(r)) { const t = /(?:^v-([a-z0-9-]+))?(?:(?::|^\.|^@|^#)(\[[^\]]+\]|[^\.]+))?(.+)?$/i.exec(r); let a, s = kl(r, "."), c = t[1] || (s || kl(r, ":") ? "bind" : kl(r, "@") ? "on" : "slot"); if (t[2]) { const o = "slot" === c, i = r.lastIndexOf(t[2]), s = El(e, Sl(e, n, i), Sl(e, n, i + t[2].length + (o && t[3] || "").length)); let l = t[2], u = !0; l.startsWith("[") ? (u = !1, l.endsWith("]") ? l = l.slice(1, l.length - 1) : (Ml(e, 27), l = l.slice(1))) : o && (l += t[3] || ""), a = { type: 4, content: l, isStatic: u, constType: u ? 3 : 0, loc: s } } if (o && o.isQuoted) { const e = o.loc; e.start.offset++, e.start.column++, e.end = Vc(e.start, o.content), e.source = e.source.slice(1, -1) } const l = t[3] ? t[3].slice(1).split(".") : []; return s && l.push("prop"), "bind" === c && a && l.includes("sync") && al("COMPILER_V_BIND_SYNC", e, 0, a.loc.source) && (c = "model", l.splice(l.indexOf("sync"), 1)), { type: 7, name: c, exp: o && { type: 4, content: o.content, isStatic: !1, constType: 0, loc: o.loc }, arg: a, modifiers: l, loc: i } } return !e.inVPre && kl(r, "v-") && Ml(e, 26), { type: 6, name: r, value: o && { type: 2, content: o.content, loc: o.loc }, loc: i } } function yl(e, t) { const [n, r] = e.options.delimiters, o = e.source.indexOf(r, n.length); if (-1 === o) return void Ml(e, 25); const i = Cl(e); Dl(e, n.length); const a = Cl(e), s = Cl(e), c = o - n.length, l = e.source.slice(0, c), u = bl(e, c, t), d = u.trim(), h = u.indexOf(d); return h > 0 && Kc(a, l, h), Kc(s, l, c - (u.length - d.length - h)), Dl(e, r.length), { type: 5, content: { type: 4, isStatic: !1, constType: 0, content: d, loc: El(e, a, s) }, loc: El(e, i) } } function Bl(e, t) { const n = 3 === t ? ["]]>"] : ["<", e.options.delimiters[0]]; let r = e.source.length; for (let t = 0; t < n.length; t++) { const o = e.source.indexOf(n[t], 1); -1 !== o && r > o && (r = o) } const o = Cl(e); return { type: 2, content: bl(e, r, t), loc: El(e, o) } } function bl(e, t, n) { const r = e.source.slice(0, t); return Dl(e, t), 2 !== n && 3 !== n && r.includes("&") ? e.options.decodeEntities(r, 4 === n) : r } function Cl(e) { const { column: t, line: n, offset: r } = e; return { column: t, line: n, offset: r } } function El(e, t, n) { return { start: t, end: n = n || Cl(e), source: e.originalSource.slice(t.offset, n.offset) } } function wl(e) { return e[e.length - 1] } function kl(e, t) { return e.startsWith(t) } function Dl(e, t) { const { source: n } = e; Kc(e, n, t), e.source = n.slice(t) } function xl(e) { const t = /^[\t\r\n\f ]+/.exec(e.source); t && Dl(e, t[0].length) } function Sl(e, t, n) { return Vc(t, e.originalSource.slice(t.offset, n), n) } function Ml(e, t, n, r = Cl(e)) { n && (r.offset += n, r.column += n), e.options.onError(Ps(t, { start: r, end: r, source: "" })) } function Fl(e, t, n) { const r = e.source; switch (t) { case 0: if (kl(r, "</")) for (let e = n.length - 1; e >= 0; --e)if (Tl(r, n[e].tag)) return !0; break; case 1: case 2: { const e = wl(n); if (e && Tl(r, e.tag)) return !0; break } case 3: if (kl(r, "]]>")) return !0 }return !r } function Tl(e, t) { return kl(e, "</") && e.slice(2, 2 + t.length).toLowerCase() === t.toLowerCase() && /[\t\r\n\f />]/.test(e[2 + t.length] || ">") } function Ol(e, t) { Pl(e, t, Il(e, e.children[0])) } function Il(e, t) { const { children: n } = e; return 1 === n.length && 1 === t.type && !Xc(t) } function Pl(e, t, n = !1) { const { children: r } = e, o = r.length; let i = 0; for (let e = 0; e < r.length; e++) { const o = r[e]; if (1 === o.type && 0 === o.tagType) { const e = n ? 0 : Rl(o, t); if (e > 0) { if (e >= 2) { o.codegenNode.patchFlag = "-1", o.codegenNode = t.hoist(o.codegenNode), i++; continue } } else { const e = o.codegenNode; if (13 === e.type) { const n = Nl(e); if ((!n || 512 === n || 1 === n) && jl(o, t) >= 2) { const n = Gl(o); n && (e.props = t.hoist(n)) } e.dynamicProps && (e.dynamicProps = t.hoist(e.dynamicProps)) } } } if (1 === o.type) { const e = 1 === o.tagType; e && t.scopes.vSlot++, Pl(o, t), e && t.scopes.vSlot-- } else if (11 === o.type) Pl(o, t, 1 === o.children.length); else if (9 === o.type) for (let e = 0; e < o.branches.length; e++)Pl(o.branches[e], t, 1 === o.branches[e].children.length) } i && t.transformHoist && t.transformHoist(r, t, e), i && i === o && 1 === e.type && 0 === e.tagType && e.codegenNode && 13 === e.codegenNode.type && T(e.codegenNode.children) && (e.codegenNode.children = t.hoist(Ec(e.codegenNode.children))) } function Rl(e, t) { const { constantCache: n } = t; switch (e.type) { case 1: if (0 !== e.tagType) return 0; const r = n.get(e); if (void 0 !== r) return r; const o = e.codegenNode; if (13 !== o.type) return 0; if (o.isBlock && "svg" !== e.tag && "foreignObject" !== e.tag) return 0; if (Nl(o)) return n.set(e, 0), 0; { let r = 3; const i = jl(e, t); if (0 === i) return n.set(e, 0), 0; i < r && (r = i); for (let o = 0; o < e.children.length; o++) { const i = Rl(e.children[o], t); if (0 === i) return n.set(e, 0), 0; i < r && (r = i) } if (r > 1) for (let o = 0; o < e.props.length; o++) { const i = e.props[o]; if (7 === i.type && "bind" === i.name && i.exp) { const o = Rl(i.exp, t); if (0 === o) return n.set(e, 0), 0; o < r && (r = o) } } if (o.isBlock) { for (let t = 0; t < e.props.length; t++)if (7 === e.props[t].type) return n.set(e, 0), 0; t.removeHelper(Ns), t.removeHelper(Yc(t.inSSR, o.isComponent)), o.isBlock = !1, t.helper(Qc(t.inSSR, o.isComponent)) } return n.set(e, r), r } case 2: case 3: return 3; case 9: case 11: case 10: default: return 0; case 5: case 12: return Rl(e.content, t); case 4: return e.constType; case 8: let i = 3; for (let n = 0; n < e.children.length; n++) { const r = e.children[n]; if (L(r) || H(r)) continue; const o = Rl(r, t); if (0 === o) return 0; o < i && (i = o) } return i } } const Ll = new Set([ic, ac, sc, cc]); function Hl(e, t) { if (14 === e.type && !L(e.callee) && Ll.has(e.callee)) { const n = e.arguments[0]; if (4 === n.type) return Rl(n, t); if (14 === n.type) return Hl(n, t) } return 0 } function jl(e, t) { let n = 3; const r = Gl(e); if (r && 15 === r.type) { const { properties: e } = r; for (let r = 0; r < e.length; r++) { const { key: o, value: i } = e[r], a = Rl(o, t); if (0 === a) return a; let s; if (a < n && (n = a), s = 4 === i.type ? Rl(i, t) : 14 === i.type ? Hl(i, t) : 0, 0 === s) return s; s < n && (n = s) } } return n } function Gl(e) { const t = e.codegenNode; if (13 === t.type) return t.props } function Nl(e) { const t = e.patchFlag; return t ? parseInt(t, 10) : void 0 } function Vl(e, t) { const n = function (e, { filename: t = "", prefixIdentifiers: n = !1, hoistStatic: r = !1, cacheHandlers: o = !1, nodeTransforms: i = [], directiveTransforms: a = {}, transformHoist: s = null, isBuiltInComponent: c = C, isCustomElement: l = C, expressionPlugins: u = [], scopeId: d = null, slotted: h = !0, ssr: f = !1, inSSR: p = !1, ssrCssVars: _ = "", bindingMetadata: v = B, inline: m = !1, isTS: g = !1, onError: A = Os, onWarn: y = Is, compatConfig: b }) { const E = t.replace(/\?.*$/, "").match(/([^/\\]+)\.\w+$/), w = { selfName: E && Y(z(E[1])), prefixIdentifiers: n, hoistStatic: r, cacheHandlers: o, nodeTransforms: i, directiveTransforms: a, transformHoist: s, isBuiltInComponent: c, isCustomElement: l, expressionPlugins: u, scopeId: d, slotted: h, ssr: f, inSSR: p, ssrCssVars: _, bindingMetadata: v, inline: m, isTS: g, onError: A, onWarn: y, compatConfig: b, root: e, helpers: new Map, components: new Set, directives: new Set, hoists: [], imports: [], constantCache: new Map, temps: 0, cached: 0, identifiers: Object.create(null), scopes: { vFor: 0, vSlot: 0, vPre: 0, vOnce: 0 }, parent: null, currentNode: e, childIndex: 0, inVOnce: !1, helper(e) { const t = w.helpers.get(e) || 0; return w.helpers.set(e, t + 1), e }, removeHelper(e) { const t = w.helpers.get(e); if (t) { const n = t - 1; n ? w.helpers.set(e, n) : w.helpers.delete(e) } }, helperString: e => `_${Bc[w.helper(e)]}`, replaceNode(e) { w.parent.children[w.childIndex] = w.currentNode = e }, removeNode(e) { const t = w.parent.children, n = e ? t.indexOf(e) : w.currentNode ? w.childIndex : -1; e && e !== w.currentNode ? w.childIndex > n && (w.childIndex--, w.onNodeRemoved()) : (w.currentNode = null, w.onNodeRemoved()), w.parent.children.splice(n, 1) }, onNodeRemoved: () => { }, addIdentifiers(e) { }, removeIdentifiers(e) { }, hoist(e) { L(e) && (e = Dc(e)), w.hoists.push(e); const t = Dc(`_hoisted_${w.hoists.length}`, !1, e.loc, 2); return t.hoisted = e, t }, cache: (e, t = !1) => function (e, t, n = !1) { return { type: 20, index: e, value: t, isVNode: n, loc: bc } }(w.cached++, e, t) }; return w.filters = new Set, w }(e, t); Kl(e, n), t.hoistStatic && Ol(e, n), t.ssr || function (e, t) { const { helper: n } = t, { children: r } = e; if (1 === r.length) { const n = r[0]; if (Il(e, n) && n.codegenNode) { const r = n.codegenNode; 13 === r.type && rl(r, t), e.codegenNode = r } else e.codegenNode = n } else if (r.length > 1) { let r = 64; e.codegenNode = Cc(t, n(Rs), void 0, e.children, r + "", void 0, void 0, !0, void 0, !1) } }(e, n), e.helpers = [...n.helpers.keys()], e.components = [...n.components], e.directives = [...n.directives], e.imports = n.imports, e.hoists = n.hoists, e.temps = n.temps, e.cached = n.cached, e.filters = [...n.filters] } function Kl(e, t) { t.currentNode = e; const { nodeTransforms: n } = t, r = []; for (let o = 0; o < n.length; o++) { const i = n[o](e, t); if (i && (T(i) ? r.push(...i) : r.push(i)), !t.currentNode) return; e = t.currentNode } switch (e.type) { case 3: t.ssr || t.helper(Zs); break; case 5: t.ssr || t.helper(rc); break; case 9: for (let n = 0; n < e.branches.length; n++)Kl(e.branches[n], t); break; case 10: case 11: case 1: case 0: !function (e, t) { let n = 0; const r = () => { n-- }; for (; n < e.children.length; n++) { const o = e.children[n]; L(o) || (t.parent = e, t.childIndex = n, t.onNodeRemoved = r, Kl(o, t)) } }(e, t) }t.currentNode = e; let o = r.length; for (; o--;)r[o]() } function Jl(e, t) { const n = L(e) ? t => t === e : t => e.test(t); return (e, r) => { if (1 === e.type) { const { props: o } = e; if (3 === e.tagType && o.some(qc)) return; const i = []; for (let a = 0; a < o.length; a++) { const s = o[a]; if (7 === s.type && n(s.name)) { o.splice(a, 1), a--; const n = t(e, s, r); n && i.push(n) } } return i } } } const Ul = "/*#__PURE__*/", Zl = e => `${Bc[e]}: _${Bc[e]}`; function Wl(e, t, { helper: n, push: r, newline: o, isTS: i }) { const a = n("filter" === t ? Ys : "component" === t ? zs : Qs); for (let n = 0; n < e.length; n++) { let s = e[n]; const c = s.endsWith("__self"); c && (s = s.slice(0, -6)), r(`const ${nl(s, t)} = ${a}(${JSON.stringify(s)}${c ? ", true" : ""})${i ? "!" : ""}`), n < e.length - 1 && o() } } function ql(e, t) { const n = e.length > 3 || !1; t.push("["), n && t.indent(), zl(e, t, n), n && t.deindent(), t.push("]") } function zl(e, t, n = !1, r = !0) { const { push: o, newline: i } = t; for (let a = 0; a < e.length; a++) { const s = e[a]; L(s) ? o(s) : T(s) ? ql(s, t) : Xl(s, t), a < e.length - 1 && (n ? (r && o(","), i()) : r && o(", ")) } } function Xl(e, t) { if (L(e)) t.push(e); else if (H(e)) t.push(t.helper(e)); else switch (e.type) { case 1: case 9: case 11: case 12: Xl(e.codegenNode, t); break; case 2: !function (e, t) { t.push(JSON.stringify(e.content), e) }(e, t); break; case 4: Ql(e, t); break; case 5: !function (e, t) { const { push: n, helper: r, pure: o } = t; o && n(Ul), n(`${r(rc)}(`), Xl(e.content, t), n(")") }(e, t); break; case 8: Yl(e, t); break; case 3: !function (e, t) { const { push: n, helper: r, pure: o } = t; o && n(Ul), n(`${r(Zs)}(${JSON.stringify(e.content)})`, e) }(e, t); break; case 13: !function (e, t) { const { push: n, helper: r, pure: o } = t, { tag: i, props: a, children: s, patchFlag: c, dynamicProps: l, directives: u, isBlock: d, disableTracking: h, isComponent: f } = e; u && n(r($s) + "("), d && n(`(${r(Ns)}(${h ? "true" : ""}), `), o && n(Ul); n(r(d ? Yc(t.inSSR, f) : Qc(t.inSSR, f)) + "(", e), zl(function (e) { let t = e.length; for (; t-- && null == e[t];); return e.slice(0, t + 1).map((e => e || "null")) }([i, a, s, c, l]), t), n(")"), d && n(")"), u && (n(", "), Xl(u, t), n(")")) }(e, t); break; case 14: !function (e, t) { const { push: n, helper: r, pure: o } = t, i = L(e.callee) ? e.callee : r(e.callee); o && n(Ul), n(i + "(", e), zl(e.arguments, t), n(")") }(e, t); break; case 15: !function (e, t) { const { push: n, indent: r, deindent: o, newline: i } = t, { properties: a } = e; if (!a.length) return void n("{}", e); const s = a.length > 1 || !1; n(s ? "{" : "{ "), s && r(); for (let e = 0; e < a.length; e++) { const { key: r, value: o } = a[e]; $l(r, t), n(": "), Xl(o, t), e < a.length - 1 && (n(","), i()) } s && o(), n(s ? "}" : " }") }(e, t); break; case 17: !function (e, t) { ql(e.elements, t) }(e, t); break; case 18: !function (e, t) { const { push: n, indent: r, deindent: o } = t, { params: i, returns: a, body: s, newline: c, isSlot: l } = e; l && n(`_${Bc[vc]}(`), n("(", e), T(i) ? zl(i, t) : i && Xl(i, t), n(") => "), (c || s) && (n("{"), r()), a ? (c && n("return "), T(a) ? ql(a, t) : Xl(a, t)) : s && Xl(s, t), (c || s) && (o(), n("}")), l && (e.isNonScopedSlot && n(", undefined, true"), n(")")) }(e, t); break; case 19: !function (e, t) { const { test: n, consequent: r, alternate: o, newline: i } = e, { push: a, indent: s, deindent: c, newline: l } = t; if (4 === n.type) { const e = !Rc(n.content); e && a("("), Ql(n, t), e && a(")") } else a("("), Xl(n, t), a(")"); i && s(), t.indentLevel++, i || a(" "), a("? "), Xl(r, t), t.indentLevel--, i && l(), i || a(" "), a(": "); const u = 19 === o.type; u || t.indentLevel++, Xl(o, t), u || t.indentLevel--, i && c(!0) }(e, t); break; case 20: !function (e, t) { const { push: n, helper: r, indent: o, deindent: i, newline: a } = t; n(`_cache[${e.index}] || (`), e.isVNode && (o(), n(`${r(fc)}(-1),`), a()), n(`_cache[${e.index}] = `), Xl(e.value, t), e.isVNode && (n(","), a(), n(`${r(fc)}(1),`), a(), n(`_cache[${e.index}]`), i()), n(")") }(e, t); break; case 21: zl(e.body, t, !0, !1) } } function Ql(e, t) { const { content: n, isStatic: r } = e; t.push(r ? JSON.stringify(n) : n, e) } function Yl(e, t) { for (let n = 0; n < e.children.length; n++) { const r = e.children[n]; L(r) ? t.push(r) : Xl(r, t) } } function $l(e, t) { const { push: n } = t; 8 === e.type ? (n("["), Yl(e, t), n("]")) : e.isStatic ? n(Rc(e.content) ? e.content : JSON.stringify(e.content), e) : n(`[${e.content}]`, e) } new RegExp("\\b" + "do,if,for,let,new,try,var,case,else,with,await,break,catch,class,const,super,throw,while,yield,delete,export,import,return,switch,default,extends,finally,continue,debugger,function,arguments,typeof,void".split(",").join("\\b|\\b") + "\\b"); const eu = Jl(/^(if|else|else-if)$/, ((e, t, n) => function (e, t, n, r) { if (!("else" === t.name || t.exp && t.exp.content.trim())) { const r = t.exp ? t.exp.loc : e.loc; n.onError(Ps(28, t.loc)), t.exp = Dc("true", !1, r) } if ("if" === t.name) { const o = tu(e, t), i = { type: 9, loc: e.loc, branches: [o] }; if (n.replaceNode(i), r) return r(i, o, !0) } else { const o = n.parent.children; let i = o.indexOf(e); for (; i-- >= -1;) { const a = o[i]; if (!a || 2 !== a.type || a.content.trim().length) { if (a && 9 === a.type) { "else-if" === t.name && void 0 === a.branches[a.branches.length - 1].condition && n.onError(Ps(30, e.loc)), n.removeNode(); const o = tu(e, t); a.branches.push(o); const i = r && r(a, o, !1); Kl(o, n), i && i(), n.currentNode = null } else n.onError(Ps(30, e.loc)); break } n.removeNode(a) } } }(e, t, n, ((e, t, r) => { const o = n.parent.children; let i = o.indexOf(e), a = 0; for (; i-- >= 0;) { const e = o[i]; e && 9 === e.type && (a += e.branches.length) } return () => { if (r) e.codegenNode = nu(t, a, n); else { const r = function (e) { for (; ;)if (19 === e.type) { if (19 !== e.alternate.type) return e; e = e.alternate } else 20 === e.type && (e = e.value) }(e.codegenNode); r.alternate = nu(t, a + e.branches.length - 1, n) } } })))); function tu(e, t) { const n = 3 === e.tagType; return { type: 10, loc: e.loc, condition: "else" === t.name ? void 0 : t.exp, children: n && !Jc(e, "for") ? e.children : [e], userKey: Uc(e, "key"), isTemplateIf: n } } function nu(e, t, n) { return e.condition ? Fc(e.condition, ru(e, t, n), Sc(n.helper(Zs), ['""', "true"])) : ru(e, t, n) } function ru(e, t, n) { const { helper: r } = n, o = kc("key", Dc(`${t}`, !1, bc, 2)), { children: i } = e, a = i[0]; if (1 !== i.length || 1 !== a.type) { if (1 === i.length && 11 === a.type) { const e = a.codegenNode; return tl(e, o, n), e } { let t = 64; return Cc(n, r(Rs), wc([o]), i, t + "", void 0, void 0, !0, !1, !1, e.loc) } } { const e = a.codegenNode, t = function (e) { return 14 === e.type && e.callee === Ac ? e.arguments[1].returns : e }(e); return 13 === t.type && rl(t, n), tl(t, o, n), e } } const ou = Jl("for", ((e, t, n) => { const { helper: r, removeHelper: o } = n; return function (e, t, n, r) { if (!t.exp) return void n.onError(Ps(31, t.loc)); const o = cu(t.exp, n); if (!o) return void n.onError(Ps(32, t.loc)); const { addIdentifiers: i, removeIdentifiers: a, scopes: s } = n, { source: c, value: l, key: u, index: d } = o, h = { type: 11, loc: t.loc, source: c, valueAlias: l, keyAlias: u, objectIndexAlias: d, parseResult: o, children: zc(e) ? e.children : [e] }; n.replaceNode(h), s.vFor++; const f = r && r(h); return () => { s.vFor--, f && f() } }(e, t, n, (t => { const i = Sc(r(ec), [t.source]), a = zc(e), s = Jc(e, "memo"), c = Uc(e, "key"), l = c && (6 === c.type ? Dc(c.value.content, !0) : c.exp), u = c ? kc("key", l) : null, d = 4 === t.source.type && t.source.constType > 0, h = d ? 64 : c ? 128 : 256; return t.codegenNode = Cc(n, r(Rs), void 0, i, h + "", void 0, void 0, !0, !d, !1, e.loc), () => { let c; const { children: h } = t, f = 1 !== h.length || 1 !== h[0].type, p = Xc(e) ? e : a && 1 === e.children.length && Xc(e.children[0]) ? e.children[0] : null; if (p ? (c = p.codegenNode, a && u && tl(c, u, n)) : f ? c = Cc(n, r(Rs), u ? wc([u]) : void 0, e.children, "64", void 0, void 0, !0, void 0, !1) : (c = h[0].codegenNode, a && u && tl(c, u, n), c.isBlock !== !d && (c.isBlock ? (o(Ns), o(Yc(n.inSSR, c.isComponent))) : o(Qc(n.inSSR, c.isComponent))), c.isBlock = !d, c.isBlock ? (r(Ns), r(Yc(n.inSSR, c.isComponent))) : r(Qc(n.inSSR, c.isComponent))), s) { const e = Mc(uu(t.parseResult, [Dc("_cached")])); e.body = { type: 21, body: [xc(["const _memo = (", s.exp, ")"]), xc(["if (_cached", ...l ? [" && _cached.key === ", l] : [], ` && ${n.helperString(yc)}(_cached, _memo)) return _cached`]), xc(["const _item = ", c]), Dc("_item.memo = _memo"), Dc("return _item")], loc: bc }, i.arguments.push(e, Dc("_cache"), Dc(String(n.cached++))) } else i.arguments.push(Mc(uu(t.parseResult), c, !0)) } })) })), iu = /([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/, au = /,([^,\}\]]*)(?:,([^,\}\]]*))?$/, su = /^\(|\)$/g; function cu(e, t) { const n = e.loc, r = e.content, o = r.match(iu); if (!o) return; const [, i, a] = o, s = { source: lu(n, a.trim(), r.indexOf(a, i.length)), value: void 0, key: void 0, index: void 0 }; let c = i.trim().replace(su, "").trim(); const l = i.indexOf(c), u = c.match(au); if (u) { c = c.replace(au, "").trim(); const e = u[1].trim(); let t; if (e && (t = r.indexOf(e, l + c.length), s.key = lu(n, e, t)), u[2]) { const o = u[2].trim(); o && (s.index = lu(n, o, r.indexOf(o, s.key ? t + e.length : l + c.length))) } } return c && (s.value = lu(n, c, l)), s } function lu(e, t, n) { return Dc(t, !1, Nc(e, n, t.length)) } function uu({ value: e, key: t, index: n }, r = []) { return function (e) { let t = e.length; for (; t-- && !e[t];); return e.slice(0, t + 1).map(((e, t) => e || Dc("_".repeat(t + 1), !1))) }([e, t, n, ...r]) } const du = Dc("undefined", !1), hu = (e, t) => { if (1 === e.type && (1 === e.tagType || 3 === e.tagType)) { const n = Jc(e, "slot"); if (n) return n.exp, t.scopes.vSlot++, () => { t.scopes.vSlot-- } } }, fu = (e, t, n) => Mc(e, t, !1, !0, t.length ? t[0].loc : n); function pu(e, t, n = fu) { t.helper(vc); const { children: r, loc: o } = e, i = [], a = []; let s = t.scopes.vSlot > 0 || t.scopes.vFor > 0; const c = Jc(e, "slot", !0); if (c) { const { arg: e, exp: t } = c; e && !Tc(e) && (s = !0), i.push(kc(e || Dc("default", !0), n(t, r, o))) } let l = !1, u = !1; const d = [], h = new Set; let f = 0; for (let e = 0; e < r.length; e++) { const o = r[e]; let p; if (!zc(o) || !(p = Jc(o, "slot", !0))) { 3 !== o.type && d.push(o); continue } if (c) { t.onError(Ps(37, p.loc)); break } l = !0; const { children: _, loc: v } = o, { arg: m = Dc("default", !0), exp: g, loc: A } = p; let y; Tc(m) ? y = m ? m.content : "default" : s = !0; const B = n(g, _, v); let b, C, E; if (b = Jc(o, "if")) s = !0, a.push(Fc(b.exp, _u(m, B, f++), du)); else if (C = Jc(o, /^else(-if)?$/, !0)) { let n, o = e; for (; o-- && (n = r[o], 3 === n.type);); if (n && zc(n) && Jc(n, "if")) { r.splice(e, 1), e--; let t = a[a.length - 1]; for (; 19 === t.alternate.type;)t = t.alternate; t.alternate = C.exp ? Fc(C.exp, _u(m, B, f++), du) : _u(m, B, f++) } else t.onError(Ps(30, C.loc)) } else if (E = Jc(o, "for")) { s = !0; const e = E.parseResult || cu(E.exp); e ? a.push(Sc(t.helper(ec), [e.source, Mc(uu(e), _u(m, B), !0)])) : t.onError(Ps(32, E.loc)) } else { if (y) { if (h.has(y)) { t.onError(Ps(38, A)); continue } h.add(y), "default" === y && (u = !0) } i.push(kc(m, B)) } } if (!c) { const e = (e, r) => { const i = n(e, r, o); return t.compatConfig && (i.isNonScopedSlot = !0), kc("default", i) }; l ? d.length && d.some((e => mu(e))) && (u ? t.onError(Ps(39, d[0].loc)) : i.push(e(void 0, d))) : i.push(e(void 0, r)) } const p = s ? 2 : vu(e.children) ? 3 : 1; let _ = wc(i.concat(kc("_", Dc(p + "", !1))), o); return a.length && (_ = Sc(t.helper(nc), [_, Ec(a)])), { slots: _, hasDynamicSlots: s } } function _u(e, t, n) { const r = [kc("name", e), kc("fn", t)]; return null != n && r.push(kc("key", Dc(String(n), !0))), wc(r) } function vu(e) { for (let t = 0; t < e.length; t++) { const n = e[t]; switch (n.type) { case 1: if (2 === n.tagType || vu(n.children)) return !0; break; case 9: if (vu(n.branches)) return !0; break; case 10: case 11: if (vu(n.children)) return !0 } } return !1 } function mu(e) { return 2 !== e.type && 12 !== e.type || (2 === e.type ? !!e.content.trim() : mu(e.content)) } const gu = new WeakMap, Au = (e, t) => function () { if (1 !== (e = t.currentNode).type || 0 !== e.tagType && 1 !== e.tagType) return; const { tag: n, props: r } = e, o = 1 === e.tagType; let i = o ? function (e, t, n = !1) { let { tag: r } = e; const o = Cu(r), i = Uc(e, "is"); if (i) if (o || il("COMPILER_IS_ON_ELEMENT", t)) { const e = 6 === i.type ? i.value && Dc(i.value.content, !0) : i.exp; if (e) return Sc(t.helper(Xs), [e]) } else 6 === i.type && i.value.content.startsWith("vue:") && (r = i.value.content.slice(4)); const a = !o && Jc(e, "is"); if (a && a.exp) return Sc(t.helper(Xs), [a.exp]); const s = Ic(r) || t.isBuiltInComponent(r); return s ? (n || t.helper(s), s) : (t.helper(zs), t.components.add(r), nl(r, "component")) }(e, t) : `"${n}"`; const a = j(i) && i.callee === Xs; let s, c, l, u, d, h, f = 0, p = a || i === Ls || i === Hs || !o && ("svg" === n || "foreignObject" === n); if (r.length > 0) { const n = yu(e, t, void 0, o, a); s = n.props, f = n.patchFlag, d = n.dynamicPropNames; const r = n.directives; h = r && r.length ? Ec(r.map((e => function (e, t) { const n = [], r = gu.get(e); r ? n.push(t.helperString(r)) : (t.helper(Qs), t.directives.add(e.name), n.push(nl(e.name, "directive"))); const { loc: o } = e; if (e.exp && n.push(e.exp), e.arg && (e.exp || n.push("void 0"), n.push(e.arg)), Object.keys(e.modifiers).length) { e.arg || (e.exp || n.push("void 0"), n.push("void 0")); const t = Dc("true", !1, o); n.push(wc(e.modifiers.map((e => kc(e, t))), o)) } return Ec(n, e.loc) }(e, t)))) : void 0, n.shouldUseBlock && (p = !0) } if (e.children.length > 0) if (i === js && (p = !0, f |= 1024), o && i !== Ls && i !== js) { const { slots: n, hasDynamicSlots: r } = pu(e, t); c = n, r && (f |= 1024) } else if (1 === e.children.length && i !== Ls) { const n = e.children[0], r = n.type, o = 5 === r || 8 === r; o && 0 === Rl(n, t) && (f |= 1), c = o || 2 === r ? n : e.children } else c = e.children; 0 !== f && (l = String(f), d && d.length && (u = function (e) { let t = "["; for (let n = 0, r = e.length; n < r; n++)t += JSON.stringify(e[n]), n < r - 1 && (t += ", "); return t + "]" }(d))), e.codegenNode = Cc(t, i, s, c, l, u, h, !!p, !1, o, e.loc) }; function yu(e, t, n = e.props, r, o, i = !1) { const { tag: a, loc: s, children: c } = e; let l = []; const u = [], d = [], h = c.length > 0; let f = !1, p = 0, _ = !1, v = !1, m = !1, g = !1, A = !1, y = !1; const B = [], b = e => { l.length && (u.push(wc(Bu(l), s)), l = []), e && u.push(e) }, C = ({ key: e, value: n }) => { if (Tc(e)) { const i = e.content, a = k(i); if (!a || r && !o || "onclick" === i.toLowerCase() || "onUpdate:modelValue" === i || U(i) || (g = !0), a && U(i) && (y = !0), 20 === n.type || (4 === n.type || 8 === n.type) && Rl(n, t) > 0) return; "ref" === i ? _ = !0 : "class" === i ? v = !0 : "style" === i ? m = !0 : "key" === i || B.includes(i) || B.push(i), !r || "class" !== i && "style" !== i || B.includes(i) || B.push(i) } else A = !0 }; for (let o = 0; o < n.length; o++) { const c = n[o]; if (6 === c.type) { const { loc: e, name: n, value: r } = c; let o = !0; if ("ref" === n && (_ = !0, t.scopes.vFor > 0 && l.push(kc(Dc("ref_for", !0), Dc("true")))), "is" === n && (Cu(a) || r && r.content.startsWith("vue:") || il("COMPILER_IS_ON_ELEMENT", t))) continue; l.push(kc(Dc(n, !0, Nc(e, 0, n.length)), Dc(r ? r.content : "", o, r ? r.loc : e))) } else { const { name: n, arg: o, exp: p, loc: _ } = c, v = "bind" === n, m = "on" === n; if ("slot" === n) { r || t.onError(Ps(40, _)); continue } if ("once" === n || "memo" === n) continue; if ("is" === n || v && Zc(o, "is") && (Cu(a) || il("COMPILER_IS_ON_ELEMENT", t))) continue; if (m && i) continue; if ((v && Zc(o, "key") || m && h && Zc(o, "vue:before-update")) && (f = !0), v && Zc(o, "ref") && t.scopes.vFor > 0 && l.push(kc(Dc("ref_for", !0), Dc("true"))), !o && (v || m)) { if (A = !0, p) if (v) { if (b(), il("COMPILER_V_BIND_OBJECT_ORDER", t)) { u.unshift(p); continue } u.push(p) } else b({ type: 14, loc: _, callee: t.helper(lc), arguments: r ? [p] : [p, "true"] }); else t.onError(Ps(v ? 34 : 35, _)); continue } const g = t.directiveTransforms[n]; if (g) { const { props: n, needRuntime: r } = g(c, e, t); !i && n.forEach(C), m && o && !Tc(o) ? b(wc(n, s)) : l.push(...n), r && (d.push(c), H(r) && gu.set(c, r)) } else Z(n) || (d.push(c), h && (f = !0)) } } let E; if (u.length ? (b(), E = u.length > 1 ? Sc(t.helper(oc), u, s) : u[0]) : l.length && (E = wc(Bu(l), s)), A ? p |= 16 : (v && !r && (p |= 2), m && !r && (p |= 4), B.length && (p |= 8), g && (p |= 32)), f || 0 !== p && 32 !== p || !(_ || y || d.length > 0) || (p |= 512), !t.inSSR && E) switch (E.type) { case 15: let e = -1, n = -1, r = !1; for (let t = 0; t < E.properties.length; t++) { const o = E.properties[t].key; Tc(o) ? "class" === o.content ? e = t : "style" === o.content && (n = t) : o.isHandlerKey || (r = !0) } const o = E.properties[e], i = E.properties[n]; r ? E = Sc(t.helper(sc), [E]) : (o && !Tc(o.value) && (o.value = Sc(t.helper(ic), [o.value])), i && (m || 4 === i.value.type && "[" === i.value.content.trim()[0] || 17 === i.value.type) && (i.value = Sc(t.helper(ac), [i.value]))); break; case 14: break; default: E = Sc(t.helper(sc), [Sc(t.helper(cc), [E])]) }return { props: E, directives: d, patchFlag: p, dynamicPropNames: B, shouldUseBlock: f } } function Bu(e) { const t = new Map, n = []; for (let r = 0; r < e.length; r++) { const o = e[r]; if (8 === o.key.type || !o.key.isStatic) { n.push(o); continue } const i = o.key.content, a = t.get(i); a ? ("style" === i || "class" === i || k(i)) && bu(a, o) : (t.set(i, o), n.push(o)) } return n } function bu(e, t) { 17 === e.value.type ? e.value.elements.push(t.value) : e.value = Ec([e.value, t.value], e.loc) } function Cu(e) { return "component" === e || "Component" === e } const Eu = /-(\w)/g, wu = (e => { const t = Object.create(null); return e => t[e] || (t[e] = (e => e.replace(Eu, ((e, t) => t ? t.toUpperCase() : "")))(e)) })(), ku = (e, t) => { if (Xc(e)) { const { children: n, loc: r } = e, { slotName: o, slotProps: i } = function (e, t) { let n, r = '"default"'; const o = []; for (let t = 0; t < e.props.length; t++) { const n = e.props[t]; 6 === n.type ? n.value && ("name" === n.name ? r = JSON.stringify(n.value.content) : (n.name = wu(n.name), o.push(n))) : "bind" === n.name && Zc(n.arg, "name") ? n.exp && (r = n.exp) : ("bind" === n.name && n.arg && Tc(n.arg) && (n.arg.content = wu(n.arg.content)), o.push(n)) } if (o.length > 0) { const { props: r, directives: i } = yu(e, t, o, !1, !1); n = r, i.length && t.onError(Ps(36, i[0].loc)) } return { slotName: r, slotProps: n } }(e, t), a = [t.prefixIdentifiers ? "_ctx.$slots" : "$slots", o, "{}", "undefined", "true"]; let s = 2; i && (a[2] = i, s = 3), n.length && (a[3] = Mc([], n, !1, !1, r), s = 4), t.scopeId && !t.slotted && (s = 5), a.splice(s), e.codegenNode = Sc(t.helper(tc), a, r) } }, Du = /^\s*([\w$_]+|(async\s*)?\([^)]*?\))\s*=>|^\s*(async\s+)?function(?:\s+[\w$]+)?\s*\(/, xu = (e, t, n, r) => { const { loc: o, modifiers: i, arg: a } = e; let s; if (e.exp || i.length || n.onError(Ps(35, o)), 4 === a.type) if (a.isStatic) { let e = a.content; e.startsWith("vue:") && (e = `vnode-${e.slice(4)}`), s = Dc(1 === t.tagType || e.startsWith("vnode") || !/[A-Z]/.test(e) ? $(z(e)) : `on:${e}`, !0, a.loc) } else s = xc([`${n.helperString(hc)}(`, a, ")"]); else s = a, s.children.unshift(`${n.helperString(hc)}(`), s.children.push(")"); let c = e.exp; c && !c.content.trim() && (c = void 0); let l = n.cacheHandlers && !c && !n.inVOnce; if (c) { const e = Gc(c.content), t = !(e || Du.test(c.content)), n = c.content.includes(";"); (t || l && e) && (c = xc([`${t ? "$event" : "(...args)"} => ${n ? "{" : "("}`, c, n ? "}" : ")"])) } let u = { props: [kc(s, c || Dc("() => {}", !1, o))] }; return r && (u = r(u)), l && (u.props[0].value = n.cache(u.props[0].value)), u.props.forEach((e => e.key.isHandlerKey = !0)), u }, Su = (e, t, n) => { const { exp: r, modifiers: o, loc: i } = e, a = e.arg; return 4 !== a.type ? (a.children.unshift("("), a.children.push(') || ""')) : a.isStatic || (a.content = `${a.content} || ""`), o.includes("camel") && (4 === a.type ? a.isStatic ? a.content = z(a.content) : a.content = `${n.helperString(uc)}(${a.content})` : (a.children.unshift(`${n.helperString(uc)}(`), a.children.push(")"))), n.inSSR || (o.includes("prop") && Mu(a, "."), o.includes("attr") && Mu(a, "^")), !r || 4 === r.type && !r.content.trim() ? (n.onError(Ps(34, i)), { props: [kc(a, Dc("", !0, i))] }) : { props: [kc(a, r)] } }, Mu = (e, t) => { 4 === e.type ? e.isStatic ? e.content = t + e.content : e.content = `\`${t}\${${e.content}}\`` : (e.children.unshift(`'${t}' + (`), e.children.push(")")) }, Fu = (e, t) => { if (0 === e.type || 1 === e.type || 11 === e.type || 10 === e.type) return () => { const n = e.children; let r, o = !1; for (let e = 0; e < n.length; e++) { const t = n[e]; if (Wc(t)) { o = !0; for (let o = e + 1; o < n.length; o++) { const i = n[o]; if (!Wc(i)) { r = void 0; break } r || (r = n[e] = xc([t], t.loc)), r.children.push(" + ", i), n.splice(o, 1), o-- } } } if (o && (1 !== n.length || 0 !== e.type && (1 !== e.type || 0 !== e.tagType || e.props.find((e => 7 === e.type && !t.directiveTransforms[e.name])) || "template" === e.tag))) for (let e = 0; e < n.length; e++) { const r = n[e]; if (Wc(r) || 8 === r.type) { const o = []; 2 === r.type && " " === r.content || o.push(r), t.ssr || 0 !== Rl(r, t) || o.push("1"), n[e] = { type: 12, content: r, loc: r.loc, codegenNode: Sc(t.helper(Ws), o) } } } } }, Tu = new WeakSet, Ou = (e, t) => { if (1 === e.type && Jc(e, "once", !0)) { if (Tu.has(e) || t.inVOnce) return; return Tu.add(e), t.inVOnce = !0, t.helper(fc), () => { t.inVOnce = !1; const e = t.currentNode; e.codegenNode && (e.codegenNode = t.cache(e.codegenNode, !0)) } } }, Iu = (e, t, n) => { const { exp: r, arg: o } = e; if (!r) return n.onError(Ps(41, e.loc)), Pu(); const i = r.loc.source, a = 4 === r.type ? r.content : i; if (n.bindingMetadata[i], !a.trim() || !Gc(a)) return n.onError(Ps(42, r.loc)), Pu(); const s = o || Dc("modelValue", !0), c = o ? Tc(o) ? `onUpdate:${o.content}` : xc(['"onUpdate:" + ', o]) : "onUpdate:modelValue"; let l; l = xc([(n.isTS ? "($event: any)" : "$event") + " => ((", r, ") = $event)"]); const u = [kc(s, e.exp), kc(c, l)]; if (e.modifiers.length && 1 === t.tagType) { const t = e.modifiers.map((e => (Rc(e) ? e : JSON.stringify(e)) + ": true")).join(", "), n = o ? Tc(o) ? `${o.content}Modifiers` : xc([o, ' + "Modifiers"']) : "modelModifiers"; u.push(kc(n, Dc(`{ ${t} }`, !1, e.loc, 2))) } return Pu(u) }; function Pu(e = []) { return { props: e } } const Ru = /[\w).+\-_$\]]/, Lu = (e, t) => { il("COMPILER_FILTER", t) && (5 === e.type && Hu(e.content, t), 1 === e.type && e.props.forEach((e => { 7 === e.type && "for" !== e.name && e.exp && Hu(e.exp, t) }))) }; function Hu(e, t) { if (4 === e.type) ju(e, t); else for (let n = 0; n < e.children.length; n++) { const r = e.children[n]; "object" == typeof r && (4 === r.type ? ju(r, t) : 8 === r.type ? Hu(e, t) : 5 === r.type && Hu(r.content, t)) } } function ju(e, t) { const n = e.content; let r, o, i, a, s = !1, c = !1, l = !1, u = !1, d = 0, h = 0, f = 0, p = 0, _ = []; for (i = 0; i < n.length; i++)if (o = r, r = n.charCodeAt(i), s) 39 === r && 92 !== o && (s = !1); else if (c) 34 === r && 92 !== o && (c = !1); else if (l) 96 === r && 92 !== o && (l = !1); else if (u) 47 === r && 92 !== o && (u = !1); else if (124 !== r || 124 === n.charCodeAt(i + 1) || 124 === n.charCodeAt(i - 1) || d || h || f) { switch (r) { case 34: c = !0; break; case 39: s = !0; break; case 96: l = !0; break; case 40: f++; break; case 41: f--; break; case 91: h++; break; case 93: h--; break; case 123: d++; break; case 125: d-- }if (47 === r) { let e, t = i - 1; for (; t >= 0 && (e = n.charAt(t), " " === e); t--); e && Ru.test(e) || (u = !0) } } else void 0 === a ? (p = i + 1, a = n.slice(0, i).trim()) : v(); function v() { _.push(n.slice(p, i).trim()), p = i + 1 } if (void 0 === a ? a = n.slice(0, i).trim() : 0 !== p && v(), _.length) { for (i = 0; i < _.length; i++)a = Gu(a, _[i], t); e.content = a } } function Gu(e, t, n) { n.helper(Ys); const r = t.indexOf("("); if (r < 0) return n.filters.add(t), `${nl(t, "filter")}(${e})`; { const o = t.slice(0, r), i = t.slice(r + 1); return n.filters.add(o), `${nl(o, "filter")}(${e}${")" !== i ? "," + i : i}` } } const Nu = new WeakSet, Vu = (e, t) => { if (1 === e.type) { const n = Jc(e, "memo"); if (!n || Nu.has(e)) return; return Nu.add(e), () => { const r = e.codegenNode || t.currentNode.codegenNode; r && 13 === r.type && (1 !== e.tagType && rl(r, t), e.codegenNode = Sc(t.helper(Ac), [n.exp, Mc(void 0, r), "_cache", String(t.cached++)])) } } }; function Ku(e, t = {}) { const n = t.onError || Os, r = "module" === t.mode; !0 === t.prefixIdentifiers ? n(Ps(46)) : r && n(Ps(47)), t.cacheHandlers && n(Ps(48)), t.scopeId && !r && n(Ps(49)); const o = L(e) ? function (e, t = {}) { const n = function (e, t) { const n = x({}, ll); let r; for (r in t) n[r] = void 0 === t[r] ? ll[r] : t[r]; return { options: n, column: 1, line: 1, offset: 0, originalSource: e, source: e, inPre: !1, inVPre: !1, onWarn: n.onWarn } }(e, t), r = Cl(n); return function (e, t = bc) { return { type: 0, children: e, helpers: [], components: [], directives: [], hoists: [], imports: [], cached: 0, temps: 0, codegenNode: void 0, loc: t } }(ul(n, 0, []), El(n, r)) }(e, t) : e, [i, a] = [[Ou, eu, Vu, ou, Lu, ku, Au, hu, Fu], { on: xu, bind: Su, model: Iu }]; return Vl(o, x({}, t, { prefixIdentifiers: !1, nodeTransforms: [...i, ...t.nodeTransforms || []], directiveTransforms: x({}, a, t.directiveTransforms || {}) })), function (e, t = {}) { const n = function (e, { mode: t = "function", prefixIdentifiers: n = "module" === t, sourceMap: r = !1, filename: o = "template.vue.html", scopeId: i = null, optimizeImports: a = !1, runtimeGlobalName: s = "Vue", runtimeModuleName: c = "vue", ssrRuntimeModuleName: l = "vue/server-renderer", ssr: u = !1, isTS: d = !1, inSSR: h = !1 }) { const f = { mode: t, prefixIdentifiers: n, sourceMap: r, filename: o, scopeId: i, optimizeImports: a, runtimeGlobalName: s, runtimeModuleName: c, ssrRuntimeModuleName: l, ssr: u, isTS: d, inSSR: h, source: e.loc.source, code: "", column: 1, line: 1, offset: 0, indentLevel: 0, pure: !1, map: void 0, helper: e => `_${Bc[e]}`, push(e, t) { f.code += e }, indent() { p(++f.indentLevel) }, deindent(e = !1) { e ? --f.indentLevel : p(--f.indentLevel) }, newline() { p(f.indentLevel) } }; function p(e) { f.push("\n" + "  ".repeat(e)) } return f }(e, t); t.onContextCreated && t.onContextCreated(n); const { mode: r, push: o, prefixIdentifiers: i, indent: a, deindent: s, newline: c, scopeId: l, ssr: u } = n, d = e.helpers.length > 0, h = !i && "module" !== r; if (function (e, t) { const { ssr: n, prefixIdentifiers: r, push: o, newline: i, runtimeModuleName: a, runtimeGlobalName: s, ssrRuntimeModuleName: c } = t, l = s; e.helpers.length > 0 && (o(`const _Vue = ${l}\n`), e.hoists.length) && o(`const { ${[Js, Us, Zs, Ws, qs].filter((t => e.helpers.includes(t))).map(Zl).join(", ")} } = _Vue\n`), function (e, t) { if (!e.length) return; t.pure = !0; const { push: n, newline: r, helper: o, scopeId: i, mode: a } = t; r(); for (let o = 0; o < e.length; o++) { const i = e[o]; i && (n(`const _hoisted_${o + 1} = `), Xl(i, t), r()) } t.pure = !1 }(e.hoists, t), i(), o("return ") }(e, n), o(`function ${u ? "ssrRender" : "render"}(${(u ? ["_ctx", "_push", "_parent", "_attrs"] : ["_ctx", "_cache"]).join(", ")}) {`), a(), h && (o("with (_ctx) {"), a(), d && (o(`const { ${e.helpers.map(Zl).join(", ")} } = _Vue`), o("\n"), c())), e.components.length && (Wl(e.components, "component", n), (e.directives.length || e.temps > 0) && c()), e.directives.length && (Wl(e.directives, "directive", n), e.temps > 0 && c()), e.filters && e.filters.length && (c(), Wl(e.filters, "filter", n), c()), e.temps > 0) { o("let "); for (let t = 0; t < e.temps; t++)o(`${t > 0 ? ", " : ""}_temp${t}`) } return (e.components.length || e.directives.length || e.temps) && (o("\n"), c()), u || o("return "), e.codegenNode ? Xl(e.codegenNode, n) : o("null"), h && (s(), o("}")), s(), o("}"), { ast: e, code: n.code, preamble: "", map: n.map ? n.map.toJSON() : void 0 } }(o, x({}, t, { prefixIdentifiers: !1 })) } const Ju = Symbol(""), Uu = Symbol(""), Zu = Symbol(""), Wu = Symbol(""), qu = Symbol(""), zu = Symbol(""), Xu = Symbol(""), Qu = Symbol(""), Yu = Symbol(""), $u = Symbol(""); var ed; let td; ed = { [Ju]: "vModelRadio", [Uu]: "vModelCheckbox", [Zu]: "vModelText", [Wu]: "vModelSelect", [qu]: "vModelDynamic", [zu]: "withModifiers", [Xu]: "withKeys", [Qu]: "vShow", [Yu]: "Transition", [$u]: "TransitionGroup" }, Object.getOwnPropertySymbols(ed).forEach((e => { Bc[e] = ed[e] })); const nd = o("style,iframe,script,noscript", !0), rd = { isVoidTag: v, isNativeTag: e => p(e) || _(e), isPreTag: e => "pre" === e, decodeEntities: function (e, t = !1) { return td || (td = document.createElement("div")), t ? (td.innerHTML = `<div foo="${e.replace(/"/g, "&quot;")}">`, td.children[0].getAttribute("foo")) : (td.innerHTML = e, td.textContent) }, isBuiltInComponent: e => Oc(e, "Transition") ? Yu : Oc(e, "TransitionGroup") ? $u : void 0, getNamespace(e, t) { let n = t ? t.ns : 0; if (t && 2 === n) if ("annotation-xml" === t.tag) { if ("svg" === e) return 1; t.props.some((e => 6 === e.type && "encoding" === e.name && null != e.value && ("text/html" === e.value.content || "application/xhtml+xml" === e.value.content))) && (n = 0) } else /^m(?:[ions]|text)$/.test(t.tag) && "mglyph" !== e && "malignmark" !== e && (n = 0); else t && 1 === n && ("foreignObject" !== t.tag && "desc" !== t.tag && "title" !== t.tag || (n = 0)); if (0 === n) { if ("svg" === e) return 1; if ("math" === e) return 2 } return n }, getTextMode({ tag: e, ns: t }) { if (0 === t) { if ("textarea" === e || "title" === e) return 1; if (nd(e)) return 2 } return 0 } }, od = (e, t) => { const n = d(e); return Dc(JSON.stringify(n), !1, t, 3) }; function id(e, t) { return Ps(e, t) } const ad = o("passive,once,capture"), sd = o("stop,prevent,self,ctrl,shift,alt,meta,exact,middle"), cd = o("left,right"), ld = o("onkeyup,onkeydown,onkeypress", !0), ud = (e, t) => Tc(e) && "onclick" === e.content.toLowerCase() ? Dc(t, !0) : 4 !== e.type ? xc(["(", e, `) === "onClick" ? "${t}" : (`, e, ")"]) : e, dd = (e, t) => { 1 !== e.type || 0 !== e.tagType || "script" !== e.tag && "style" !== e.tag || (t.onError(id(60, e.loc)), t.removeNode()) }, hd = [e => { 1 === e.type && e.props.forEach(((t, n) => { 6 === t.type && "style" === t.name && t.value && (e.props[n] = { type: 7, name: "bind", arg: Dc("style", !0, t.loc), exp: od(t.value.content, t.loc), modifiers: [], loc: t.loc }) })) }], fd = { cloak: () => ({ props: [] }), html: (e, t, n) => { const { exp: r, loc: o } = e; return r || n.onError(id(50, o)), t.children.length && (n.onError(id(51, o)), t.children.length = 0), { props: [kc(Dc("innerHTML", !0, o), r || Dc("", !0))] } }, text: (e, t, n) => { const { exp: r, loc: o } = e; return r || n.onError(id(52, o)), t.children.length && (n.onError(id(53, o)), t.children.length = 0), { props: [kc(Dc("textContent", !0), r ? Rl(r, n) > 0 ? r : Sc(n.helperString(rc), [r], o) : Dc("", !0))] } }, model: (e, t, n) => { const r = Iu(e, t, n); if (!r.props.length || 1 === t.tagType) return r; e.arg && n.onError(id(55, e.arg.loc)); const { tag: o } = t, i = n.isCustomElement(o); if ("input" === o || "textarea" === o || "select" === o || i) { let a = Zu, s = !1; if ("input" === o || i) { const r = Uc(t, "type"); if (r) { if (7 === r.type) a = qu; else if (r.value) switch (r.value.content) { case "radio": a = Ju; break; case "checkbox": a = Uu; break; case "file": s = !0, n.onError(id(56, e.loc)) } } else (function (e) { return e.props.some((e => !(7 !== e.type || "bind" !== e.name || e.arg && 4 === e.arg.type && e.arg.isStatic))) })(t) && (a = qu) } else "select" === o && (a = Wu); s || (r.needRuntime = n.helper(a)) } else n.onError(id(54, e.loc)); return r.props = r.props.filter((e => !(4 === e.key.type && "modelValue" === e.key.content))), r }, on: (e, t, n) => xu(e, t, n, (t => { const { modifiers: r } = e; if (!r.length) return t; let { key: o, value: i } = t.props[0]; const { keyModifiers: a, nonKeyModifiers: s, eventOptionModifiers: c } = ((e, t, n, r) => { const o = [], i = [], a = []; for (let r = 0; r < t.length; r++) { const s = t[r]; "native" === s && al("COMPILER_V_ON_NATIVE", n) || ad(s) ? a.push(s) : cd(s) ? Tc(e) ? ld(e.content) ? o.push(s) : i.push(s) : (o.push(s), i.push(s)) : sd(s) ? i.push(s) : o.push(s) } return { keyModifiers: o, nonKeyModifiers: i, eventOptionModifiers: a } })(o, r, n, e.loc); if (s.includes("right") && (o = ud(o, "onContextmenu")), s.includes("middle") && (o = ud(o, "onMouseup")), s.length && (i = Sc(n.helper(zu), [i, JSON.stringify(s)])), !a.length || Tc(o) && !ld(o.content) || (i = Sc(n.helper(Xu), [i, JSON.stringify(a)])), c.length) { const e = c.map(Y).join(""); o = Tc(o) ? Dc(`${o.content}${e}`, !0) : xc(["(", o, `) + "${e}"`]) } return { props: [kc(o, i)] } })), show: (e, t, n) => { const { exp: r, loc: o } = e; return r || n.onError(id(58, o)), { props: [], needRuntime: n.helper(Qu) } } }, pd = Object.create(null); Ii((function (e, t) { if (!L(e)) { if (!e.nodeType) return C; e = e.innerHTML } const n = e, o = pd[n]; if (o) return o; if ("#" === e[0]) { const t = document.querySelector(e); e = t ? t.innerHTML : "" } const i = x({ hoistStatic: !0, onError: void 0, onWarn: C }, t); i.isCustomElement || "undefined" == typeof customElements || (i.isCustomElement = e => !!customElements.get(e)); const { code: a } = function (e, t = {}) { return Ku(e, x({}, rd, t, { nodeTransforms: [dd, ...hd, ...t.nodeTransforms || []], directiveTransforms: x({}, fd, t.directiveTransforms || {}), transformHoist: null })) }(e, i), s = new Function("Vue", a)(r); return s._rc = !0, pd[n] = s })) }, 907: (e, t, n) => { "use strict"; function r(e, t) { (null == t || t > e.length) && (t = e.length); for (var n = 0, r = new Array(t); n < t; n++)r[n] = e[n]; return r } n.d(t, { Z: () => r }) }, 5861: (e, t, n) => { "use strict"; function r(e, t, n, r, o, i, a) { try { var s = e[i](a), c = s.value } catch (e) { return void n(e) } s.done ? t(c) : Promise.resolve(c).then(r, o) } function o(e) { return function () { var t = this, n = arguments; return new Promise((function (o, i) { var a = e.apply(t, n); function s(e) { r(a, o, i, s, c, "next", e) } function c(e) { r(a, o, i, s, c, "throw", e) } s(void 0) })) } } n.d(t, { Z: () => o }) }, 5671: (e, t, n) => { "use strict"; function r(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") } n.d(t, { Z: () => r }) }, 5647: (e, t, n) => { "use strict"; n.d(t, { Z: () => i }); var r = n(9611), o = n(8814); function i(e, t, n) { return i = (0, o.Z)() ? Reflect.construct.bind() : function (e, t, n) { var o = [null]; o.push.apply(o, t); var i = new (Function.bind.apply(e, o)); return n && (0, r.Z)(i, n.prototype), i }, i.apply(null, arguments) } }, 3144: (e, t, n) => { "use strict"; function r(e, t) { for (var n = 0; n < t.length; n++) { var r = t[n]; r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(e, r.key, r) } } function o(e, t, n) { return t && r(e.prototype, t), n && r(e, n), Object.defineProperty(e, "prototype", { writable: !1 }), e } n.d(t, { Z: () => o }) }, 9144: (e, t, n) => { "use strict"; n.d(t, { Z: () => o }); var r = n(181); function o(e, t) { var n = "undefined" != typeof Symbol && e[Symbol.iterator] || e["@@iterator"]; if (!n) { if (Array.isArray(e) || (n = (0, r.Z)(e)) || t && e && "number" == typeof e.length) { n && (e = n); var o = 0, i = function () { }; return { s: i, n: function () { return o >= e.length ? { done: !0 } : { done: !1, value: e[o++] } }, e: function (e) { throw e }, f: i } } throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") } var a, s = !0, c = !1; return { s: function () { n = n.call(e) }, n: function () { var e = n.next(); return s = e.done, e }, e: function (e) { c = !0, a = e }, f: function () { try { s || null == n.return || n.return() } finally { if (c) throw a } } } } }, 8814: (e, t, n) => { "use strict"; function r() { if ("undefined" == typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" == typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], (function () { }))), !0 } catch (e) { return !1 } } n.d(t, { Z: () => r }) }, 2875: (e, t, n) => { "use strict"; function r(e, t, n) { return t in e ? Object.defineProperty(e, t, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : e[t] = n, e } function o(e, t) { var n = Object.keys(e); if (Object.getOwnPropertySymbols) { var r = Object.getOwnPropertySymbols(e); t && (r = r.filter((function (t) { return Object.getOwnPropertyDescriptor(e, t).enumerable }))), n.push.apply(n, r) } return n } function i(e) { for (var t = 1; t < arguments.length; t++) { var n = null != arguments[t] ? arguments[t] : {}; t % 2 ? o(Object(n), !0).forEach((function (t) { r(e, t, n[t]) })) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : o(Object(n)).forEach((function (t) { Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t)) })) } return e } n.d(t, { Z: () => i }) }, 4165: (e, t, n) => { "use strict"; n.d(t, { Z: () => o }); var r = n(1002); function o() { o = function () { return e }; var e = {}, t = Object.prototype, n = t.hasOwnProperty, i = Object.defineProperty || function (e, t, n) { e[t] = n.value }, a = "function" == typeof Symbol ? Symbol : {}, s = a.iterator || "@@iterator", c = a.asyncIterator || "@@asyncIterator", l = a.toStringTag || "@@toStringTag"; function u(e, t, n) { return Object.defineProperty(e, t, { value: n, enumerable: !0, configurable: !0, writable: !0 }), e[t] } try { u({}, "") } catch (e) { u = function (e, t, n) { return e[t] = n } } function d(e, t, n, r) { var o = t && t.prototype instanceof p ? t : p, a = Object.create(o.prototype), s = new D(r || []); return i(a, "_invoke", { value: C(e, n, s) }), a } function h(e, t, n) { try { return { type: "normal", arg: e.call(t, n) } } catch (e) { return { type: "throw", arg: e } } } e.wrap = d; var f = {}; function p() { } function _() { } function v() { } var m = {}; u(m, s, (function () { return this })); var g = Object.getPrototypeOf, A = g && g(g(x([]))); A && A !== t && n.call(A, s) && (m = A); var y = v.prototype = p.prototype = Object.create(m); function B(e) { ["next", "throw", "return"].forEach((function (t) { u(e, t, (function (e) { return this._invoke(t, e) })) })) } function b(e, t) { function o(i, a, s, c) { var l = h(e[i], e, a); if ("throw" !== l.type) { var u = l.arg, d = u.value; return d && "object" == (0, r.Z)(d) && n.call(d, "__await") ? t.resolve(d.__await).then((function (e) { o("next", e, s, c) }), (function (e) { o("throw", e, s, c) })) : t.resolve(d).then((function (e) { u.value = e, s(u) }), (function (e) { return o("throw", e, s, c) })) } c(l.arg) } var a; i(this, "_invoke", { value: function (e, n) { function r() { return new t((function (t, r) { o(e, n, t, r) })) } return a = a ? a.then(r, r) : r() } }) } function C(e, t, n) { var r = "suspendedStart"; return function (o, i) { if ("executing" === r) throw new Error("Generator is already running"); if ("completed" === r) { if ("throw" === o) throw i; return { value: void 0, done: !0 } } for (n.method = o, n.arg = i; ;) { var a = n.delegate; if (a) { var s = E(a, n); if (s) { if (s === f) continue; return s } } if ("next" === n.method) n.sent = n._sent = n.arg; else if ("throw" === n.method) { if ("suspendedStart" === r) throw r = "completed", n.arg; n.dispatchException(n.arg) } else "return" === n.method && n.abrupt("return", n.arg); r = "executing"; var c = h(e, t, n); if ("normal" === c.type) { if (r = n.done ? "completed" : "suspendedYield", c.arg === f) continue; return { value: c.arg, done: n.done } } "throw" === c.type && (r = "completed", n.method = "throw", n.arg = c.arg) } } } function E(e, t) { var n = e.iterator[t.method]; if (void 0 === n) { if (t.delegate = null, "throw" === t.method) { if (e.iterator.return && (t.method = "return", t.arg = void 0, E(e, t), "throw" === t.method)) return f; t.method = "throw", t.arg = new TypeError("The iterator does not provide a 'throw' method") } return f } var r = h(n, e.iterator, t.arg); if ("throw" === r.type) return t.method = "throw", t.arg = r.arg, t.delegate = null, f; var o = r.arg; return o ? o.done ? (t[e.resultName] = o.value, t.next = e.nextLoc, "return" !== t.method && (t.method = "next", t.arg = void 0), t.delegate = null, f) : o : (t.method = "throw", t.arg = new TypeError("iterator result is not an object"), t.delegate = null, f) } function w(e) { var t = { tryLoc: e[0] }; 1 in e && (t.catchLoc = e[1]), 2 in e && (t.finallyLoc = e[2], t.afterLoc = e[3]), this.tryEntries.push(t) } function k(e) { var t = e.completion || {}; t.type = "normal", delete t.arg, e.completion = t } function D(e) { this.tryEntries = [{ tryLoc: "root" }], e.forEach(w, this), this.reset(!0) } function x(e) { if (e) { var t = e[s]; if (t) return t.call(e); if ("function" == typeof e.next) return e; if (!isNaN(e.length)) { var r = -1, o = function t() { for (; ++r < e.length;)if (n.call(e, r)) return t.value = e[r], t.done = !1, t; return t.value = void 0, t.done = !0, t }; return o.next = o } } return { next: S } } function S() { return { value: void 0, done: !0 } } return _.prototype = v, i(y, "constructor", { value: v, configurable: !0 }), i(v, "constructor", { value: _, configurable: !0 }), _.displayName = u(v, l, "GeneratorFunction"), e.isGeneratorFunction = function (e) { var t = "function" == typeof e && e.constructor; return !!t && (t === _ || "GeneratorFunction" === (t.displayName || t.name)) }, e.mark = function (e) { return Object.setPrototypeOf ? Object.setPrototypeOf(e, v) : (e.__proto__ = v, u(e, l, "GeneratorFunction")), e.prototype = Object.create(y), e }, e.awrap = function (e) { return { __await: e } }, B(b.prototype), u(b.prototype, c, (function () { return this })), e.AsyncIterator = b, e.async = function (t, n, r, o, i) { void 0 === i && (i = Promise); var a = new b(d(t, n, r, o), i); return e.isGeneratorFunction(n) ? a : a.next().then((function (e) { return e.done ? e.value : a.next() })) }, B(y), u(y, l, "Generator"), u(y, s, (function () { return this })), u(y, "toString", (function () { return "[object Generator]" })), e.keys = function (e) { var t = Object(e), n = []; for (var r in t) n.push(r); return n.reverse(), function e() { for (; n.length;) { var r = n.pop(); if (r in t) return e.value = r, e.done = !1, e } return e.done = !0, e } }, e.values = x, D.prototype = { constructor: D, reset: function (e) { if (this.prev = 0, this.next = 0, this.sent = this._sent = void 0, this.done = !1, this.delegate = null, this.method = "next", this.arg = void 0, this.tryEntries.forEach(k), !e) for (var t in this) "t" === t.charAt(0) && n.call(this, t) && !isNaN(+t.slice(1)) && (this[t] = void 0) }, stop: function () { this.done = !0; var e = this.tryEntries[0].completion; if ("throw" === e.type) throw e.arg; return this.rval }, dispatchException: function (e) { if (this.done) throw e; var t = this; function r(n, r) { return a.type = "throw", a.arg = e, t.next = n, r && (t.method = "next", t.arg = void 0), !!r } for (var o = this.tryEntries.length - 1; o >= 0; --o) { var i = this.tryEntries[o], a = i.completion; if ("root" === i.tryLoc) return r("end"); if (i.tryLoc <= this.prev) { var s = n.call(i, "catchLoc"), c = n.call(i, "finallyLoc"); if (s && c) { if (this.prev < i.catchLoc) return r(i.catchLoc, !0); if (this.prev < i.finallyLoc) return r(i.finallyLoc) } else if (s) { if (this.prev < i.catchLoc) return r(i.catchLoc, !0) } else { if (!c) throw new Error("try statement without catch or finally"); if (this.prev < i.finallyLoc) return r(i.finallyLoc) } } } }, abrupt: function (e, t) { for (var r = this.tryEntries.length - 1; r >= 0; --r) { var o = this.tryEntries[r]; if (o.tryLoc <= this.prev && n.call(o, "finallyLoc") && this.prev < o.finallyLoc) { var i = o; break } } i && ("break" === e || "continue" === e) && i.tryLoc <= t && t <= i.finallyLoc && (i = null); var a = i ? i.completion : {}; return a.type = e, a.arg = t, i ? (this.method = "next", this.next = i.finallyLoc, f) : this.complete(a) }, complete: function (e, t) { if ("throw" === e.type) throw e.arg; return "break" === e.type || "continue" === e.type ? this.next = e.arg : "return" === e.type ? (this.rval = this.arg = e.arg, this.method = "return", this.next = "end") : "normal" === e.type && t && (this.next = t), f }, finish: function (e) { for (var t = this.tryEntries.length - 1; t >= 0; --t) { var n = this.tryEntries[t]; if (n.finallyLoc === e) return this.complete(n.completion, n.afterLoc), k(n), f } }, catch: function (e) { for (var t = this.tryEntries.length - 1; t >= 0; --t) { var n = this.tryEntries[t]; if (n.tryLoc === e) { var r = n.completion; if ("throw" === r.type) { var o = r.arg; k(n) } return o } } throw new Error("illegal catch attempt") }, delegateYield: function (e, t, n) { return this.delegate = { iterator: x(e), resultName: t, nextLoc: n }, "next" === this.method && (this.arg = void 0), f } }, e } }, 9611: (e, t, n) => { "use strict"; function r(e, t) { return r = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (e, t) { return e.__proto__ = t, e }, r(e, t) } n.d(t, { Z: () => r }) }, 6854: (e, t, n) => { "use strict"; n.d(t, { Z: () => o }); var r = n(181); function o(e, t) { return function (e) { if (Array.isArray(e)) return e }(e) || function (e, t) { var n = null == e ? null : "undefined" != typeof Symbol && e[Symbol.iterator] || e["@@iterator"]; if (null != n) { var r, o, i = [], a = !0, s = !1; try { for (n = n.call(e); !(a = (r = n.next()).done) && (i.push(r.value), !t || i.length !== t); a = !0); } catch (e) { s = !0, o = e } finally { try { a || null == n.return || n.return() } finally { if (s) throw o } } return i } }(e, t) || (0, r.Z)(e, t) || function () { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") }() } }, 1451: (e, t, n) => { "use strict"; n.d(t, { Z: () => i }); var r = n(907), o = n(181); function i(e) { return function (e) { if (Array.isArray(e)) return (0, r.Z)(e) }(e) || function (e) { if ("undefined" != typeof Symbol && null != e[Symbol.iterator] || null != e["@@iterator"]) return Array.from(e) }(e) || (0, o.Z)(e) || function () { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") }() } }, 1002: (e, t, n) => { "use strict"; function r(e) { return r = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e }, r(e) } n.d(t, { Z: () => r }) }, 181: (e, t, n) => { "use strict"; n.d(t, { Z: () => o }); var r = n(907); function o(e, t) { if (e) { if ("string" == typeof e) return (0, r.Z)(e, t); var n = Object.prototype.toString.call(e).slice(8, -1); return "Object" === n && e.constructor && (n = e.constructor.name), "Map" === n || "Set" === n ? Array.from(e) : "Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? (0, r.Z)(e, t) : void 0 } } }, 3812: e => { "use strict"; e.exports = JSON.parse('{"zh":{"@ask.media.text":"点击允许媒体播放","@ask.accelerometer.text":"点击允许访问设备运动传感器","@error.accelerometer.text":"运动传感器的权限被拒绝","@ask.camera.text":"请允许相机进入查看AR","@error.camera.text":"摄像机被拒绝进入","@ask.fullscreen.text":"请允许全屏模式","@error.fullscreen.text":"全屏模式被拒绝，部分交互功能可能无法使用。点击继续","@loading.scene.text":"正在加载... 请等待","@ask.svo.add.scene.text":"在表面上轻敲以放置物体","@moveinit.svo.tracking.text":"缓慢地左右移动您的设备","@lost.svo.tracking.text":"表面丢失，请返回初始位置","@wechat_ios.negotiation.browser.text":"要查看AR内容，请离开微信，在Safari中打开这个页面。","@open_safari.negotiation.browser.text":"要查看AR内容，请离开当前的浏览器，在Safari中打开此页面。","@open_chrome.negotiation.browser.text":"要查看AR内容，请离开当前浏览器，并在谷歌浏览器中打开此页面。","@no_video.negotiation.browser.text":"AR需要有设备和浏览器，并能接入摄像头","@no_accelerometer.negotiation.browser.text":"AR需要有运动传感器访问的设备和浏览器","@show_image.marker.tracking.text":"将相机指向图像上方","@show_qr.marker.tracking.text":"将摄像头对准二维码","@show_qr.marker.scanner.text":"将摄像头对准二维码","@link_result.marker.scanner.text":"点击关注链接。{content}","@text_result.marker.scanner.text":"案文为： {content}"},"ru":{"@ask.media.text":"Нажмите, чтобы разрешить воспроизведение контента","@ask.accelerometer.text":"Нажмите, чтобы разрешить доступ к датчикам движения","@error.accelerometer.text":"Доступ к датчикам устройства был запрещен","@ask.camera.text":"Пожалуйста, разрешите доступ к камере для дополненной реальности","@error.camera.text":"Доступ к камере был запрещен","@ask.fullscreen.text":"Пожалуйста разрешите полноэкранный режим","@error.fullscreen.text":"Полноэкранный режим был запрещен, интерактивный функционал может быть недоступен. Нажмите, чтобы продолжить","@loading.scene.text":"Подождите, пока сцена загрузится","@ask.svo.add.scene.text":"Нажмите на поверхность, чтобы разместить сцену","@moveinit.svo.tracking.text":"Медленно перемещайте устройство из стороны в сторону","@lost.svo.tracking.text":"Плоскость потеряна, наведите камеру на первоначальную позицию","@wechat_ios.negotiation.browser.text":"Чтобы использовать AR, перейдите из WeChat в Safari","@open_safari.negotiation.browser.text":"Чтобы использовать AR, перейдите из текущего браузера в Safari","@open_chrome.negotiation.browser.text":"Чтобы использовать AR, перейдите из текущего браузера в Google Chrome","@no_video.negotiation.browser.text":"Для дополненной реальности требуется браузер с доступом к камере","@no_accelerometer.negotiation.browser.text":"Для дополненной реальности требуется браузер с доступом к датчикам движения","@show_image.marker.tracking.text":"Наведите камеру на изображение","@show_qr.marker.tracking.text":"Наведите камеру на QR-код","@show_qr.marker.scanner.text":"Наведите камеру на QR-код","@link_result.marker.scanner.text":"Нажмите, чтобы перейти по ссылке: {content}","@text_result.marker.scanner.text":"Текст: {content}"},"pt":{"@ask.media.text":"Toque para permitir a reprodução de meios","@ask.accelerometer.text":"Toque para permitir o acesso aos sensores de movimento do dispositivos","@error.accelerometer.text":"As permissões dos sensores de movimento foram negadas","@ask.camera.text":"Permitir o acesso à câmara para ver AR","@error.camera.text":"O acesso à câmara foi negado","@ask.fullscreen.text":"Permitir o modo de ecrã inteiro","@error.fullscreen.text":"O modo ecrã inteiro foi negado, algumas funções interactivas podem não funcionar. Toque para continuar de qualquer forma","@loading.scene.text":"Carregando... Por favor, aguarde","@ask.svo.add.scene.text":"Bater na superfície para colocar o objeto","@moveinit.svo.tracking.text":"Mova lentamente o seu dispositivo de um lado para o outro","@lost.svo.tracking.text":"Superfície perdida, por favor regressar à posição inicial","@wechat_ios.negotiation.browser.text":"Para ver o conteúdo de AR deixe o WeChat e abra esta página no Safari","@open_safari.negotiation.browser.text":"Para ver o conteúdo de RA deixe o browser actual e abra esta página no Safari","@open_chrome.negotiation.browser.text":"Para ver o conteúdo de RA deixe o browser actual e abra esta página no Google Chrome","@no_video.negotiation.browser.text":"RA requer um dispositivo e um browser com acesso à câmara","@no_accelerometer.negotiation.browser.text":"RA requer um dispositivo e um browser com acesso a sensores de movimento","@show_image.marker.tracking.text":"Apontar a câmara sobre a imagem","@show_qr.marker.tracking.text":"Apontar a câmara sobre o código QR","@show_qr.marker.scanner.text":"Apontar a câmara sobre um código QR","@link_result.marker.scanner.text":"Toque para seguir a ligação: {content}","@text_result.marker.scanner.text":"O texto é: {content}"},"ja":{"@ask.media.text":"タップしてメディアの再生を許可する","@ask.accelerometer.text":"タップしてデバイスのモーションセンサーへのアクセスを許可する","@error.accelerometer.text":"モーションセンサーの許可が拒否された","@ask.camera.text":"ARを見るためにカメラアクセスを許可してください","@error.camera.text":"カメラのアクセスが拒否された","@ask.fullscreen.text":"フルスクリーンモードを許可してください","@error.fullscreen.text":"フルスクリーンモードが拒否され、一部のインタラクティブ機能が動作しない場合があります。タップして続行","@loading.scene.text":"読み込み中... お待ちください","@ask.svo.add.scene.text":"表面をタップしてオブジェクトを配置","@moveinit.svo.tracking.text":"ゆっくりとデバイスを左右に移動させる","@lost.svo.tracking.text":"表面が失われました、初期位置に戻してください","@wechat_ios.negotiation.browser.text":"ARコンテンツを表示するには、WeChatを離れてSafariでこのページを開きます。","@open_safari.negotiation.browser.text":"ARコンテンツを表示するには、現在のブラウザのままSafariでこのページを開いてください。","@open_chrome.negotiation.browser.text":"ARコンテンツを表示するには、現在のブラウザのままGoogle Chromeでこのページを開いてください。","@no_video.negotiation.browser.text":"ARはカメラにアクセスできるデバイスとブラウザが必要","@no_accelerometer.negotiation.browser.text":"ARにはモーションセンサーでアクセスできるデバイスとブラウザが必要","@show_image.marker.tracking.text":"画像の上にカメラを向ける","@show_qr.marker.tracking.text":"QRコードにカメラを向ける","@show_qr.marker.scanner.text":"QRコードにカメラを向ける","@link_result.marker.scanner.text":"タップしてリンクをたどる {content}","@text_result.marker.scanner.text":"テキストは次のとおりです。{content}"},"es":{"@ask.media.text":"Puntee para permitir la reproducción de medios","@ask.accelerometer.text":"Pulse para permitir el acceso a los sensores de movimiento del dispositivo","@error.accelerometer.text":"Los permisos de los sensores de movimiento fueron denegados","@ask.camera.text":"Por favor, permita el acceso de la cámara para ver RA","@error.camera.text":"El acceso a la cámara fue denegado","@ask.fullscreen.text":"Por favor, permita el modo de pantalla completa","@error.fullscreen.text":"El modo de pantalla completa fue negado, algunas funciones interactivas pueden no funcionar. Pulse para continuar de todos modos","@loading.scene.text":"Cargando... Espere por favor","@ask.svo.add.scene.text":"Toca en la superficie para colocar el objeto","@moveinit.svo.tracking.text":"Mueva lentamente su dispositivo de un lado a otro","@lost.svo.tracking.text":"Superficie perdida, volver a la posición inicial","@wechat_ios.negotiation.browser.text":"Para ver el contenido de RA deje el navegador WeChat y abra esta página en Safari","@open_safari.negotiation.browser.text":"Para ver el contenido de RA deje el navegador actual y abra esta página en Safari","@open_chrome.negotiation.browser.text":"Para ver el contenido de RA, abandone el navegador actual y abra esta página en Google Chrome","@no_video.negotiation.browser.text":"La RA requiere un dispositivo y un navegador con acceso a la cámara","@no_accelerometer.negotiation.browser.text":"La RA requiere un dispositivo y un navegador con acceso a los sensores de movimiento","@show_image.marker.tracking.text":"Apunta la cámara sobre la imagen","@show_qr.marker.tracking.text":"Apunta la cámara sobre el código QR","@show_qr.marker.scanner.text":"Apunta la cámara sobre el código QR","@link_result.marker.scanner.text":"Pulse para seguir el enlace: {content}","@text_result.marker.scanner.text":"TEl texto es: {content}"},"en":{"@ask.media.text":"Tap to allow media playback","@ask.accelerometer.text":"Tap to allow access to device motion sensors","@error.accelerometer.text":"Motion sensors permissions were denied","@ask.camera.text":"Please allow camera access to see AR","@error.camera.text":"Camera access was denied","@ask.fullscreen.text":"Please allow fullscreen mode","@error.fullscreen.text":"Fullscreen mode was denied, some interactive functions may not work. Tap to continue anyway","@loading.scene.text":"Please wait until the scene is loaded","@ask.svo.add.scene.text":"Tap on surface to place the scene","@ask.instant.add.scene.text":"Tap on screen to place the scene","@ask.instant.transform.scene.text":"Pinch to zoom or rotate the scene","@moveinit.svo.tracking.text":"Slowly move your device from side to side","@lost.svo.tracking.text":"Tracking lost, move back to the initial position","@wechat_ios.negotiation.browser.text":"To view AR content leave WeChat browser and open this page in Safari","@open_safari.negotiation.browser.text":"To view AR content leave current browser and open this page in Safari","@open_chrome.negotiation.browser.text":"To view AR content leave current browser and open this page in Google Chrome","@no_video.negotiation.browser.text":"AR requires a device and browser with camera access","@no_accelerometer.negotiation.browser.text":"AR requires a device and browser with motion sensors access","@show_image.marker.tracking.text":"Point the camera over the image","@show_qr.marker.tracking.text":"Point the camera over the QR code","@show_qr.marker.scanner.text":"Point the camera over a QR code","@link_result.marker.scanner.text":"Tap to follow the link: {content}","@text_result.marker.scanner.text":"The text is: {content}"},"de":{"@ask.accelerometer.text":"Tippen Sie hier, um den Zugriff auf die Bewegungssensoren des Geräts zuzulassen","@ask.media.text":"Tippen um die Medienwiedergabe zu erlauben","@ask.camera.text":"Bitte erlaube den Kamerazugriff, um die AR Experience starten zu können"}}') } }, t = {}; function n(r) { var o = t[r]; if (void 0 !== o) return o.exports; var i = t[r] = { id: r, exports: {} }; return e[r](i, i.exports, n), i.exports } n.n = e => { var t = e && e.__esModule ? () => e.default : () => e; return n.d(t, { a: t }), t }, n.d = (e, t) => { for (var r in t) n.o(t, r) && !n.o(e, r) && Object.defineProperty(e, r, { enumerable: !0, get: t[r] }) }, n.g = function () { if ("object" == typeof globalThis) return globalThis; try { return this || new Function("return this")() } catch (e) { if ("object" == typeof window) return window } }(), n.o = (e, t) => Object.prototype.hasOwnProperty.call(e, t), n.r = e => { "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(e, "__esModule", { value: !0 }) }, n.nc = void 0, (() => { "use strict"; var e = n(821); n(4043), n(6181); var t = (0, e.createApp)({ data: function () { return { window: window, d: {} } } }); t.mixin({ methods: { t_: function () { var e; return (e = window).__.apply(e, arguments) } } }), Object.assign(window, { ViewerPage: t.component("ViewerPage", n(2965).Z), QrScanner: t.component("QrScanner", n(5767).Z) }), document.addEventListener("DOMContentLoaded", (function () { t.mount("#app") })) })() })();